namespace = dg_reformation
province_event = {
	id = dg_reformation.001
	title = dg_reformation.001.t
	desc = dg_reformation.001.d
	picture = protestant_reformation
	is_triggered_only = yes
	immediate = {
		set_global_flag = reformation_ninety_five_theses
		custom_tooltip = dg_reformation.001.owner
		hidden_effect = {
			owner = {
				every_country = {
					limit = {
						OR = {
							is_papal_controller = yes
							event_target:reformation_origins_disputation = {
								owned_by = PREV
							}
							event_target:reformation_origins_archbishop = {
								owned_by = PREV
							}
							AND = {
								OR = {
									has_country_flag = religious_news_major
									ai = yes
								}
								religion = catholic
								OR = {
									AND = {
										ROOT = {
											is_part_of_hre = yes
										}
										is_emperor = yes
									}
									government = theocracy
									overlord_of = PREV
									is_subject_of = PREV
									PREV = {
										overlord = {
											overlord_of = ROOT
										}
									}
									is_neighbor_of = PREV
								}
							}
							AND = {
								OR = {
									has_country_flag = religious_news_trivial
									ai = yes
								}
								religion = catholic
								OR = {
									is_rival = PREV
									is_enemy = PREV
									alliance_with = PREV
									marriage_with = PREV
									culture_group = ROOT
									has_country_flag = humanism
								}
							}
							AND = {
								OR = {
									has_country_flag = religious_news_all
									ai = yes
								}
								OR = {
									religion = catholic
									any_owned_province = {
										has_province_flag = humanist_ideas
									}
									overlord_of = PREV
									is_neighbor_of = PREV
									is_rival = PREV
									is_enemy = PREV
									is_subject_of = PREV
									alliance_with = PREV
									marriage_with = PREV
									culture_group = ROOT
								}
							}
						}
						NOT = {
							tag = ROOT
						}
					}
					set_country_flag = ninety_five_theses
				}
				every_country = {
					limit = {
						ai = no
						NOT = {
							has_country_flag = ninety_five_theses
						}
					}
					if = {
						limit = {
							has_country_flag = humanism
						}
						random_owned_province = {
							limit = {
								OR = {
									NOT = {
										has_province_flag = renaissance_ideas
									}
									AND = {
										is_in_capital_area = no
										owner = {
											has_country_flag = renaissance
										}
									}
								}
								religion = catholic
								OR = {
									continent = europe
									is_in_capital_area = yes
								}
								is_city = yes
							}
							random = {
								chance = 70
								custom_tooltip = heretic_20
								hidden_effect = {
									change_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
						}
						random_owned_province = {
							limit = {
								event_target:reformation_origins = {
									culture_group = PREV
								}
								religion = catholic
								OR = {
									continent = europe
									is_in_capital_area = yes
								}
								is_city = yes
							}
							random = {
								chance = 40
								custom_tooltip = heretic_20
								hidden_effect = {
									change_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
						}
					}
					else = {
						random_owned_province = {
							limit = {
								OR = {
									NOT = {
										has_province_flag = renaissance_ideas
									}
									AND = {
										is_in_capital_area = no
										owner = {
											has_country_flag = renaissance
										}
									}
								}
								religion = catholic
								OR = {
									continent = europe
									is_in_capital_area = yes
								}
								is_city = yes
							}
							random = {
								chance = 30
								custom_tooltip = heretic_20
								hidden_effect = {
									change_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
						}
						random_owned_province = {
							limit = {
								event_target:reformation_origins = {
									culture_group = PREV
								}
								religion = catholic
								OR = {
									continent = europe
									is_in_capital_area = yes
								}
								is_city = yes
							}
							random = {
								chance = 20
								custom_tooltip = heretic_20
								hidden_effect = {
									change_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
						}
					}
				}
				every_country = {
					limit = {
						has_country_flag = ninety_five_theses
					}
					clr_country_flag = ninety_five_theses
					country_event = {
						id = dg_reformation.002
						days = 30
					}
				}
			}
			random_province = {
				limit = {
					OR = {
						culture = ROOT
						owner = {
							any_owned_province = {
								province_id = ROOT
							}
						}
					}
					AND = {
						has_province_flag = university_present
					}
					religion = catholic
				}
				set_province_flag = protestant_disputation
				save_global_event_target_as = reformation_origins_disputation
			}
			if = {
				limit = {
					NOT = {
						any_province = {
							has_province_flag = protestant_disputation
						}
					}
				}
				random_province = {
					limit = {
						OR = {
							culture = ROOT
							owner = {
								any_owned_province = {
									province_id = ROOT
								}
							}
						}
						has_province_flag = catholic_archbishopric
						religion = catholic
					}
					set_province_flag = protestant_disputation
					save_global_event_target_as = reformation_origins_disputation
				}
			}
			if = {
				limit = {
					NOT = {
						any_province = {
							has_province_flag = protestant_disputation
						}
					}
				}
				random_province = {
					limit = {
						owner = {
							any_owned_province = {
								province_id = ROOT
							}
						}
						religion = catholic
					}
					set_province_flag = protestant_disputation
					save_global_event_target_as = reformation_origins_disputation
				}
			}
			if = {
				limit = {
					NOT = {
						any_province = {
							has_province_flag = protestant_disputation
						}
					}
				}
				random_province = {
					limit = {
						culture = ROOT
						religion = catholic
					}
					set_province_flag = protestant_disputation
					save_global_event_target_as = reformation_origins_disputation
				}
			}
		}
	}
	option = {
		name = dg_reformation.001.a
		custom_tooltip = heretic_20
		hidden_effect = {
			owner = {
				change_variable = {
					which = support_for_reform
					value = 1
				}
				set_country_flag = useful_protestant
				change_variable = {
					which = minority_usefulness
					value = 5
				}
			}
			every_country = {
				limit = {
					religion = catholic
					NOT = {
						has_country_flag = humanism
					}
					NOT = {
						has_country_flag = renaissance
					}
					check_variable = {
						which = catholic_corruption
						value = 10
					}
					NOT = {
						ai = yes
					}
				}
				set_country_flag = humanism
			}
		}
		hidden_effect = {
			change_variable = {
				which = protestant_supporters
				value = 8
			}
		}
	}
}
country_event = {
	id = dg_reformation.002
	title = dg_reformation.001.t
	desc = dg_reformation.001.d
	picture = protestant_reformation
	is_triggered_only = yes
	option = {
		name = dg_reformation.001.a
		trigger = {
			any_owned_province = {
				has_province_flag = reformation_origins_archbishop
			}
		}
		ai_chance = {
			factor = 25
		}
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = obeyed_religious_leader
				}
			}
		}
	}
	option = {
		name = dg_reformation.001.b
		trigger = {
			NOT = {
				OR = {
					is_papal_controller = yes
					AND = {
						OR = {
							has_reform = papacy_reform
							has_reform = papal_government
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 15
		}
		random_owned_province = {
			limit = {
				OR = {
					NOT = {
						has_province_flag = renaissance_ideas
					}
					AND = {
						is_in_capital_area = no
						owner = {
							has_country_flag = renaissance
						}
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 70
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = {
					culture_group = PREV
				}
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 40
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.001.c
		trigger = {
			OR = {
				is_papal_controller = yes
				AND = {
					OR = {
						has_reform = papacy_reform
						has_reform = papal_government
					}
				}
			}
		}
		ai_chance = {
			factor = 15
		}
		remove_country_modifier = religious_tolerance
		add_country_modifier = {
			name = religious_intolerance
			duration = 500
		}
		random_owned_province = {
			limit = {
				OR = {
					NOT = {
						has_province_flag = renaissance_ideas
					}
					AND = {
						is_in_capital_area = no
						owner = {
							has_country_flag = renaissance
						}
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = {
					culture_group = PREV
				}
				religion = catholic
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.001.e
		trigger = {
			advisor = theologian
			NOT = {
				OR = {
					is_papal_controller = yes
					AND = {
						OR = {
							has_reform = papacy_reform
							has_reform = papal_government
						}
					}
				}
			}
			piety = -0.60
		}
		ai_chance = {
			factor = 15
		}
		add_adm_power = -5
		add_papal_influence = 5
		set_country_flag = rebuttal_of_ninety_five_theses
		remove_country_modifier = religious_tolerance
		add_country_modifier = {
			name = religious_intolerance
			duration = 500
		}
		random_owned_province = {
			limit = {
				OR = {
					NOT = {
						has_province_flag = renaissance_ideas
					}
					AND = {
						is_in_capital_area = no
						owner = {
							has_country_flag = renaissance
						}
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = {
					culture_group = PREV
				}
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.001.f
		trigger = {
			advisor = inquisitor
			NOT = {
				OR = {
					is_papal_controller = yes
					AND = {
						OR = {
							has_reform = papacy_reform
							has_reform = papal_government
						}
					}
				}
			}
			piety = -0.60
		}
		ai_chance = {
			factor = 15
		}
		add_adm_power = -5
		add_papal_influence = 5
		set_country_flag = rebuttal_of_ninety_five_theses
		remove_country_modifier = religious_tolerance
		add_country_modifier = {
			name = religious_intolerance
			duration = 500
		}
		random_owned_province = {
			limit = {
				OR = {
					NOT = {
						has_province_flag = renaissance_ideas
					}
					AND = {
						is_in_capital_area = no
						owner = {
							has_country_flag = renaissance
						}
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = {
					culture_group = PREV
				}
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.001.g
		trigger = {
			ADM = 5
			NOT = {
				OR = {
					is_papal_controller = yes
					AND = {
						OR = {
							has_reform = papacy_reform
							has_reform = papal_government
						}
					}
				}
			}
			piety = -0.20
		}
		ai_chance = {
			factor = 15
		}
		add_adm_power = -5
		add_papal_influence = 5
		set_country_flag = rebuttal_of_ninety_five_theses
		remove_country_modifier = religious_tolerance
		add_country_modifier = {
			name = religious_intolerance
			duration = 500
		}
		random_owned_province = {
			limit = {
				OR = {
					NOT = {
						has_province_flag = renaissance_ideas
					}
					AND = {
						is_in_capital_area = no
						owner = {
							has_country_flag = renaissance
						}
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = {
					culture_group = PREV
				}
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.003
	title = dg_reformation.003.t
	desc = dg_reformation.003.d
	picture = protestant_reformers
	trigger = {
		has_global_flag = reformation_ninety_five_theses
		had_global_flag = {
			flag = reformation_ninety_five_theses
			days = 90
		}
		NOT = {
			is_religion_enabled = protestant
		}
		OR = {
			religion = catholic
			religion = protestant
		}
		any_owned_province = {
			OR = {
				has_province_flag = humanist_ideas
				event_target:reformation_origins = {
					culture_group = PREV
				}
				has_province_flag = wartburg
			}
		}
		NOT = {
			has_country_flag = protestant_ideas
		}
		OR = {
			capital_scope = {
				continent = europe
			}
			is_former_colonial_nation = yes
		}
	}
	mean_time_to_happen = {
		years = 10
		modifier = {
			any_owned_province = {
				has_province_flag = wartburg
			}
			factor = 0.25
		}
		modifier = {
			any_owned_province = {
				has_province_flag = reformation_origins
			}
			factor = 0.25
		}
		modifier = {
			has_country_flag = renaissance
			factor = 3
		}
		modifier = {
			event_target:reformation_origins = {
				culture_group = ROOT
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = protestant_ideas
		if = {
			limit = {
				has_country_flag = exsurge_domine
			}
			custom_tooltip = dg_reformation.003.excommunicated
		}
		else = {
			custom_tooltip = dg_reformation.003.early
		}
	}
	option = {
		name = dg_reformation.003.a
		ai_chance = {
			factor = 50
			modifier = {
				has_country_flag = renaissance
				religion = catholic
				factor = 0
			}
		}
		remove_country_modifier = religious_intolerance
		if = {
			limit = {
				any_owned_province = {
					has_province_modifier = absentee_bishop
				}
			}
			every_owned_province = {
				limit = {
					has_province_modifier = absentee_bishop
				}
				remove_province_modifier = absentee_bishop
			}
		}
		if = {
			limit = {
				any_owned_province = {
					has_province_modifier = greedy_bishop
				}
			}
			every_owned_province = {
				limit = {
					has_province_modifier = greedy_bishop
				}
				remove_province_modifier = greedy_bishop
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		add_country_modifier = {
			name = religious_tolerance
			duration = 500
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = renaissance
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_devotion = 8
				add_legitimacy = 4
				add_republican_tradition = 2
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_devotion = 6
				add_legitimacy = 3
				add_republican_tradition = 1.5
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_devotion = 4
				add_legitimacy = 2
				add_republican_tradition = 1
			}
			else_if = {
				limit = {
					piety = -0.60
				}
				add_devotion = 2
				add_legitimacy = 1
				add_republican_tradition = 0.5
			}
		}
		add_papal_influence = -5
		if = {
			limit = {
				NOT = {
					has_country_flag = humanism
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 1000
			}
			if = {
				limit = {
					patriarch_authority = 0.80
				}
				add_country_modifier = {
					name = unhappy_church_powerful
					duration = 500
				}
			}
			else_if = {
				limit = {
					patriarch_authority = 0.60
				}
				add_country_modifier = {
					name = unhappy_church_strong
					duration = 500
				}
			}
			else_if = {
				limit = {
					patriarch_authority = 0.40
				}
				add_country_modifier = {
					name = unhappy_church_moderate
					duration = 500
				}
			}
			else_if = {
				limit = {
					patriarch_authority = 0.20
				}
				add_country_modifier = {
					name = unhappy_church_weak
					duration = 500
				}
			}
			else = {
				add_country_modifier = {
					name = unhappy_church_impotent
					duration = 500
				}
			}
		}
		random = {
			chance = 50
			custom_tooltip = heretic_20
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
					OR = {
						AND = {
							owner = {
								has_country_flag = humanism
							}
							has_owner_culture = yes
						}
						AND = {
							owner = {
								has_country_flag = renaissance
							}
							NOT = {
								culture_group = owner
							}
						}
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.003.b
		trigger = {
			NOT = {
				religion = protestant
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				has_country_flag = humanism
				factor = 0
			}
			modifier = {
				NOT = {
					religion = catholic
				}
				factor = 0
			}
		}
		random = {
			chance = 25
			custom_tooltip = heretic_20
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 20
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
					OR = {
						AND = {
							owner = {
								has_country_flag = humanism
							}
							has_owner_culture = yes
						}
						AND = {
							owner = {
								has_country_flag = renaissance
							}
							NOT = {
								culture_group = owner
							}
						}
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 30
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
		}
	}
}
province_event = {
	id = dg_reformation.004
	title = dg_reformation.004.t
	desc = dg_reformation.004.d
	picture = protestant_disputation
	trigger = {
		has_global_flag = reformation_ninety_five_theses
		NOT = {
			is_religion_enabled = protestant
		}
		AND = {
			has_province_flag = university_present
		}
		religion = catholic
		OR = {
			has_province_flag = humanist_ideas
			event_target:reformation_origins = {
				OR = {
					culture_group = ROOT
					region = ROOT
				}
			}
		}
		NOT = {
			has_province_flag = protestantism_debated
		}
	}
	mean_time_to_happen = {
		years = 10
		modifier = {
			event_target:reformation_origins = {
				OR = {
					culture_group = ROOT
					region = ROOT
				}
			}
			factor = 0.5
		}
		modifier = {
			event_target:reformation_origins = {
				culture = ROOT
			}
			factor = 0.5
		}
	}
	immediate = {
		set_province_flag = protestantism_debated
	}
	option = {
		name = dg_reformation.004.a
		if = {
			limit = {
				OR = {
					NOT = {
						has_province_flag = renaissance_ideas
					}
					AND = {
						is_in_capital_area = no
						owner = {
							has_country_flag = renaissance
						}
					}
				}
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 70
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
		if = {
			limit = {
				event_target:reformation_origins = {
					OR = {
						culture_group = ROOT
						region = ROOT
					}
				}
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 40
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
	}
}
province_event = {
	id = dg_reformation.005
	title = dg_reformation.005.t
	desc = dg_reformation.005.d
	picture = protestant_disputation
	is_triggered_only = yes
	immediate = {
		set_global_flag = reformation_leipzig_disputation
		hidden_effect = {
			if = {
				limit = {
					owner = {
						any_owned_province = {
							AND = {
								has_province_flag = university_present
							}
							religion = catholic
							OR = {
								culture_group = ROOT
								superregion = ROOT
							}
							continent = europe
						}
					}
				}
				owner = {
					random_owned_province = {
						limit = {
							AND = {
								has_province_flag = university_present
							}
							religion = catholic
							OR = {
								culture_group = ROOT
								superregion = ROOT
							}
							continent = europe
						}
					}
					set_province_flag = debate_verdict
				}
			}
			if = {
				limit = {
					owner = {
						NOT = {
							any_owned_province = {
								AND = {
									has_province_flag = university_present
								}
								religion = catholic
								OR = {
									culture_group = ROOT
									superregion = ROOT
								}
								continent = europe
							}
						}
					}
				}
				owner = {
					random_owned_province = {
						limit = {
							has_province_flag = catholic_archbishopric
							religion = catholic
							OR = {
								culture_group = ROOT
								superregion = ROOT
							}
							continent = europe
						}
					}
					set_province_flag = debate_verdict
				}
			}
			random_province = {
				limit = {
					AND = {
						has_province_flag = university_present
					}
					religion = catholic
					continent = europe
					owner = {
						religion = catholic
						NOT = {
							AND = {
								OR = {
									has_reform = papacy_reform
									has_reform = papal_government
								}
							}
						}
					}
					owner = {
						NOT = {
							any_owned_province = {
								has_province_flag = debate_verdict
							}
						}
					}
				}
				set_province_flag = debate_verdict
			}
			owner = {
				every_country = {
					limit = {
						OR = {
							is_papal_controller = yes
							any_owned_province = {
								has_province_flag = reformation_origins
							}
							any_owned_province = {
								has_province_flag = debate_verdict
							}
							AND = {
								has_country_flag = religious_news_major
								religion = catholic
								OR = {
									government = theocracy
									overlord_of = PREV
									is_subject_of = PREV
									is_neighbor_of = PREV
								}
							}
							AND = {
								has_country_flag = religious_news_trivial
								religion = catholic
								OR = {
									is_rival = PREV
									is_enemy = PREV
									alliance_with = PREV
									marriage_with = PREV
									culture_group = PREV
								}
							}
							AND = {
								has_country_flag = religious_news_all
								any_known_country = {
									tag = PREV
								}
								OR = {
									religion = catholic
									overlord_of = PREV
									is_neighbor_of = PREV
									is_rival = PREV
									is_enemy = PREV
									is_subject_of = PREV
									alliance_with = PREV
									marriage_with = PREV
									culture_group = PREV
								}
							}
						}
						NOT = {
							tag = ROOT
						}
					}
					country_event = {
						id = dg_reformation.006
						days = 30
					}
				}
			}
			every_province = {
				limit = {
					has_province_flag = debate_verdict
				}
				province_event = {
					id = dg_reformation.022
					days = 900
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					has_province_flag = debate_verdict
				}
			}
			custom_tooltip = dg_reformation.006.university
		}
	}
	option = {
		name = dg_reformation.005.a
		trigger = {
			NOT = {
				owner = {
					OR = {
						AND = {
							OR = {
								has_reform = papacy_reform
								has_reform = papal_government
							}
						}
						is_papal_controller = yes
					}
				}
			}
		}
		if = {
			limit = {
				OR = {
					NOT = {
						has_province_flag = renaissance_ideas
					}
					AND = {
						is_in_capital_area = no
						owner = {
							has_country_flag = renaissance
						}
					}
				}
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 70
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
		if = {
			limit = {
				event_target:reformation_origins = {
					OR = {
						culture_group = ROOT
						region = ROOT
					}
				}
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 40
				custom_tooltip = heretic_20
				hidden_effect = {
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.005.b
		trigger = {
			owner = {
				OR = {
					AND = {
						OR = {
							has_reform = papacy_reform
							has_reform = papal_government
						}
					}
					is_papal_controller = yes
				}
			}
		}
		owner = {
			add_adm_power = -10
		}
	}
}
country_event = {
	id = dg_reformation.006
	title = dg_reformation.005.t
	desc = dg_reformation.005.d
	picture = protestant_disputation
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				any_owned_province = {
					has_province_flag = debate_verdict
				}
			}
			custom_tooltip = dg_reformation.006.university
		}
	}
	option = {
		name = dg_reformation.005.a
		trigger = {
			NOT = {
				AND = {
					OR = {
						has_reform = papacy_reform
						has_reform = papal_government
					}
				}
				is_papal_controller = yes
			}
		}
	}
	option = {
		name = dg_reformation.005.b
		trigger = {
			OR = {
				AND = {
					OR = {
						has_reform = papacy_reform
						has_reform = papal_government
					}
				}
				is_papal_controller = yes
			}
		}
		add_adm_power = -10
	}
}
country_event = {
	id = dg_reformation.007
	title = dg_reformation.007.t
	desc = dg_reformation.007.d
	picture = catholic_excommunication
	trigger = {
		religion = catholic
		has_global_flag = reformation_exsurge_domine
		NOT = {
			has_country_flag = exsurge_domine
		}
		NOT = {
			is_religion_enabled = protestant
		}
		OR = {
			capital_scope = {
				continent = europe
			}
			is_former_colonial_nation = yes
		}
	}
	mean_time_to_happen = {
		months = 25
		modifier = {
			any_owned_province = {
				has_province_flag = reformation_origins
			}
			factor = 0.5
		}
		modifier = {
			has_country_flag = humanism
			factor = 0.5
		}
		modifier = {
			has_country_flag = renaissance
			factor = 2
		}
		modifier = {
			event_target:reformation_origins = {
				culture_group = ROOT
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = exsurge_domine
		if = {
			limit = {
				any_owned_province = {
					has_province_flag = reformation_origins
				}
			}
			custom_tooltip = dg_reformation.007.luther
		}
	}
	option = {
		name = dg_reformation.007.b
		trigger = {
			NOT = {
				government = theocracy
			}
			NOT = {
				is_papal_controller = yes
			}
		}
		ai_chance = {
			factor = 50
		}
		random = {
			chance = 50
			custom_tooltip = heretic_20
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.007.a
		ai_chance = {
			factor = 50
			modifier = {
				government = republic
				factor = 0.5
			}
			modifier = {
				event_target:reformation_origins = {
					culture_group = ROOT
				}
				factor = 0.5
			}
			modifier = {
				has_country_flag = renaissance
				factor = 2
			}
			modifier = {
				has_country_flag = humanism
				factor = 0
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = -1
			}
		}
		remove_country_modifier = religious_tolerance
		add_country_modifier = {
			name = religious_intolerance
			duration = 500
		}
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = obeyed_religious_leader
				}
			}
		}
		if = {
			limit = {
				event_target:reformation_origins = {
					culture_group = ROOT
				}
			}
			add_mil_power = -10
		}
		if = {
			limit = {
				NOT = {
					event_target:reformation_origins = {
						culture_group = ROOT
					}
				}
			}
			add_mil_power = -5
		}
		random = {
			chance = 25
			custom_tooltip = heretic_20
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 25
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 25
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.008
	title = dg_reformation.008.t
	desc = dg_reformation.008.d
	picture = catholic_papal_envoy
	trigger = {
		has_country_flag = exsurge_domine
		NOT = {
			is_religion_enabled = protestant
		}
		any_owned_province = {
			has_province_flag = reformation_origins
		}
		NOT = {
			has_country_flag = demands_for_heresy_trial
		}
		NOT = {
			has_global_flag = reformation_luther_martyred
		}
		NOT = {
			has_global_flag = reformation_luther_returned
		}
		NOT = {
			has_global_flag = reformation_luther_wartburg
		}
		NOT = {
			had_global_flag = {
				flag = reformation_ninety_five_theses
				days = 11000
			}
		}
		religion = catholic
	}
	mean_time_to_happen = {
		months = 10
		modifier = {
			had_country_flag = {
				flag = exsurge_domine
				days = 300
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = demands_for_heresy_trial
		if = {
			limit = {
				OR = {
					AND = {
						is_subject = yes
						NOT = {
							is_subject_of_type = tributary_state
						}
						NOT = {
							is_subject_of_type = close_tributary_state
						}
					}
					AND = {
						capital_scope = {
							is_part_of_hre = yes
						}
						is_emperor = no
					}
				}
			}
			custom_tooltip = dg_reformation.008_vassal
		}
	}
	option = {
		name = dg_reformation.008.a
		ai_chance = {
			factor = 80
		}
		trigger = {
			OR = {
				AND = {
					is_subject = yes
					NOT = {
						is_subject_of_type = tributary_state
					}
					NOT = {
						is_subject_of_type = close_tributary_state
					}
				}
				AND = {
					capital_scope = {
						is_part_of_hre = yes
					}
					is_emperor = no
				}
			}
		}
		add_prestige = -5
		if = {
			limit = {
				AND = {
					is_subject = yes
					NOT = {
						is_subject_of_type = tributary_state
					}
					NOT = {
						is_subject_of_type = close_tributary_state
					}
				}
			}
			add_liberty_desire = -5
			random_country = {
				limit = {
					overlord_of = ROOT
				}
				hidden_effect = {
					capital_scope = {
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
				country_event = {
					id = dg_reformation.009
					days = 30
				}
			}
		}
		if = {
			limit = {
				AND = {
					OR = {
						is_subject = no
						is_subject_of_type = tributary_state
						is_subject_of_type = close_tributary_state
					}
				}
				capital_scope = {
					is_part_of_hre = yes
				}
			}
			random_country = {
				limit = {
					is_emperor = yes
				}
				hidden_effect = {
					if = {
						limit = {
							any_known_country = {
								government = republic
								AND = {
									OR = {
										has_reform = free_city
										has_reform = imperial_city
										has_reform = trading_city_legacy
									}
								}
								capital_scope = {
									is_part_of_hre = yes
								}
								NOT = {
									num_of_cities = 2
								}
								is_emperor = no
								is_elector = no
							}
						}
						random_country = {
							limit = {
								government = republic
								AND = {
									OR = {
										has_reform = free_city
										has_reform = imperial_city
										has_reform = trading_city_legacy
									}
								}
								capital_scope = {
									is_part_of_hre = yes
								}
								NOT = {
									num_of_cities = 2
								}
								is_emperor = no
								is_elector = no
							}
							capital_scope = {
								save_global_event_target_as = imperial_diet_of_worms
								set_province_flag = diet_of_worms
							}
						}
					}
					if = {
						limit = {
							NOT = {
								any_known_country = {
									government = republic
									AND = {
										OR = {
											has_reform = free_city
											has_reform = imperial_city
											has_reform = trading_city_legacy
										}
									}
									capital_scope = {
										is_part_of_hre = yes
									}
									NOT = {
										num_of_cities = 2
									}
									is_emperor = no
									is_elector = no
								}
							}
						}
						capital_scope = {
							save_global_event_target_as = imperial_diet_of_worms
							set_province_flag = diet_of_worms
						}
					}
				}
				country_event = {
					id = dg_reformation.009
					days = 30
				}
			}
		}
	}
	option = {
		name = dg_reformation.008.b
		ai_chance = {
			factor = 10
			modifier = {
				NOT = {
					stability = 0
				}
				factor = 0.5
			}
			modifier = {
				any_owned_province = {
					unrest = 1
				}
				factor = 0.5
			}
			modifier = {
				num_of_revolts = 1
				factor = 0.5
			}
			modifier = {
				NOT = {
					num_of_cardinals = 1
				}
				factor = 0.7
			}
		}
		hidden_effect = {
			save_global_event_target_as = imperial_edict_of_worms
		}
		set_country_flag = edict_of_worms
		set_country_flag = luther_on_trial
		add_adm_power = -25
		if = {
			limit = {
				any_owned_province = {
					religion = protestant
				}
			}
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = renaissance
				}
			}
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
		hidden_effect = {
			capital_scope = {
				save_global_event_target_as = imperial_diet_of_worms
				set_province_flag = diet_of_worms
			}
		}
		random_owned_province = {
			limit = {
				has_province_flag = reformation_origins
			}
			add_province_modifier = {
				name = religious_scandal_province
				duration = 500
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 2
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 4
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 6
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 8
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.008.c
		ai_chance = {
			factor = 5
			modifier = {
				NOT = {
					religion = catholic
				}
				factor = 0
			}
			modifier = {
				is_excommunicated = yes
				factor = 0
			}
			modifier = {
				PAP = {
					check_variable = {
						which = papal_authority
						value = 500
					}
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 400
						}
					}
				}
				factor = 0.7
			}
			modifier = {
				government = monarchy
				NOT = {
					legitimacy = 90
				}
				factor = 0.5
			}
			modifier = {
				government = republic
				NOT = {
					republican_tradition = 90
				}
				factor = 0.5
			}
			modifier = {
				government = theocracy
				factor = 2
			}
			modifier = {
				any_owned_province = {
					unrest = 1
				}
				factor = 0.5
			}
			modifier = {
				num_of_revolts = 1
				factor = 0.5
			}
			modifier = {
				NOT = {
					num_of_cardinals = 1
				}
				factor = 0.5
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = -1
			}
		}
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = obeyed_religious_leader
				}
			}
		}
		set_global_flag = reformation_roman_trial
		set_country_flag = sent_luther_to_rome
		if = {
			limit = {
				exists = PAP
			}
			PAP = {
				hidden_effect = {
					save_global_event_target_as = imperial_edict_of_worms
				}
				set_country_flag = edict_of_worms
				hidden_effect = {
					capital_scope = {
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					exists = PAP
				}
			}
			random_country = {
				limit = {
					is_papal_controller = yes
				}
				hidden_effect = {
					save_global_event_target_as = imperial_edict_of_worms
				}
				set_country_flag = edict_of_worms
				hidden_effect = {
					capital_scope = {
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
			}
		}
		add_legitimacy = -10
		add_republican_tradition = -5
		add_devotion = 20
		random_owned_province = {
			limit = {
				has_province_flag = reformation_origins
			}
			add_province_modifier = {
				name = religious_scandal_province
				duration = 500
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 2
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 4
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 6
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 8
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.008.e
		trigger = {
			NOT = {
				AND = {
					OR = {
						has_reform = papacy_reform
						has_reform = papal_government
					}
				}
			}
		}
		ai_chance = {
			factor = 5
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 400
						}
					}
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 300
						}
					}
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = support_for_reform
					value = 3
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					religion = catholic
				}
				factor = 4
			}
			modifier = {
				NOT = {
					has_global_modifier_value = {
						which = papal_influence
						value = 0.5
					}
				}
				factor = 1.4
			}
			modifier = {
				is_excommunicated = yes
				factor = 4
			}
			modifier = {
				has_country_flag = enemy_of_pope
				factor = 2
			}
			modifier = {
				is_papal_controller = yes
				factor = 0.5
			}
			modifier = {
				has_global_modifier_value = {
					which = papal_influence
					value = 3
				}
				factor = 0.5
			}
			modifier = {
				NOT = {
					num_of_cardinals = 1
				}
				factor = 2
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		remove_country_modifier = religious_intolerance
		add_country_modifier = {
			name = religious_tolerance
			duration = 500
		}
		set_global_flag = reformation_luther_protected
		set_country_flag = sheltered_luther
		hidden_effect = {
			save_global_event_target_as = imperial_edict_of_worms
		}
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = religious_scandal_fanatical
				}
			}
		}
		custom_tooltip = excommunication_chance
		add_papal_influence = -50
		add_prestige = -10
		if = {
			limit = {
				patriarch_authority = 0.80
			}
			add_country_modifier = {
				name = unhappy_church_powerful
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.60
			}
			add_country_modifier = {
				name = unhappy_church_strong
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.40
			}
			add_country_modifier = {
				name = unhappy_church_moderate
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.20
			}
			add_country_modifier = {
				name = unhappy_church_weak
				duration = 2000
			}
		}
		else = {
			add_country_modifier = {
				name = unhappy_church_impotent
				duration = 2000
			}
		}
	}
}
country_event = {
	id = dg_reformation.009
	title = dg_reformation.009.t
	desc = dg_reformation.009.d
	picture = all_news
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				is_emperor = yes
			}
			custom_tooltip = dg_reformation.009.hre
		}
		if = {
			limit = {
				is_emperor = no
			}
			if = {
				limit = {
					AND = {
						OR = {
							culture_group = langue_d_oil
							culture_group = langue_d_oc
						}
					}
				}
				custom_tooltip = dg_reformation.009.france
			}
			if = {
				limit = {
					culture_group = british
				}
				custom_tooltip = dg_reformation.009.britain
			}
			if = {
				limit = {
					AND = {
						culture_group = low_frankish
					}
				}
				custom_tooltip = dg_reformation.009.netherlands
			}
			if = {
				limit = {
					culture_group = iberian
				}
				custom_tooltip = dg_reformation.009.spain
			}
			if = {
				limit = {
					AND = {
						culture_group = scandinavian
					}
				}
				custom_tooltip = dg_reformation.009.sweden
			}
			if = {
				limit = {
					NOT = {
						OR = {
							AND = {
								OR = {
									culture_group = langue_d_oil
									culture_group = langue_d_oc
								}
							}
							culture_group = british
							AND = {
								culture_group = low_frankish
							}
							culture_group = iberian
							AND = {
								culture_group = scandinavian
							}
						}
					}
				}
				custom_tooltip = dg_reformation.009.generic
			}
		}
	}
	option = {
		name = dg_reformation.009.a
		ai_chance = {
			factor = 99
		}
		hidden_effect = {
			save_global_event_target_as = imperial_edict_of_worms
		}
		set_country_flag = edict_of_worms
		add_adm_power = -25
		add_country_modifier = {
			name = religious_controversy
			duration = 500
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = humanism
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_devotion = 8
				add_legitimacy = 4
				add_republican_tradition = 2
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_devotion = 6
				add_legitimacy = 3
				add_republican_tradition = 1.5
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_devotion = 4
				add_legitimacy = 2
				add_republican_tradition = 1
			}
			else_if = {
				limit = {
					piety = -0.60
				}
				add_devotion = 2
				add_legitimacy = 1
				add_republican_tradition = 0.5
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 2
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 4
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 6
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 8
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_8
			}
		}
		FROM = {
			country_event = {
				id = dg_reformation.010
				days = 30
			}
		}
	}
	option = {
		name = dg_reformation.009.b
		trigger = {
			NOT = {
				AND = {
					OR = {
						has_reform = papacy_reform
						has_reform = papal_government
					}
				}
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 400
						}
					}
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 300
						}
					}
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = support_for_reform
					value = 3
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					religion = catholic
				}
				factor = 4
			}
			modifier = {
				NOT = {
					has_global_modifier_value = {
						which = papal_influence
						value = 0.5
					}
				}
				factor = 1.4
			}
			modifier = {
				is_excommunicated = yes
				factor = 4
			}
			modifier = {
				has_country_flag = enemy_of_pope
				factor = 2
			}
			modifier = {
				is_papal_controller = yes
				factor = 0
			}
			modifier = {
				has_global_modifier_value = {
					which = papal_influence
					value = 3
				}
				factor = 0
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		set_global_flag = reformation_luther_protected
		set_country_flag = sheltered_luther
		hidden_effect = {
			save_global_event_target_as = imperial_edict_of_worms
		}
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = religious_scandal_fanatical
				}
			}
		}
		custom_tooltip = excommunication_chance
		add_papal_influence = -50
		add_prestige = -10
		if = {
			limit = {
				patriarch_authority = 0.80
			}
			add_country_modifier = {
				name = unhappy_church_powerful
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.60
			}
			add_country_modifier = {
				name = unhappy_church_strong
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.40
			}
			add_country_modifier = {
				name = unhappy_church_moderate
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.20
			}
			add_country_modifier = {
				name = unhappy_church_weak
				duration = 2000
			}
		}
		else = {
			add_country_modifier = {
				name = unhappy_church_impotent
				duration = 2000
			}
		}
	}
}
country_event = {
	id = dg_reformation.010
	title = dg_reformation.010.t
	desc = dg_reformation.010.d
	picture = all_powerful_advisor
	is_triggered_only = yes
	option = {
		name = dg_reformation.010.a
		ai_chance = {
			factor = 90
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		add_prestige = 5
		FROM = {
			country_event = {
				id = dg_reformation.011
				days = 30
			}
		}
	}
	option = {
		name = dg_reformation.010.b
		ai_chance = {
			factor = 1
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = -1
			}
		}
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = opinion_improved_relations
			}
			set_country_flag = luther_on_trial
		}
		set_country_flag = sent_luther_to_trial
		add_prestige = -5
		if = {
			limit = {
				AND = {
					is_subject = yes
					NOT = {
						is_subject_of_type = tributary_state
					}
					NOT = {
						is_subject_of_type = close_tributary_state
					}
				}
			}
			add_liberty_desire = -10
		}
		random_owned_province = {
			limit = {
				has_province_flag = reformation_origins
			}
			add_province_modifier = {
				name = religious_scandal_province
				duration = 500
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 2
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 4
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 6
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 8
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.010.c
		trigger = {
			NOT = {
				has_global_flag = reformation_luther_martyred
			}
		}
		ai_chance = {
			factor = 8
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = opinion_displeased
			}
			country_event = {
				id = dg_reformation.013
				days = 30
			}
		}
		if = {
			limit = {
				AND = {
					is_subject = yes
					NOT = {
						is_subject_of_type = tributary_state
					}
					NOT = {
						is_subject_of_type = close_tributary_state
					}
				}
			}
			add_liberty_desire = 10
		}
		add_papal_influence = -50
		add_prestige = -10
		random_owned_province = {
			limit = {
				has_province_flag = reformation_origins
			}
			add_province_modifier = {
				name = religious_scandal_province
				duration = 500
			}
		}
		if = {
			limit = {
				patriarch_authority = 0.80
			}
			add_country_modifier = {
				name = unhappy_church_powerful
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.60
			}
			add_country_modifier = {
				name = unhappy_church_strong
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.40
			}
			add_country_modifier = {
				name = unhappy_church_moderate
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.20
			}
			add_country_modifier = {
				name = unhappy_church_weak
				duration = 2000
			}
		}
		else = {
			add_country_modifier = {
				name = unhappy_church_impotent
				duration = 2000
			}
		}
	}
	option = {
		name = dg_reformation.010.e
		ai_chance = {
			factor = 1
		}
		add_prestige = -5
		random_owned_province = {
			limit = {
				has_province_flag = reformation_origins
			}
			add_province_modifier = {
				name = religious_scandal_province
				duration = 500
			}
		}
		random_list = {
			50 = {
				FROM = {
					set_country_flag = luther_on_trial
				}
			}
			50 = {
				FROM = {
					country_event = {
						id = dg_reformation.013
						days = 90
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.011
	title = dg_reformation.011.t
	desc = dg_reformation.011.d
	picture = all_news
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				FROM = {
					capital_scope = {
						is_part_of_hre = yes
					}
				}
				is_emperor = yes
			}
			custom_tooltip = dg_reformation.011.hre
		}
		if = {
			limit = {
				FROM = {
					is_subject_of = ROOT
				}
				OR = {
					NOT = {
						is_emperor = yes
					}
					NOT = {
						FROM = {
							capital_scope = {
								is_part_of_hre = yes
							}
						}
					}
				}
			}
			custom_tooltip = dg_reformation.011.overlord
		}
	}
	option = {
		name = dg_reformation.011.a
		ai_chance = {
			factor = 80
			modifier = {
				has_country_flag = humanism
				factor = 2
			}
		}
		set_country_flag = luther_safe_passage_promised
		random_known_country = {
			limit = {
				any_owned_province = {
					has_province_flag = reformation_origins
				}
			}
			country_event = {
				id = dg_reformation.012
				days = 30
			}
		}
	}
	option = {
		name = dg_reformation.011.b
		ai_chance = {
			factor = 20
		}
		add_mil_power = -25
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = opinion_displeased
			}
			if = {
				limit = {
					is_subject_of = ROOT
				}
				add_liberty_desire = 10
			}
			if = {
				limit = {
					capital_scope = {
						is_part_of_hre = yes
					}
					ROOT = {
						is_emperor = yes
					}
				}
				add_imperial_influence = -10
			}
		}
		FROM = {
			country_event = {
				id = dg_reformation.023
				days = 30
			}
		}
	}
}
country_event = {
	id = dg_reformation.012
	title = dg_reformation.011.t
	desc = dg_reformation.012.d
	picture = all_news
	is_triggered_only = yes
	option = {
		name = dg_reformation.012.a
		add_prestige = 5
		clr_global_flag = reformation_luther_in_hiding
		clr_global_flag = reformation_luther_wartburg
		event_target:imperial_edict_of_worms = {
			set_country_flag = luther_on_trial
		}
		every_province = {
			clr_province_flag = wartburg
		}
	}
}
country_event = {
	id = dg_reformation.013
	title = dg_reformation.013.t
	desc = dg_reformation.013.d
	picture = catholic_trial
	is_triggered_only = yes
	immediate = {
		set_global_flag = reformation_luther_in_hiding
		if = {
			limit = {
				OR = {
					event_target:reformation_origins = {
						owner = {
							is_subject_of = ROOT
						}
					}
					AND = {
						event_target:reformation_origins = {
							is_part_of_hre = yes
						}
						is_emperor = yes
					}
				}
			}
			custom_tooltip = dg_reformation.013.liege
		}
	}
	option = {
		name = dg_reformation.013.c
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = humanism
				factor = 1.4
			}
			modifier = {
				NOT = {
					num_of_cardinals = 1
				}
				factor = 2
			}
		}
		add_prestige = -5
		set_country_flag = luther_safe_passage_promised
		random_known_country = {
			limit = {
				any_owned_province = {
					has_province_flag = reformation_origins
				}
			}
			country_event = {
				id = dg_reformation.012
				days = 30
			}
		}
	}
	option = {
		name = dg_reformation.013.a
		ai_chance = {
			factor = 30
		}
		add_prestige = -10
		set_country_flag = luther_on_trial
	}
	option = {
		name = dg_reformation.013.b
		ai_chance = {
			factor = 30
			modifier = {
				NOT = {
					num_of_cardinals = 1
				}
				factor = 0.5
			}
		}
		trigger = {
			OR = {
				event_target:reformation_origins = {
					owner = {
						is_subject_of = ROOT
					}
				}
				AND = {
					event_target:reformation_origins = {
						is_part_of_hre = yes
					}
					is_emperor = yes
				}
			}
		}
		add_dip_power = -25
		random_country = {
			limit = {
				any_owned_province = {
					has_province_flag = reformation_origins
				}
			}
			country_event = {
				id = dg_reformation.014
				days = 30
			}
		}
	}
}
country_event = {
	id = dg_reformation.014
	title = dg_reformation.014.t
	desc = dg_reformation.014.d
	picture = protestant_heretic_trial
	is_triggered_only = yes
	option = {
		name = dg_reformation.014.a
		ai_chance = {
			factor = 80
			modifier = {
				num_of_loans = 1
				factor = 0.7
			}
			modifier = {
				years_of_income = 0.50
				factor = 1.4
			}
			modifier = {
				years_of_income = 1
				factor = 1.4
			}
			modifier = {
				is_bankrupt = yes
				factor = 0
			}
		}
		add_years_of_income = -0.33
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
	}
	option = {
		name = dg_reformation.014.b
		ai_chance = {
			factor = 20
		}
		add_prestige = -10
		clr_global_flag = reformation_luther_in_hiding
		event_target:imperial_edict_of_worms = {
			set_country_flag = luther_on_trial
		}
	}
}
country_event = {
	id = dg_reformation.015
	title = dg_reformation.015.t
	desc = dg_reformation.015.d
	picture = catholic_papal_envoy
	trigger = {
		religion = catholic
		has_global_flag = reformation_luther_protected
		event_target:imperial_edict_of_worms = {
			OR = {
				is_rival = ROOT
				is_enemy = ROOT
				war_with = ROOT
				truce_with = ROOT
				is_neighbor_of = ROOT
				is_subject_of = ROOT
				overlord_of = ROOT
				AND = {
					capital_scope = {
						is_part_of_hre = yes
					}
					OR = {
						is_elector = yes
						is_emperor = yes
					}
				}
			}
		}
		NOT = {
			event_target:imperial_edict_of_worms = {
				senior_union_with = ROOT
			}
		}
		NOT = {
			event_target:imperial_edict_of_worms = {
				junior_union_with = ROOT
			}
		}
		NOT = {
			has_country_flag = sheltered_luther
		}
		NOT = {
			has_country_flag = for_god_and_the_pope
		}
		NOT = {
			is_religion_enabled = protestant
		}
		NOT = {
			has_global_flag = reformation_luther_martyred
		}
		NOT = {
			has_global_flag = reformation_luther_returned
		}
	}
	mean_time_to_happen = {
		months = 12
		modifier = {
			event_target:imperial_edict_of_worms = {
				is_subject_of = ROOT
			}
			factor = 0.5
		}
		modifier = {
			event_target:imperial_edict_of_worms = {
				is_rival = ROOT
			}
			factor = 0.7
		}
		modifier = {
			event_target:imperial_edict_of_worms = {
				is_enemy = ROOT
			}
			factor = 0.7
		}
		modifier = {
			event_target:imperial_edict_of_worms = {
				NOT = {
					army_size = ROOT
				}
			}
			factor = 0.7
		}
		modifier = {
			event_target:imperial_edict_of_worms = {
				NOT = {
					num_of_cities = ROOT
				}
			}
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = {
				piety = -0.20
			}
			factor = 1.4
		}
		modifier = {
			NOT = {
				piety = -0.60
			}
			factor = 1.4
		}
		modifier = {
			is_emperor = yes
			factor = 0.7
		}
		modifier = {
			is_papal_controller = yes
			factor = 0.7
		}
		modifier = {
			government = theocracy
			factor = 0.7
		}
		modifier = {
			event_target:imperial_edict_of_worms = {
				alliance_with = ROOT
			}
			factor = 2
		}
		modifier = {
			event_target:imperial_edict_of_worms = {
				marriage_with = ROOT
			}
			factor = 2
		}
	}
	immediate = {
		set_country_flag = for_god_and_the_pope
		if = {
			limit = {
				NOT = {
					AND = {
						OR = {
							has_reform = papacy_reform
							has_reform = papal_government
						}
					}
				}
				NOT = {
					is_papal_controller = yes
				}
			}
			custom_tooltip = dg_reformation.015.catholic
		}
		if = {
			limit = {
				has_country_flag = hiding_luther
			}
			custom_tooltip = dg_reformation.015.irony
		}
	}
	option = {
		name = dg_reformation.015.a
		ai_chance = {
			factor = 50
		}
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = obeyed_religious_leader
				}
			}
		}
		event_target:imperial_edict_of_worms = {
			set_country_flag = pressure_for_trial
			add_opinion = {
				who = ROOT
				modifier = religious_scandal_pious
			}
		}
		if = {
			limit = {
				capital_scope = {
					is_part_of_hre = yes
				}
				event_target:imperial_edict_of_worms = {
					is_emperor = yes
				}
			}
			if = {
				limit = {
					is_elector = yes
				}
				hidden_effect = {
					event_target:imperial_edict_of_worms = {
						change_variable = {
							which = catholic_pressure_hre
							value = 5
						}
					}
				}
			}
			else = {
				hidden_effect = {
					event_target:imperial_edict_of_worms = {
						change_variable = {
							which = catholic_pressure_hre
							value = 1
						}
					}
				}
			}
		}
		set_country_flag = demanding_heretic_trial
	}
	option = {
		name = dg_reformation.015.b
		trigger = {
			NOT = {
				event_target:imperial_edict_of_worms = {
					war_with = ROOT
				}
			}
			NOT = {
				event_target:imperial_edict_of_worms = {
					overlord_of = ROOT
				}
			}
			NOT = {
				event_target:imperial_edict_of_worms = {
					is_subject_of = ROOT
				}
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = humanism
				factor = 0
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					num_of_cities = ROOT
				}
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					army_size = ROOT
				}
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					is_rival = ROOT
				}
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					is_enemy = ROOT
				}
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					truce_with = ROOT
				}
				factor = 2
			}
		}
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = obeyed_religious_leader
				}
			}
		}
		add_dip_power = -10
		add_papal_influence = 5
		event_target:imperial_edict_of_worms = {
			set_country_flag = pressure_for_trial
			add_opinion = {
				who = ROOT
				modifier = religious_scandal_fanatical
			}
		}
		if = {
			limit = {
				is_vassal = yes
				event_target:imperial_edict_of_worms = {
					overlord_of = ROOT
				}
			}
			add_liberty_desire = 20
		}
		if = {
			limit = {
				capital_scope = {
					is_part_of_hre = yes
				}
				event_target:imperial_edict_of_worms = {
					is_emperor = yes
				}
			}
			if = {
				limit = {
					is_elector = yes
				}
				hidden_effect = {
					event_target:imperial_edict_of_worms = {
						change_variable = {
							which = catholic_pressure_hre
							value = 10
						}
					}
				}
			}
			else = {
				hidden_effect = {
					event_target:imperial_edict_of_worms = {
						change_variable = {
							which = catholic_pressure_hre
							value = 2
						}
					}
				}
			}
		}
		set_country_flag = threatening_heretic_trial
	}
	option = {
		name = dg_reformation.015.c
		trigger = {
			NOT = {
				AND = {
					OR = {
						has_reform = papacy_reform
						has_reform = papal_government
					}
				}
			}
			NOT = {
				is_papal_controller = yes
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = humanism
				factor = 4
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					NOT = {
						num_of_cities = ROOT
					}
				}
				factor = 2
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = disobeyed_religious_leader
				}
			}
		}
		add_papal_influence = -10
		add_prestige = -5
	}
}
country_event = {
	id = dg_reformation.016
	title = dg_reformation.015.t
	desc = dg_reformation.016.d
	picture = catholic_crusade
	trigger = {
		has_country_flag = sheltered_luther
		has_global_flag = reformation_luther_protected
		had_country_flag = {
			flag = sheltered_luther
			days = 400
		}
		NOT = {
			has_country_flag = unrepentant_heretic
		}
		NOT = {
			has_global_flag = reformation_luther_martyred
		}
		NOT = {
			has_global_flag = reformation_luther_returned
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		if = {
			limit = {
				OR = {
					overlord = {
						has_country_flag = demanding_heretic_trial
					}
					AND = {
						capital_scope = {
							is_part_of_hre = yes
						}
						emperor = {
							has_country_flag = demanding_heretic_trial
						}
					}
				}
			}
			custom_tooltip = dg_reformation.016.vassal
		}
		if = {
			limit = {
				any_known_country = {
					has_country_flag = threatening_heretic_trial
				}
			}
			custom_tooltip = dg_reformation.016.crusade
		}
		if = {
			limit = {
				has_country_flag = edict_of_worms
			}
			custom_tooltip = dg_reformation.016.innocent
		}
		else = {
			custom_tooltip = dg_reformation.016.notrial
		}
		clr_country_flag = reformation_luther_protected
	}
	option = {
		name = dg_reformation.016.a
		trigger = {
			NOT = {
				has_country_flag = edict_of_worms
			}
		}
		ai_chance = {
			factor = 30
		}
		hidden_effect = {
			save_global_event_target_as = imperial_edict_of_worms
		}
		set_country_flag = edict_of_worms
		clr_country_flag = sheltered_luther
		clr_global_flag = reformation_luther_protected
		set_country_flag = luther_on_trial
		add_prestige = -10
		add_adm_power = -25
		if = {
			limit = {
				any_owned_province = {
					has_province_flag = reformation_origins
				}
			}
			if = {
				limit = {
					any_owned_province = {
						religion = protestant
					}
				}
				add_stability = -1
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -5
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = renaissance
					}
				}
				add_stability = -1
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -5
				}
			}
			random_owned_province = {
				limit = {
					has_province_flag = reformation_origins
				}
				add_province_modifier = {
					name = religious_scandal_province
					duration = 500
				}
			}
		}
		hidden_effect = {
			capital_scope = {
				save_global_event_target_as = imperial_diet_of_worms
				set_province_flag = diet_of_worms
			}
		}
		add_country_modifier = {
			name = religious_controversy
			duration = 500
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = humanism
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_devotion = 8
				add_legitimacy = 4
				add_republican_tradition = 2
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_devotion = 6
				add_legitimacy = 3
				add_republican_tradition = 1.5
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_devotion = 4
				add_legitimacy = 2
				add_republican_tradition = 1
			}
			else_if = {
				limit = {
					piety = -0.60
				}
				add_devotion = 2
				add_legitimacy = 1
				add_republican_tradition = 0.5
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 2
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 4
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 6
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 8
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_8
			}
		}
		if = {
			limit = {
				NOT = {
					any_owned_province = {
						has_province_flag = reformation_origins
					}
				}
			}
			random_country = {
				limit = {
					any_owned_province = {
						has_province_flag = reformation_origins
					}
				}
				country_event = {
					id = dg_reformation.010
					days = 30
				}
			}
		}
	}
	option = {
		name = dg_reformation.016.b
		trigger = {
			has_country_flag = edict_of_worms
		}
		ai_chance = {
			factor = 30
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = -1
			}
		}
		add_prestige = -10
		clr_global_flag = reformation_luther_protected
		clr_country_flag = sheltered_luther
		set_global_flag = reformation_luther_sentenced
	}
	option = {
		name = dg_reformation.016.c
		ai_chance = {
			factor = 40
			modifier = {
				OR = {
					overlord = {
						has_country_flag = demanding_heretic_trial
					}
					AND = {
						capital_scope = {
							is_part_of_hre = yes
						}
						emperor = {
							has_country_flag = demanding_heretic_trial
						}
					}
				}
				factor = 0.5
			}
			modifier = {
				any_country = {
					has_country_flag = threatening_heretic_trial
				}
				factor = 0.7
			}
			modifier = {
				any_country = {
					has_country_flag = threatening_heretic_trial
					OR = {
						army_size = ROOT
						num_of_cities = ROOT
					}
				}
				factor = 0.7
			}
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 400
						}
					}
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 300
						}
					}
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = support_for_reform
					value = 3
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					religion = catholic
				}
				factor = 4
			}
			modifier = {
				NOT = {
					has_global_modifier_value = {
						which = papal_influence
						value = 0.5
					}
				}
				factor = 1.4
			}
			modifier = {
				is_excommunicated = yes
				factor = 4
			}
			modifier = {
				has_country_flag = enemy_of_pope
				factor = 2
			}
			modifier = {
				is_papal_controller = yes
				factor = 0.5
			}
			modifier = {
				has_global_modifier_value = {
					which = papal_influence
					value = 3
				}
				factor = 0.5
			}
			modifier = {
				is_emperor = yes
				factor = 0.5
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		set_country_flag = unrepentant_heretic
		hidden_effect = {
			if = {
				limit = {
					any_owned_province = {
						is_in_capital_area = yes
						religion = catholic
						controlled_by = owner
						is_city = yes
					}
				}
				random_owned_province = {
					limit = {
						is_in_capital_area = yes
						religion = catholic
						controlled_by = owner
						is_city = yes
					}
					set_province_flag = wartburg
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_owned_province = {
							is_in_capital_area = yes
							religion = catholic
							controlled_by = owner
							is_city = yes
						}
					}
				}
				random_owned_province = {
					limit = {
						continent = europe
						is_city = yes
					}
					set_province_flag = wartburg
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
		if = {
			limit = {
				is_emperor = yes
			}
			if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 71
					}
				}
				add_imperial_influence = -75
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 66
					}
				}
				add_imperial_influence = -70
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 61
					}
				}
				add_imperial_influence = -65
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 56
					}
				}
				add_imperial_influence = -60
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 51
					}
				}
				add_imperial_influence = -55
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 46
					}
				}
				add_imperial_influence = -50
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 41
					}
				}
				add_imperial_influence = -45
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 36
					}
				}
				add_imperial_influence = -40
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 31
					}
				}
				add_imperial_influence = -35
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 26
					}
				}
				add_imperial_influence = -30
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 21
					}
				}
				add_imperial_influence = -25
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 16
					}
				}
				add_imperial_influence = -20
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 11
					}
				}
				add_imperial_influence = -15
			}
			else_if = {
				limit = {
					check_variable = {
						which = catholic_pressure_hre
						value = 6
					}
				}
				add_imperial_influence = -10
			}
			else = {
				add_imperial_influence = -5
			}
		}
		hidden_effect = {
			set_variable = {
				which = catholic_pressure_hre
				value = 0
			}
		}
		every_country = {
			limit = {
				has_country_flag = threatening_heretic_trial
			}
			add_opinion = {
				who = ROOT
				modifier = religious_scandal_fanatical
			}
			if = {
				limit = {
					vassal_of = ROOT
				}
				add_liberty_desire = 20
			}
		}
		every_country = {
			limit = {
				has_country_flag = demanding_heretic_trial
			}
			add_opinion = {
				who = ROOT
				modifier = religious_scandal_pious
			}
			if = {
				limit = {
					vassal_of = ROOT
				}
				add_liberty_desire = 10
			}
		}
		country_event = {
			id = dg_catholic.066
			days = 0
		}
		hidden_effect = {
			if = {
				limit = {
					PAP = {
						num_of_cities = 1
						religion = catholic
						AND = {
							OR = {
								has_reform = papacy_reform
								has_reform = papal_government
							}
						}
					}
				}
				set_global_flag = reformation_luther_in_hiding
				set_global_flag = reformation_luther_wartburg
				hidden_effect = {
					if = {
						limit = {
							any_owned_province = {
								is_in_capital_area = yes
								religion = catholic
								controlled_by = owner
								is_city = yes
							}
						}
						random_owned_province = {
							limit = {
								is_in_capital_area = yes
								religion = catholic
								controlled_by = owner
								is_city = yes
							}
							set_province_flag = wartburg
							change_variable = {
								which = protestant_supporters
								value = 4
							}
						}
					}
					if = {
						limit = {
							NOT = {
								any_owned_province = {
									is_in_capital_area = yes
									religion = catholic
									controlled_by = owner
									is_city = yes
								}
							}
						}
						random_owned_province = {
							limit = {
								continent = europe
								is_city = yes
							}
							set_province_flag = wartburg
							change_variable = {
								which = protestant_supporters
								value = 4
							}
						}
					}
				}
			}
			PAP = {
				set_country_flag = edict_of_worms
				save_global_event_target_as = imperial_edict_of_worms
				capital_scope = {
					save_global_event_target_as = imperial_diet_of_worms
					set_province_flag = diet_of_worms
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.017
	title = dg_reformation.017.t
	desc = dg_reformation.017.d
	picture = catholic_excommunication
	trigger = {
		has_country_flag = edict_of_worms
		NOT = {
			has_country_flag = protestant_reaction
		}
		OR = {
			has_country_flag = luther_on_trial
			had_country_flag = {
				flag = edict_of_worms
				days = 200
			}
		}
		NOT = {
			has_country_flag = diet_of_worms_over
		}
		NOT = {
			religion_years = {
				protestant = 30
			}
		}
	}
	mean_time_to_happen = {
		months = 3
		modifier = {
			is_at_war = yes
			factor = 2
		}
	}
	immediate = {
		set_country_flag = protestant_reaction
		set_global_flag = reformation_diet_of_worms
		if = {
			limit = {
				has_global_flag = reformation_roman_trial
			}
			custom_tooltip = dg_reformation.017.pope
			if = {
				limit = {
					has_global_flag = reformation_luther_in_hiding
				}
				custom_tooltip = dg_reformation.017.absentia
			}
			else = {
				custom_tooltip = dg_reformation.017.papacy
			}
		}
		else = {
			if = {
				limit = {
					event_target:imperial_edict_of_worms = {
						is_emperor = yes
					}
				}
				custom_tooltip = dg_reformation.017.hre
			}
			if = {
				limit = {
					event_target:imperial_edict_of_worms = {
						is_emperor = no
					}
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							AND = {
								OR = {
									culture_group = langue_d_oil
									culture_group = langue_d_oc
								}
							}
						}
					}
					custom_tooltip = dg_reformation.017.france
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							culture_group = british
						}
					}
					custom_tooltip = dg_reformation.017.britain
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							AND = {
								culture_group = low_frankish
							}
						}
					}
					custom_tooltip = dg_reformation.017.netherlands
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							culture_group = iberian
						}
					}
					custom_tooltip = dg_reformation.017.spain
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							AND = {
								culture_group = scandinavian
							}
						}
					}
					custom_tooltip = dg_reformation.017.scandinavia
				}
				if = {
					limit = {
						NOT = {
							event_target:imperial_edict_of_worms = {
								OR = {
									culture_group = british
									AND = {
										culture_group = low_frankish
									}
									culture_group = iberian
									AND = {
										culture_group = scandinavian
									}
								}
							}
						}
					}
					custom_tooltip = dg_reformation.017.generic
				}
			}
			if = {
				limit = {
					has_global_flag = reformation_luther_in_hiding
				}
				custom_tooltip = dg_reformation.017.absentia
			}
			else = {
				custom_tooltip = dg_reformation.017.luther
			}
		}
		custom_tooltip = dg_reformation.017.end
		if = {
			limit = {
				has_country_flag = edict_of_worms
			}
			if = {
				limit = {
					has_country_flag = luther_safe_passage_promised
				}
				custom_tooltip = dg_reformation.017.safe_passage
			}
			set_country_flag = diet_of_worms_over
		}
		hidden_effect = {
			if = {
				limit = {
					is_emperor = yes
				}
				if = {
					limit = {
						any_known_country = {
							government = republic
							AND = {
								OR = {
									has_reform = free_city
									has_reform = imperial_city
									has_reform = trading_city_legacy
								}
							}
							capital_scope = {
								is_part_of_hre = yes
								NOT = {
									has_province_flag = diet_of_worms
								}
							}
							NOT = {
								num_of_cities = 2
							}
							is_emperor = no
							is_elector = no
						}
					}
					random_country = {
						limit = {
							government = republic
							AND = {
								OR = {
									has_reform = free_city
									has_reform = imperial_city
									has_reform = trading_city_legacy
								}
							}
							capital_scope = {
								is_part_of_hre = yes
								NOT = {
									has_province_flag = diet_of_worms
								}
							}
							NOT = {
								num_of_cities = 2
							}
							is_emperor = no
							is_elector = no
						}
						capital_scope = {
							save_global_event_target_as = imperial_diet_of_worms
							set_province_flag = diet_of_worms
						}
					}
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								government = republic
								AND = {
									OR = {
										has_reform = free_city
										has_reform = imperial_city
										has_reform = trading_city_legacy
									}
								}
								capital_scope = {
									is_part_of_hre = yes
									NOT = {
										has_province_flag = diet_of_worms
									}
								}
								NOT = {
									num_of_cities = 2
								}
								is_emperor = no
								is_elector = no
							}
						}
						any_owned_province = {
							is_in_capital_area = yes
							culture_group = owner
							is_part_of_hre = yes
						}
					}
					random_owned_province = {
						limit = {
							is_in_capital_area = yes
							culture_group = owner
							is_part_of_hre = yes
						}
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								government = republic
								AND = {
									OR = {
										has_reform = free_city
										has_reform = imperial_city
										has_reform = trading_city_legacy
									}
								}
								capital_scope = {
									is_part_of_hre = yes
									NOT = {
										has_province_flag = diet_of_worms
									}
								}
								NOT = {
									num_of_cities = 2
								}
								is_emperor = no
								is_elector = no
							}
						}
						NOT = {
							any_owned_province = {
								is_in_capital_area = yes
								culture_group = owner
								is_part_of_hre = yes
							}
						}
					}
					capital_scope = {
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.017.b
		trigger = {
			NOT = {
				has_global_flag = reformation_luther_in_hiding
			}
			NOT = {
				has_global_flag = reformation_roman_trial
			}
			OR = {
				has_country_flag = luther_safe_passage_promised
				ai = no
				NOT = {
					num_of_cardinals = 1
				}
			}
		}
		ai_chance = {
			factor = 70
		}
		set_global_flag = reformation_luther_sentenced
		set_country_flag = luther_verdict_guilty
		set_country_flag = luther_allowed_to_leave
	}
	option = {
		name = dg_reformation.017.a
		trigger = {
			NOT = {
				has_global_flag = reformation_luther_in_hiding
			}
		}
		ai_chance = {
			factor = 15
			modifier = {
				NOT = {
					has_country_flag = luther_safe_passage_promised
				}
				factor = 5
			}
			modifier = {
				vassal = 2
				factor = 0.7
			}
			modifier = {
				vassal = 4
				factor = 0.7
			}
			modifier = {
				is_emperor = yes
				has_country_flag = luther_safe_passage_promised
				factor = 0.5
			}
			modifier = {
				has_country_flag = luther_safe_passage_promised
				NOT = {
					stability = 0
				}
				factor = 0.7
			}
			modifier = {
				has_country_flag = luther_safe_passage_promised
				government = monarchy
				NOT = {
					legitimacy = 90
				}
				factor = 0.7
			}
			modifier = {
				has_country_flag = luther_safe_passage_promised
				government = republic
				NOT = {
					republican_tradition = 90
				}
				factor = 0.7
			}
			modifier = {
				has_country_flag = luther_safe_passage_promised
				NOT = {
					prestige = 0
				}
				factor = 0.7
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = -2
			}
		}
		set_global_flag = reformation_luther_sentenced
		set_global_flag = reformation_luther_martyred
		set_country_flag = luther_verdict_guilty
		add_papal_influence = 50
		if = {
			limit = {
				has_country_flag = luther_safe_passage_promised
			}
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
			add_legitimacy = -10
			add_devotion = -10
			add_republican_tradition = -10
			add_prestige = -10
			if = {
				limit = {
					is_emperor = yes
				}
				add_imperial_influence = -50
			}
		}
	}
	option = {
		name = dg_reformation.017.c
		trigger = {
			has_global_flag = reformation_luther_in_hiding
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = -1
			}
		}
		set_global_flag = reformation_luther_sentenced
		set_country_flag = luther_verdict_guilty
		add_papal_influence = 25
	}
	option = {
		name = dg_reformation.017.e
		trigger = {
			NOT = {
				has_global_flag = luther_in_rome
			}
			NOT = {
				AND = {
					OR = {
						has_reform = papacy_reform
						has_reform = papal_government
					}
				}
			}
		}
		ai_chance = {
			factor = 5
			modifier = {
				has_country_flag = humanism
				factor = 2
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 2
			}
		}
		if = {
			limit = {
				has_country_flag = humanism
			}
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
		else = {
			add_stability = -2
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -10
			}
		}
		set_global_flag = reformation_luther_protected
		set_country_flag = sheltered_luther
		hidden_effect = {
			save_global_event_target_as = imperial_edict_of_worms
		}
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = religious_scandal_fanatical
				}
			}
		}
		custom_tooltip = excommunication_chance
		add_papal_influence = -50
		add_prestige = -10
		if = {
			limit = {
				patriarch_authority = 0.80
			}
			add_country_modifier = {
				name = unhappy_church_powerful
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.60
			}
			add_country_modifier = {
				name = unhappy_church_strong
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.40
			}
			add_country_modifier = {
				name = unhappy_church_moderate
				duration = 2000
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.20
			}
			add_country_modifier = {
				name = unhappy_church_weak
				duration = 2000
			}
		}
		else = {
			add_country_modifier = {
				name = unhappy_church_impotent
				duration = 2000
			}
		}
	}
}
country_event = {
	id = dg_reformation.018
	title = dg_reformation.017.t
	desc = dg_reformation.017.d
	picture = catholic_excommunication
	trigger = {
		religion = catholic
		NOT = {
			has_country_flag = protestant_reaction
		}
		NOT = {
			religion_years = {
				protestant = 60
			}
		}
		OR = {
			any_neighbor_country = {
				has_country_flag = protestant_reaction
			}
			any_active_trade_node = {
				strongest_trade_power = {
					OR = {
						has_country_flag = protestant_reaction
						religion = protestant
						religion = reformed
					}
				}
			}
		}
	}
	mean_time_to_happen = {
		months = 10
		modifier = {
			any_neighbor_country = {
				has_country_flag = edict_of_worms
			}
			factor = 0.5
		}
		modifier = {
			any_owned_province = {
				has_province_flag = reformation_origins
			}
			factor = 0.5
		}
		modifier = {
			any_known_country = {
				OR = {
					religion = hussite
					religion = gnostic
					religion = protestant
					religion = reformed
				}
			}
			factor = 0.7
		}
		modifier = {
			any_known_country = {
				has_country_flag = protestant_reaction
				OR = {
					alliance_with = ROOT
					marriage_with = ROOT
					senior_union_with = ROOT
					junior_union_with = ROOT
				}
			}
			factor = 0.7
		}
		modifier = {
			NOT = {
				any_neighbor_country = {
					OR = {
						has_country_flag = protestant_reaction
						religion = protestant
						religion = reformed
					}
				}
			}
			factor = 3
		}
	}
	immediate = {
		set_country_flag = protestant_reaction
		if = {
			limit = {
				has_global_flag = reformation_roman_trial
			}
			custom_tooltip = dg_reformation.017.pope
			if = {
				limit = {
					has_global_flag = reformation_luther_in_hiding
				}
				custom_tooltip = dg_reformation.017.absentia
			}
			else = {
				custom_tooltip = dg_reformation.017.papacy
			}
		}
		else = {
			if = {
				limit = {
					event_target:imperial_edict_of_worms = {
						is_emperor = yes
					}
				}
				custom_tooltip = dg_reformation.017.hre
			}
			if = {
				limit = {
					event_target:imperial_edict_of_worms = {
						is_emperor = no
					}
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							AND = {
								OR = {
									culture_group = langue_d_oil
									culture_group = langue_d_oc
								}
							}
						}
					}
					custom_tooltip = dg_reformation.017.france
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							culture_group = british
						}
					}
					custom_tooltip = dg_reformation.017.britain
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							AND = {
								culture_group = low_frankish
							}
						}
					}
					custom_tooltip = dg_reformation.017.netherlands
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							culture_group = iberian
						}
					}
					custom_tooltip = dg_reformation.017.spain
				}
				if = {
					limit = {
						event_target:imperial_edict_of_worms = {
							AND = {
								culture_group = scandinavian
							}
						}
					}
					custom_tooltip = dg_reformation.017.scandinavia
				}
				if = {
					limit = {
						NOT = {
							event_target:imperial_edict_of_worms = {
								OR = {
									culture_group = british
									AND = {
										culture_group = low_frankish
									}
									culture_group = iberian
									AND = {
										culture_group = scandinavian
									}
								}
							}
						}
					}
					custom_tooltip = dg_reformation.017.generic
				}
			}
			if = {
				limit = {
					has_global_flag = reformation_luther_in_hiding
				}
				custom_tooltip = dg_reformation.017.absentia
			}
			else = {
				custom_tooltip = dg_reformation.017.luther
				hidden_effect = {
					random_owned_province = {
						limit = {
							is_capital = yes
							NOT = {
								has_province_flag = renaissance_ideas
							}
							religion = catholic
							OR = {
								continent = europe
								is_in_capital_area = yes
							}
							is_city = yes
						}
						random = {
							chance = 30
							custom_tooltip = heretic_20
							hidden_effect = {
								change_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
					}
					random_owned_province = {
						limit = {
							is_capital = yes
							event_target:reformation_origins = {
								culture_group = PREV
							}
							religion = catholic
							OR = {
								continent = europe
								is_in_capital_area = yes
							}
							is_city = yes
						}
						random = {
							chance = 20
							custom_tooltip = heretic_20
							hidden_effect = {
								change_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
					}
				}
			}
		}
		custom_tooltip = dg_reformation.017.end
		if = {
			limit = {
				has_global_flag = reformation_luther_sentenced
				NOT = {
					has_global_flag = reformation_luther_martyred
				}
			}
			custom_tooltip = dg_reformation.017.edict
		}
		if = {
			limit = {
				has_global_flag = reformation_luther_martyred
			}
			custom_tooltip = dg_reformation.017.death
			if = {
				limit = {
					event_target:imperial_edict_of_worms = {
						has_country_flag = luther_verdict_guilty
						has_country_flag = luther_safe_passage_promised
					}
				}
				custom_tooltip = dg_reformation.017.broken_vow
				if = {
					limit = {
						OR = {
							event_target:imperial_edict_of_worms = {
								overlord_of = ROOT
							}
							AND = {
								capital_scope = {
									is_part_of_hre = yes
								}
								event_target:imperial_edict_of_worms = {
									is_emperor = yes
								}
							}
						}
					}
					event_target:imperial_edict_of_worms = {
						add_opinion = {
							who = ROOT
							modifier = religious_scandal_fanatical
						}
					}
					if = {
						limit = {
							event_target:imperial_edict_of_worms = {
								overlord_of = ROOT
							}
						}
						add_liberty_desire = 10
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_global_flag = reformation_luther_sentenced
				}
				NOT = {
					has_global_flag = reformation_luther_martyred
				}
			}
			custom_tooltip = dg_reformation.017.life
		}
		hidden_effect = {
			if = {
				limit = {
					is_emperor = yes
				}
				if = {
					limit = {
						any_known_country = {
							government = republic
							AND = {
								OR = {
									has_reform = free_city
									has_reform = imperial_city
									has_reform = trading_city_legacy
								}
							}
							capital_scope = {
								is_part_of_hre = yes
								NOT = {
									has_province_flag = diet_of_worms
								}
							}
							NOT = {
								num_of_cities = 2
							}
							is_emperor = no
							is_elector = no
						}
					}
					random_country = {
						limit = {
							government = republic
							AND = {
								OR = {
									has_reform = free_city
									has_reform = imperial_city
									has_reform = trading_city_legacy
								}
							}
							capital_scope = {
								is_part_of_hre = yes
								NOT = {
									has_province_flag = diet_of_worms
								}
							}
							NOT = {
								num_of_cities = 2
							}
							is_emperor = no
							is_elector = no
						}
						capital_scope = {
							save_global_event_target_as = imperial_diet_of_worms
							set_province_flag = diet_of_worms
						}
					}
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								government = republic
								AND = {
									OR = {
										has_reform = free_city
										has_reform = imperial_city
										has_reform = trading_city_legacy
									}
								}
								capital_scope = {
									is_part_of_hre = yes
									NOT = {
										has_province_flag = diet_of_worms
									}
								}
								NOT = {
									num_of_cities = 2
								}
								is_emperor = no
								is_elector = no
							}
						}
						any_owned_province = {
							is_in_capital_area = yes
							culture_group = owner
							is_part_of_hre = yes
						}
					}
					random_owned_province = {
						limit = {
							is_in_capital_area = yes
							culture_group = owner
							is_part_of_hre = yes
						}
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								government = republic
								AND = {
									OR = {
										has_reform = free_city
										has_reform = imperial_city
										has_reform = trading_city_legacy
									}
								}
								capital_scope = {
									is_part_of_hre = yes
									NOT = {
										has_province_flag = diet_of_worms
									}
								}
								NOT = {
									num_of_cities = 2
								}
								is_emperor = no
								is_elector = no
							}
						}
						NOT = {
							any_owned_province = {
								is_in_capital_area = yes
								culture_group = owner
								is_part_of_hre = yes
							}
						}
					}
					capital_scope = {
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.017.f
		trigger = {
			has_global_flag = reformation_luther_sentenced
			NOT = {
				has_global_flag = reformation_luther_martyred
			}
			NOT = {
				has_global_flag = reformation_luther_returned
			}
			NOT = {
				has_global_flag = reformation_luther_in_hiding
			}
			NOT = {
				has_global_flag = reformation_luther_wartburg
			}
			NOT = {
				has_global_flag = reformation_roman_trial
			}
			NOT = {
				had_global_flag = {
					flag = reformation_luther_sentenced
					days = 300
				}
			}
			any_owned_province = {
				controlled_by = owner
				NOT = {
					has_siege = yes
				}
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				government = theocracy
				religion = catholic
				factor = 0
			}
			modifier = {
				NOT = {
					any_owned_province = {
						religion = catholic
						has_province_flag = humanist_ideas
					}
				}
				factor = 0
			}
			modifier = {
				has_country_flag = renaissance_leanings
				factor = 0.5
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0
			}
			modifier = {
				NOT = {
					religion = catholic
				}
				NOT = {
					religion = protestant
				}
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					alliance_with = ROOT
				}
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					marriage_with = ROOT
				}
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					is_enemy = ROOT
				}
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					is_rival = ROOT
				}
				factor = 2
			}
			modifier = {
				any_owned_province = {
					has_province_flag = reformation_origins
					has_owner_culture = yes
				}
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					overlord_of = ROOT
				}
				liberty_desire = 50
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					overlord_of = ROOT
				}
				liberty_desire = 100
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = {
					is_emperor = yes
				}
				is_elector = yes
				factor = 2
			}
		}
		add_mil_power = -25
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		if = {
			limit = {
				NOT = {
					has_global_flag = reformation_luther_martyred
				}
			}
			set_country_flag = luther_protection
		}
		clr_country_flag = renaissance
		set_country_flag = humanism
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_owner_culture = yes
				}
				clr_province_flag = renaissance_ideas
			}
			every_owned_province = {
				limit = {
					has_owner_religion = yes
					NOT = {
						culture_group = owner
					}
				}
				random = {
					chance = 35
					clr_province_flag = humanist_ideas
					set_province_flag = renaissance_ideas
				}
			}
			every_owned_province = {
				limit = {
					has_owner_religion = yes
					is_in_capital_area = no
				}
				random = {
					chance = 35
					clr_province_flag = humanist_ideas
					set_province_flag = renaissance_ideas
				}
			}
		}
	}
	option = {
		name = dg_reformation.017.g
		trigger = {
			OR = {
				ai = no
				has_country_flag = same_culture_as_reformer
				has_country_flag = humanism
				capital_scope = {
					any_province = {
						culture = PREV
						NOT = {
							owned_by = ROOT
						}
						NOT = {
							culture_group = owner
						}
						owner = {
							has_country_flag = renaissance
							num_of_cities = 12
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				government = theocracy
				capital_scope = {
					is_part_of_hre = yes
				}
				factor = 0
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0.2
			}
			modifier = {
				has_country_flag = renaissance_leanings
				factor = 0.5
			}
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 0.7
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		custom_tooltip = reformation_convert_from_catholic
		clr_country_flag = renaissance
		set_country_flag = humanism
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_owner_culture = yes
				}
				clr_province_flag = renaissance_ideas
			}
			every_owned_province = {
				limit = {
					has_owner_religion = yes
					NOT = {
						culture_group = owner
					}
				}
				random = {
					chance = 35
					clr_province_flag = humanist_ideas
					set_province_flag = renaissance_ideas
				}
			}
			every_owned_province = {
				limit = {
					has_owner_religion = yes
					is_in_capital_area = no
				}
				random = {
					chance = 35
					clr_province_flag = humanist_ideas
					set_province_flag = renaissance_ideas
				}
			}
		}
	}
	option = {
		name = dg_reformation.017.h
		trigger = {
			OR = {
				ai = no
				has_country_flag = renaissance
				AND = {
					OR = {
						is_elector = yes
						is_emperor = yes
					}
					calc_true_if = {
						all_country = {
							is_elector = yes
							NOT = {
								has_country_flag = renaissance
							}
						}
						amount = 6
					}
				}
				capital_scope = {
					any_province = {
						culture = PREV
						NOT = {
							owned_by = ROOT
						}
						NOT = {
							culture_group = owner
						}
						owner = {
							has_country_flag = humanism
							num_of_cities = 12
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				capital_scope = {
					check_variable = {
						which = hussite
						value = 10
					}
				}
				factor = 0.7
			}
			modifier = {
				capital_scope = {
					check_variable = {
						which = hussite
						value = 25
					}
				}
				factor = 0.7
			}
			modifier = {
				has_country_flag = was_hussite
				factor = 0.7
			}
			modifier = {
				has_country_flag = was_gnostic
				factor = 1.4
			}
			modifier = {
				has_country_flag = was_orthodox
				factor = 1.4
			}
			modifier = {
				has_country_flag = humanism
				factor = 0.2
			}
			modifier = {
				has_country_flag = humanist_leanings
				factor = 0.5
			}
			modifier = {
				has_country_flag = forbidden_index_banned
				factor = 2
			}
		}
		custom_tooltip = reformation_stay_catholic
		clr_country_flag = luther_protection
		clr_country_flag = let_luther_go
		clr_country_flag = electors_request
		clr_country_flag = humanism
		set_country_flag = renaissance
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_owner_culture = yes
				}
				clr_province_flag = humanist_ideas
			}
			if = {
				limit = {
					has_saved_event_target = the_vatican
				}
				every_owned_province = {
					limit = {
						has_owner_religion = yes
						NOT = {
							culture_group = owner
						}
						NOT = {
							event_target:the_vatican = {
								superregion = PREV
							}
						}
					}
					random = {
						chance = 35
						clr_province_flag = renaissance_ideas
						set_province_flag = humanist_ideas
					}
				}
				every_owned_province = {
					limit = {
						has_owner_religion = yes
						is_in_capital_area = no
						NOT = {
							event_target:the_vatican = {
								superregion = PREV
							}
						}
					}
					random = {
						chance = 35
						clr_province_flag = renaissance_ideas
						set_province_flag = humanist_ideas
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.019
	title = dg_reformation.019.t
	desc = dg_reformation.019.d
	picture = catholic_heretic_execution
	trigger = {
		has_global_flag = reformation_luther_martyred
		has_country_flag = protestant_reaction
		NOT = {
			is_religion_enabled = protestant
		}
		any_owned_province = {
			has_province_flag = humanist_ideas
		}
		NOT = {
			has_country_flag = luther_martyred
		}
	}
	mean_time_to_happen = {
		months = 1
	}
	immediate = {
		set_country_flag = luther_martyred
		hidden_effect = {
			every_province = {
				clr_province_flag = wartburg
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = luther_verdict_guilty
					has_country_flag = sent_luther_to_rome
					has_country_flag = sent_luther_to_trial
				}
				NOT = {
					has_country_flag = luther_allowed_to_leave
				}
			}
			custom_tooltip = dg_reformation.019.blame
		}
		if = {
			limit = {
				is_religion_enabled = protestant
			}
			custom_tooltip = dg_reformation.019.reformation
		}
		if = {
			limit = {
				OR = {
					AND = {
						NOT = {
							has_country_flag = luther_verdict_guilty
						}
						NOT = {
							has_country_flag = sent_luther_to_rome
						}
						NOT = {
							has_country_flag = sent_luther_to_trial
						}
					}
					has_country_flag = luther_allowed_to_leave
				}
				NOT = {
					is_religion_enabled = protestant
				}
			}
			custom_tooltip = dg_reformation.019.next
		}
		if = {
			limit = {
				has_country_flag = humanism
			}
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
	}
	option = {
		name = dg_reformation.019.a
		ai_chance = {
			factor = 60
		}
		if = {
			limit = {
				OR = {
					NOT = {
						OR = {
							has_country_flag = luther_verdict_guilty
							has_country_flag = sent_luther_to_rome
							has_country_flag = sent_luther_to_trial
						}
					}
					has_country_flag = luther_allowed_to_leave
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 4
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 4
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 2
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_2
					add_province_modifier = {
						name = religious_riots
						duration = 1000
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 8
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 8
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 8
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 8
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 4
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_4
					add_province_modifier = {
						name = religious_riots
						duration = 1000
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 12
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 12
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 12
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 12
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 6
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_6
					add_province_modifier = {
						name = religious_riots
						duration = 1000
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 12
							}
							check_variable = {
								which = protestant
								value = 12
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 12
							}
							check_variable = {
								which = protestant
								value = 12
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 8
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_8
					add_province_modifier = {
						name = religious_riots
						duration = 1000
					}
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = luther_verdict_guilty
					has_country_flag = sent_luther_to_rome
					has_country_flag = sent_luther_to_trial
				}
				NOT = {
					has_country_flag = luther_allowed_to_leave
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 4
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 4
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 4
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_4
					add_province_modifier = {
						name = religious_riots
						duration = 1000
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 8
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 8
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 8
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 8
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 8
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_8
					add_province_modifier = {
						name = religious_riots
						duration = 1000
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 12
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 12
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 12
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 12
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 12
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_12
					add_province_modifier = {
						name = religious_riots
						duration = 1000
					}
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 12
							}
							check_variable = {
								which = protestant
								value = 12
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 12
							}
							check_variable = {
								which = protestant
								value = 12
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 16
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_16
					add_province_modifier = {
						name = religious_riots
						duration = 1000
					}
				}
			}
		}
		custom_tooltip = protestant_10
		custom_tooltip = reformed_10
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
				}
				random = {
					chance = 50
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					OR = {
						religion = catholic
						religion = protestant
					}
				}
				random = {
					chance = 50
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
				}
				random = {
					chance = 25
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.019.b
		trigger = {
			any_owned_province = {
				OR = {
					check_variable = {
						which = protestant_supporters
						value = 1
					}
					check_variable = {
						which = protestant
						value = 1
					}
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				OR = {
					has_country_flag = sent_luther_to_rome
					has_country_flag = luther_verdict_guilty
				}
				factor = 2
			}
			modifier = {
				government = theocracy
				religion = catholic
				factor = 2
			}
		}
		if = {
			limit = {
				NOT = {
					num_of_owned_provinces_with = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							check_variable = {
								which = protestant
								value = 1
							}
						}
						value = 2
					}
				}
			}
			add_mil_power = -10
		}
		if = {
			limit = {
				num_of_owned_provinces_with = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 1
						}
						check_variable = {
							which = protestant
							value = 1
						}
					}
					value = 2
				}
				NOT = {
					num_of_owned_provinces_with = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							check_variable = {
								which = protestant
								value = 1
							}
						}
						value = 4
					}
				}
			}
			add_mil_power = -25
		}
		if = {
			limit = {
				num_of_owned_provinces_with = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 1
						}
						check_variable = {
							which = protestant
							value = 1
						}
					}
					value = 4
				}
			}
			add_mil_power = -50
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = luther_verdict_guilty
					has_country_flag = sent_luther_to_rome
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 4
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 4
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 2
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_2
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 8
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 8
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 8
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 8
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 4
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_4
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 12
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 12
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 12
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 12
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 6
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_6
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 12
							}
							check_variable = {
								which = protestant
								value = 12
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 12
							}
							check_variable = {
								which = protestant
								value = 12
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 8
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_8
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = luther_verdict_guilty
					has_country_flag = sent_luther_to_rome
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 4
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 4
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 1
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 4
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 4
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_4
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 8
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 8
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 8
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 4
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 8
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 8
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_8
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 12
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 12
									}
								}
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant_supporters
										value = 12
									}
								}
							}
							AND = {
								check_variable = {
									which = protestant
									value = 8
								}
								NOT = {
									check_variable = {
										which = protestant
										value = 12
									}
								}
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 12
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_12
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 12
							}
							check_variable = {
								which = protestant
								value = 12
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 12
							}
							check_variable = {
								which = protestant
								value = 12
							}
						}
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 16
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_16
				}
			}
		}
		custom_tooltip = reformed_10
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					OR = {
						religion = catholic
						religion = protestant
					}
				}
				random = {
					chance = 50
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.019.c
		trigger = {
			has_country_flag = humanism
			NOT = {
				OR = {
					has_country_flag = sent_luther_to_rome
					has_country_flag = luther_verdict_guilty
				}
			}
			any_owned_province = {
				OR = {
					check_variable = {
						which = protestant_supporters
						value = 4
					}
					check_variable = {
						which = protestant
						value = 4
					}
				}
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				PAP = {
					check_variable = {
						which = papal_authority
						value = 500
					}
				}
				factor = 0.7
			}
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 400
						}
					}
				}
				factor = 1.4
			}
			modifier = {
				is_papal_controller = yes
				factor = 0
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 2
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 25
				}
				factor = 2
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 50
				}
				factor = 2
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		if = {
			limit = {
				NOT = {
					num_of_owned_provinces_with = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							check_variable = {
								which = protestant
								value = 1
							}
						}
						value = 2
					}
				}
			}
			add_dip_power = -10
		}
		if = {
			limit = {
				num_of_owned_provinces_with = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 1
						}
						check_variable = {
							which = protestant
							value = 1
						}
					}
					value = 2
				}
				NOT = {
					num_of_owned_provinces_with = {
						OR = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							check_variable = {
								which = protestant
								value = 1
							}
						}
						value = 4
					}
				}
			}
			add_dip_power = -25
		}
		if = {
			limit = {
				num_of_owned_provinces_with = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 1
						}
						check_variable = {
							which = protestant
							value = 1
						}
					}
					value = 4
				}
			}
			add_dip_power = -50
		}
		custom_tooltip = protestant_20
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 1
						}
						check_variable = {
							which = protestant
							value = 1
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 1
						}
						check_variable = {
							which = protestant
							value = 1
						}
					}
				}
				add_province_modifier = {
					name = religious_riots
					duration = 1000
				}
			}
		}
		custom_tooltip = protestant_10
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
				}
				random = {
					chance = 50
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
				}
				random = {
					chance = 25
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.020
	title = dg_reformation.020.t
	desc = dg_reformation.020.d
	picture = protestant_submission
	trigger = {
		has_country_flag = luther_protection
		NOT = {
			has_global_flag = reformation_luther_wartburg
		}
		NOT = {
			has_global_flag = reformation_roman_trial
		}
		NOT = {
			religion_years = {
				protestant = 30
			}
		}
		any_owned_province = {
			continent = europe
		}
	}
	mean_time_to_happen = {
		months = 6
		modifier = {
			event_target:reformation_origins = {
				culture_group = ROOT
			}
			factor = 0.5
		}
		modifier = {
			any_owned_province = {
				has_province_flag = reformation_origins
			}
			factor = 0.5
		}
		modifier = {
			any_neighbor_country = {
				NOT = {
					religion = catholic
				}
			}
			factor = 2
		}
		modifier = {
			check_variable = {
				which = protestant_population
				value = 10
			}
			factor = 0.7
		}
		modifier = {
			check_variable = {
				which = protestant_population
				value = 25
			}
			factor = 0.7
		}
		modifier = {
			check_variable = {
				which = protestant_population
				value = 50
			}
			factor = 0.7
		}
	}
	immediate = {
		set_global_flag = reformation_luther_wartburg
		set_country_flag = notified_of_wartburg
		custom_tooltip = dg_reformation.020.abductor
		hidden_effect = {
			if = {
				limit = {
					any_owned_province = {
						is_in_capital_area = yes
						religion = catholic
						controlled_by = owner
					}
				}
				random_owned_province = {
					limit = {
						is_in_capital_area = yes
						religion = catholic
						controlled_by = owner
						is_city = yes
					}
					set_province_flag = wartburg
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_owned_province = {
							is_in_capital_area = yes
							religion = catholic
							controlled_by = owner
							is_city = yes
						}
					}
				}
				random_owned_province = {
					limit = {
						continent = europe
						is_city = yes
					}
					set_province_flag = wartburg
					change_variable = {
						which = protestant_supporters
						value = 4
					}
				}
			}
		}
		hidden_effect = {
			every_country = {
				clr_country_flag = luther_protection
			}
		}
		set_country_flag = hiding_luther
		clr_country_flag = luther_protection
	}
	option = {
		name = dg_reformation.020.a
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		define_advisor = {
			religion = protestant
			type = theologian
			skill = 3
			discount = yes
		}
	}
}
country_event = {
	id = dg_reformation.021
	title = dg_reformation.020.t
	desc = dg_reformation.020.d
	picture = protestant_submission
	trigger = {
		has_global_flag = reformation_luther_wartburg
		NOT = {
			has_country_flag = notified_of_wartburg
		}
		OR = {
			has_country_flag = diet_of_worms
			has_country_flag = luther_protection
			any_owned_province = {
				has_province_flag = reformation_origins
			}
			AND = {
				religion = catholic
				has_country_flag = religious_news_trivial
			}
			AND = {
				religion_group = christian
				has_country_flag = religious_news_all
			}
		}
		NOT = {
			is_religion_enabled = protestant
		}
	}
	mean_time_to_happen = {
		months = 1
	}
	immediate = {
		set_country_flag = notified_of_wartburg
		if = {
			limit = {
				has_country_flag = diet_of_worms
				NOT = {
					has_country_flag = electors_request
				}
			}
			custom_tooltip = dg_reformation.020.emperor
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = diet_of_worms
				}
				NOT = {
					has_country_flag = electors_request
				}
			}
			custom_tooltip = dg_reformation.020.other
		}
	}
	option = {
		name = dg_reformation.020.a
		if = {
			limit = {
				has_country_flag = electors_request
			}
			define_advisor = {
				religion = protestant
				type = theologian
				skill = 3
				discount = yes
			}
		}
	}
}
province_event = {
	id = dg_reformation.022
	title = dg_reformation.022.t
	desc = dg_reformation.022.d
	picture = protestant_disputation
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				owner = {
					NOT = {
						num_of_cardinals = 1
					}
					has_country_flag = humanism
					NOT = {
						is_papal_controller = yes
					}
					NOT = {
						government = theocracy
					}
				}
			}
			custom_tooltip = dg_reformation.022.reformer
		}
		if = {
			limit = {
				NOT = {
					owner = {
						NOT = {
							num_of_cardinals = 1
						}
						has_country_flag = humanism
						NOT = {
							is_papal_controller = yes
						}
						NOT = {
							government = theocracy
						}
					}
				}
			}
			custom_tooltip = dg_reformation.022.church
		}
	}
	option = {
		name = dg_reformation.022.a
		ai_chance = {
			factor = 60
			modifier = {
				PAP = {
					check_variable = {
						which = papal_authority
						value = 500
					}
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 400
						}
					}
				}
				factor = 0.7
			}
		}
		trigger = {
			NOT = {
				owner = {
					NOT = {
						num_of_cardinals = 1
					}
					has_country_flag = humanism
					NOT = {
						is_papal_controller = yes
					}
					NOT = {
						government = theocracy
					}
				}
			}
		}
		hidden_effect = {
			owner = {
				change_variable = {
					which = support_for_reform
					value = -1
				}
			}
		}
		owner = {
			add_papal_influence = 10
			random_country = {
				limit = {
					any_owned_province = {
						has_province_flag = reformation_origins
					}
				}
				add_opinion = {
					who = ROOT
					modifier = religious_scandal_decadent
				}
			}
		}
	}
	option = {
		name = dg_reformation.022.b
		ai_chance = {
			factor = 30
		}
		owner = {
			add_prestige = -1
		}
	}
	option = {
		name = dg_reformation.022.c
		ai_chance = {
			factor = 10
		}
		trigger = {
			owner = {
				NOT = {
					num_of_cardinals = 1
				}
				has_country_flag = humanism
				NOT = {
					is_papal_controller = yes
				}
				NOT = {
					government = theocracy
				}
			}
		}
		owner = {
			hidden_effect = {
				change_variable = {
					which = support_for_reform
					value = 1
				}
				set_country_flag = useful_protestant
				change_variable = {
					which = minority_usefulness
					value = 5
				}
			}
			add_papal_influence = -50
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			every_country = {
				limit = {
					OR = {
						is_papal_controller = yes
						AND = {
							OR = {
								has_reform = papacy_reform
								has_reform = papal_government
							}
						}
					}
				}
				add_opinion = {
					who = ROOT
					modifier = religious_scandal_decadent
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.023
	title = dg_reformation.023.t
	desc = dg_reformation.023.d
	picture = all_bad_peace
	is_triggered_only = yes
	option = {
		name = dg_reformation.023.a
		ai_chance = {
			factor = 50
		}
		add_prestige = -5
		event_target:imperial_edict_of_worms = {
			set_country_flag = luther_on_trial
		}
	}
	option = {
		name = dg_reformation.023.b
		ai_chance = {
			factor = 50
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		add_mil_power = -25
		if = {
			limit = {
				NOT = {
					has_global_flag = reformation_luther_in_hiding
				}
			}
			FROM = {
				country_event = {
					id = dg_reformation.013
					days = 30
				}
			}
		}
		set_country_flag = luther_protection
		reverse_add_opinion = {
			who = FROM
			modifier = opinion_displeased
		}
		if = {
			limit = {
				is_subject_of = FROM
			}
			add_liberty_desire = 10
		}
	}
}
country_event = {
	id = dg_reformation.024
	title = dg_reformation.024.t
	desc = dg_reformation.024.d
	picture = protestant_state_church
	trigger = {
		has_country_flag = rebuttal_of_ninety_five_theses
		religion = catholic
		NOT = {
			is_religion_enabled = protestant
		}
		OR = {
			has_regency = no
			has_consort_regency = yes
		}
	}
	mean_time_to_happen = {
		months = 50
		modifier = {
			NOT = {
				num_of_cities = 24
			}
			factor = 1.4
		}
		modifier = {
			NOT = {
				num_of_cities = 12
			}
			factor = 1.4
		}
		modifier = {
			NOT = {
				num_of_cities = 6
			}
			factor = 1.4
		}
		modifier = {
			NOT = {
				num_of_cities = 3
			}
			factor = 1.4
		}
		modifier = {
			NOT = {
				num_of_cities = 2
			}
			factor = 1.4
		}
		modifier = {
			AND = {
				is_subject = yes
				NOT = {
					is_subject_of_type = tributary_state
				}
				NOT = {
					is_subject_of_type = close_tributary_state
				}
			}
			factor = 2
		}
		modifier = {
			capital_scope = {
				is_part_of_hre = yes
			}
			factor = 1.4
		}
		modifier = {
			has_country_flag = humanism
			factor = 0.5
		}
	}
	immediate = {
		hidden_effect = {
			every_country = {
				clr_country_flag = rebuttal_of_ninety_five_theses
			}
		}
	}
	option = {
		name = dg_reformation.024.a
		set_country_flag = fidei_defensor
		if = {
			limit = {
				piety = 0.60
			}
			add_prestige = 16
			add_devotion = 16
			add_legitimacy = 8
			add_republican_tradition = 4
		}
		else_if = {
			limit = {
				piety = 0.20
			}
			add_prestige = 8
			add_devotion = 8
			add_legitimacy = 4
			add_republican_tradition = 2
		}
		else_if = {
			limit = {
				piety = -0.20
			}
			add_prestige = 4
			add_devotion = 4
			add_legitimacy = 2
			add_republican_tradition = 1
		}
		else_if = {
			limit = {
				piety = -0.60
			}
			add_prestige = 2
			add_devotion = 2
			add_legitimacy = 1
			add_republican_tradition = 0.5
		}
	}
}
province_event = {
	id = dg_reformation.025
	title = dg_reformation.025.t
	desc = dg_reformation.025.d
	picture = all_publishing
	trigger = {
		has_global_flag = reformation_luther_sentenced
		has_province_flag = wartburg
		controlled_by = owner
		owner = {
			OR = {
				has_country_flag = luther_protection
				has_country_flag = sheltered_luther
				has_country_flag = hiding_luther
				has_country_flag = electors_request
				has_country_flag = let_luther_go
			}
		}
		NOT = {
			has_global_flag = reformation_september_testament
		}
		NOT = {
			religion_years = {
				protestant = 30
			}
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		set_global_flag = reformation_september_testament
	}
	option = {
		name = dg_reformation.025.a
		ai_chance = {
			factor = 70
			modifier = {
				owner = {
					NOT = {
						religion = catholic
					}
				}
				factor = 2
			}
			modifier = {
				owner = {
					is_bankrupt = yes
				}
				factor = 0.5
			}
		}
		owner = {
			hidden_effect = {
				change_variable = {
					which = support_for_reform
					value = 1
				}
				set_country_flag = useful_protestant
				change_variable = {
					which = minority_usefulness
					value = 5
				}
			}
			add_years_of_income = -0.04
			if = {
				limit = {
					piety = 0.60
				}
				add_prestige = 16
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_prestige = 12
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_prestige = 8
			}
			else_if = {
				limit = {
					piety = -0.60
				}
				add_prestige = 4
			}
		}
		custom_tooltip = protestant_20
		hidden_effect = {
			owner = {
				every_owned_province = {
					limit = {
						OR = {
							NOT = {
								has_province_flag = renaissance_ideas
							}
							AND = {
								is_in_capital_area = no
								owner = {
									has_country_flag = renaissance
								}
							}
						}
						religion = catholic
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					random = {
						chance = 30
						hidden_effect = {
							change_variable = {
								which = protestant_supporters
								value = 4
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						event_target:reformation_origins = {
							culture_group = PREV
						}
						religion = catholic
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					random = {
						chance = 20
						hidden_effect = {
							change_variable = {
								which = protestant_supporters
								value = 4
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.025.b
		trigger = {
			owner = {
				OR = {
					religion = catholic
					ai = no
				}
			}
		}
		ai_chance = {
			factor = 30
		}
		owner = {
			if = {
				limit = {
					piety = 0.60
				}
				add_prestige = 4
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_prestige = 3
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_prestige = 2
			}
			else_if = {
				limit = {
					piety = -0.60
				}
				add_prestige = 1
			}
		}
		custom_tooltip = protestant_20
		hidden_effect = {
			owner = {
				every_owned_province = {
					limit = {
						OR = {
							NOT = {
								has_province_flag = renaissance_ideas
							}
							AND = {
								is_in_capital_area = no
								owner = {
									has_country_flag = renaissance
								}
							}
						}
						religion = catholic
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					random = {
						chance = 15
						hidden_effect = {
							change_variable = {
								which = protestant_supporters
								value = 4
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						event_target:reformation_origins = {
							culture_group = PREV
						}
						religion = catholic
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					random = {
						chance = 10
						hidden_effect = {
							change_variable = {
								which = protestant_supporters
								value = 4
							}
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.026
	title = dg_reformation.026.t
	desc = dg_reformation.026.d
	picture = all_publishing
	trigger = {
		has_global_flag = reformation_september_testament
		NOT = {
			has_global_flag = reformation_lutheran_doctrines
		}
		OR = {
			has_country_flag = humanism
			has_country_flag = let_luther_go
			has_country_flag = luther_protection
			has_country_flag = sheltered_luther
			has_country_flag = hiding_luther
			has_country_flag = electors_request
			religion = protestant
		}
		NOT = {
			has_global_flag = reformation_luther_martyred
		}
		NOT = {
			is_religion_enabled = protestant
		}
		any_owned_province = {
			has_province_flag = wartburg
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		set_global_flag = reformation_lutheran_doctrines
	}
	option = {
		name = dg_reformation.026.a
		if = {
			limit = {
				has_country_flag = humanism
			}
			define_advisor = {
				type = theologian
				discount = yes
			}
		}
		hidden_effect = {
			every_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 30
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
			every_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 20
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.027
	title = dg_reformation.027.t
	desc = dg_reformation.027.d
	picture = protestant_division
	trigger = {
		has_country_flag = protestant_reaction
		has_country_flag = protestant_ideas
		has_global_flag = reformation_luther_sentenced
		NOT = {
			is_religion_enabled = reformed
		}
		NOT = {
			has_country_flag = divided_reformation
		}
		any_owned_province = {
			check_variable = {
				which = protestant
				value = 2
			}
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		set_country_flag = divided_reformation
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						has_global_flag = reformation_zwickau_prophets
					}
				}
				random_province = {
					limit = {
						any_neighbor_province = {
							has_province_flag = reformation_origins
						}
						check_variable = {
							which = protestant
							value = 2
						}
						owner = {
							has_country_flag = humanism
						}
					}
					set_global_flag = reformation_zwickau_prophets
					save_global_event_target_as = zwickau_prophets
					set_province_flag = zwickau
				}
				if = {
					limit = {
						NOT = {
							has_global_flag = reformation_zwickau_prophets
						}
					}
					random_province = {
						limit = {
							event_target:reformation_origins = {
								culture_group = PREV
							}
							check_variable = {
								which = protestant
								value = 2
							}
							owner = {
								has_country_flag = humanism
							}
						}
						set_global_flag = reformation_zwickau_prophets
						save_global_event_target_as = zwickau_prophets
						set_province_flag = zwickau
					}
				}
				else = {
					random_province = {
						limit = {
							check_variable = {
								which = protestant
								value = 2
							}
							owner = {
								has_country_flag = humanism
							}
						}
						set_global_flag = reformation_zwickau_prophets
						save_global_event_target_as = zwickau_prophets
						set_province_flag = zwickau
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.027.a
		trigger = {
			NOT = {
				has_country_flag = humanism
			}
		}
		ai_chance = {
			factor = 35
		}
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
		}
		custom_tooltip = protestant_to_reformed_large
		hidden_effect = {
			every_owned_province = {
				limit = {
					check_variable = {
						which = protestant
						value = 2
					}
				}
				random = {
					chance = 50
					change_variable = {
						which = protestant
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = protestant
							value = 4
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = protestant
							value = -2
						}
						change_variable = {
							which = reformed
							value = 2
						}
					}
					if = {
						limit = {
							check_variable = {
								which = protestant
								value = 6
							}
						}
						random = {
							chance = 50
							change_variable = {
								which = protestant
								value = -2
							}
							change_variable = {
								which = reformed
								value = 2
							}
						}
						if = {
							limit = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
							random = {
								chance = 50
								change_variable = {
									which = protestant
									value = -2
								}
								change_variable = {
									which = reformed
									value = 2
								}
							}
							if = {
								limit = {
									check_variable = {
										which = protestant
										value = 10
									}
								}
								random = {
									chance = 50
									change_variable = {
										which = protestant
										value = -2
									}
									change_variable = {
										which = reformed
										value = 2
									}
								}
								if = {
									limit = {
										check_variable = {
											which = protestant
											value = 12
										}
									}
									random = {
										chance = 50
										change_variable = {
											which = protestant
											value = -2
										}
										change_variable = {
											which = reformed
											value = 2
										}
									}
									if = {
										limit = {
											check_variable = {
												which = protestant
												value = 14
											}
										}
										random = {
											chance = 50
											change_variable = {
												which = protestant
												value = -2
											}
											change_variable = {
												which = reformed
												value = 2
											}
										}
										if = {
											limit = {
												check_variable = {
													which = protestant
													value = 16
												}
											}
											random = {
												chance = 50
												change_variable = {
													which = protestant
													value = -2
												}
												change_variable = {
													which = reformed
													value = 2
												}
											}
											if = {
												limit = {
													check_variable = {
														which = protestant
														value = 18
													}
												}
												random = {
													chance = 50
													change_variable = {
														which = protestant
														value = -2
													}
													change_variable = {
														which = reformed
														value = 2
													}
												}
												if = {
													limit = {
														check_variable = {
															which = protestant
															value = 20
														}
													}
													random = {
														chance = 50
														change_variable = {
															which = protestant
															value = -2
														}
														change_variable = {
															which = reformed
															value = 2
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.027.b
		ai_chance = {
			factor = 30
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 0.5
			}
			modifier = {
				NOT = {
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
				}
				factor = 0
			}
		}
		add_adm_power = -25
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
		}
		custom_tooltip = protestant_to_reformed_small
		hidden_effect = {
			every_owned_province = {
				limit = {
					check_variable = {
						which = protestant
						value = 2
					}
				}
				random = {
					chance = 25
					change_variable = {
						which = protestant
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = protestant
							value = 4
						}
					}
					random = {
						chance = 25
						change_variable = {
							which = protestant
							value = -2
						}
						change_variable = {
							which = reformed
							value = 2
						}
					}
					if = {
						limit = {
							check_variable = {
								which = protestant
								value = 6
							}
						}
						random = {
							chance = 25
							change_variable = {
								which = protestant
								value = -2
							}
							change_variable = {
								which = reformed
								value = 2
							}
						}
						if = {
							limit = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
							random = {
								chance = 25
								change_variable = {
									which = protestant
									value = -2
								}
								change_variable = {
									which = reformed
									value = 2
								}
							}
							if = {
								limit = {
									check_variable = {
										which = protestant
										value = 10
									}
								}
								random = {
									chance = 25
									change_variable = {
										which = protestant
										value = -2
									}
									change_variable = {
										which = reformed
										value = 2
									}
								}
								if = {
									limit = {
										check_variable = {
											which = protestant
											value = 12
										}
									}
									random = {
										chance = 25
										change_variable = {
											which = protestant
											value = -2
										}
										change_variable = {
											which = reformed
											value = 2
										}
									}
									if = {
										limit = {
											check_variable = {
												which = protestant
												value = 14
											}
										}
										random = {
											chance = 25
											change_variable = {
												which = protestant
												value = -2
											}
											change_variable = {
												which = reformed
												value = 2
											}
										}
										if = {
											limit = {
												check_variable = {
													which = protestant
													value = 16
												}
											}
											random = {
												chance = 25
												change_variable = {
													which = protestant
													value = -2
												}
												change_variable = {
													which = reformed
													value = 2
												}
											}
											if = {
												limit = {
													check_variable = {
														which = protestant
														value = 18
													}
												}
												random = {
													chance = 25
													change_variable = {
														which = protestant
														value = -2
													}
													change_variable = {
														which = reformed
														value = 2
													}
												}
												if = {
													limit = {
														check_variable = {
															which = protestant
															value = 20
														}
													}
													random = {
														chance = 25
														change_variable = {
															which = protestant
															value = -2
														}
														change_variable = {
															which = reformed
															value = 2
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.027.c
		trigger = {
			has_country_flag = humanism
		}
		ai_chance = {
			factor = 35
		}
		custom_tooltip = stability_points_gained_50
		hidden_effect = {
			change_variable = {
				which = stability_points
				value = 50
			}
			country_event = {
				id = POP_Stability.002
			}
		}
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
		}
		custom_tooltip = protestant_to_reformed_large
		hidden_effect = {
			every_owned_province = {
				limit = {
					check_variable = {
						which = protestant
						value = 2
					}
				}
				random = {
					chance = 50
					change_variable = {
						which = protestant
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = protestant
							value = 4
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = protestant
							value = -2
						}
						change_variable = {
							which = reformed
							value = 2
						}
					}
					if = {
						limit = {
							check_variable = {
								which = protestant
								value = 6
							}
						}
						random = {
							chance = 50
							change_variable = {
								which = protestant
								value = -2
							}
							change_variable = {
								which = reformed
								value = 2
							}
						}
						if = {
							limit = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
							random = {
								chance = 50
								change_variable = {
									which = protestant
									value = -2
								}
								change_variable = {
									which = reformed
									value = 2
								}
							}
							if = {
								limit = {
									check_variable = {
										which = protestant
										value = 10
									}
								}
								random = {
									chance = 50
									change_variable = {
										which = protestant
										value = -2
									}
									change_variable = {
										which = reformed
										value = 2
									}
								}
								if = {
									limit = {
										check_variable = {
											which = protestant
											value = 12
										}
									}
									random = {
										chance = 50
										change_variable = {
											which = protestant
											value = -2
										}
										change_variable = {
											which = reformed
											value = 2
										}
									}
									if = {
										limit = {
											check_variable = {
												which = protestant
												value = 14
											}
										}
										random = {
											chance = 50
											change_variable = {
												which = protestant
												value = -2
											}
											change_variable = {
												which = reformed
												value = 2
											}
										}
										if = {
											limit = {
												check_variable = {
													which = protestant
													value = 16
												}
											}
											random = {
												chance = 50
												change_variable = {
													which = protestant
													value = -2
												}
												change_variable = {
													which = reformed
													value = 2
												}
											}
											if = {
												limit = {
													check_variable = {
														which = protestant
														value = 18
													}
												}
												random = {
													chance = 50
													change_variable = {
														which = protestant
														value = -2
													}
													change_variable = {
														which = reformed
														value = 2
													}
												}
												if = {
													limit = {
														check_variable = {
															which = protestant
															value = 20
														}
													}
													random = {
														chance = 50
														change_variable = {
															which = protestant
															value = -2
														}
														change_variable = {
															which = reformed
															value = 2
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
province_event = {
	id = dg_reformation.028
	title = dg_reformation.028.t
	desc = dg_reformation.028.d
	picture = reformed_converts
	trigger = {
		has_global_flag = reformation_luther_sentenced
		NOT = {
			has_global_flag = reformation_luther_returned
		}
		NOT = {
			religion_years = {
				protestant = 10
			}
		}
		OR = {
			has_province_flag = zwickau
			any_neighbor_province = {
				has_province_flag = zwickau_prophets
			}
		}
		event_target:reformation_origins = {
			OR = {
				superregion = ROOT
				culture_group = ROOT
			}
		}
		NOT = {
			has_province_flag = zwickau_prophets
		}
		NOT = {
			is_religion_enabled = reformed
		}
	}
	mean_time_to_happen = {
		months = 25
	}
	immediate = {
		hidden_effect = {
			set_province_flag = zwickau_prophets
			set_province_flag = event_target
			if = {
				limit = {
					owner = {
						num_of_cities = 12
					}
					NOT = {
						owner = {
							num_of_cities = 36
						}
					}
				}
				every_neighbor_province = {
					limit = {
						owned_by = ROOT
						NOT = {
							has_province_flag = zwickau_prophets
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
					}
					set_province_flag = event_target
					set_province_flag = zwickau_prophets
				}
			}
			if = {
				limit = {
					owner = {
						num_of_cities = 36
					}
				}
				every_neighbor_province = {
					every_neighbor_province = {
						limit = {
							owned_by = ROOT
							NOT = {
								has_province_flag = zwickau_prophets
							}
							OR = {
								religion = catholic
								religion = protestant
								religion = reformed
							}
						}
						set_province_flag = event_target
						set_province_flag = zwickau_prophets
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.028.a
		trigger = {
			NOT = {
				owner = {
					religion = reformed
				}
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				owner = {
					has_country_flag = humanism
				}
				has_global_flag = reformation_luther_martyred
				factor = 0.5
			}
		}
		owner = {
			if = {
				limit = {
					num_of_cities = 24
				}
				add_mil_power = -90
			}
			else_if = {
				limit = {
					num_of_cities = 12
				}
				add_mil_power = -30
			}
			else = {
				add_mil_power = -10
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						has_province_flag = event_target
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 2
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_2
					clr_province_flag = event_target
				}
			}
		}
	}
	option = {
		name = dg_reformation.028.b
		ai_chance = {
			factor = 40
			modifier = {
				owner = {
					has_country_flag = renaissance
				}
				factor = 0
			}
			modifier = {
				has_global_flag = reformation_luther_martyred
				NOT = {
					is_religion_enabled = protestant
				}
				factor = 0.5
			}
		}
		owner = {
			custom_tooltip = heretic_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						has_province_flag = event_target
					}
					clr_province_flag = event_target
					random = {
						chance = 50
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = protestant
										value = 4
									}
								}
							}
							change_variable = {
								which = province_religion
								value = -4
							}
						}
						if = {
							limit = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
							change_variable = {
								which = protestant
								value = -4
							}
						}
						change_variable = {
							which = reformed
							value = 4
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.028.c
		trigger = {
			has_global_flag = reformation_luther_martyred
			NOT = {
				is_religion_enabled = protestant
			}
			owner = {
				religion = catholic
				has_country_flag = humanism
				NOT = {
					AND = {
						OR = {
							has_reform = papacy_reform
							has_reform = papal_government
						}
					}
				}
				is_force_converted = no
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				NOT = {
					is_religion_enabled = protestant
				}
				factor = 3
			}
			modifier = {
				owner = {
					num_of_cities = 6
				}
				factor = 0.5
			}
			modifier = {
				NOT = {
					owner = {
						num_of_cities = 3
					}
				}
				factor = 2
			}
			modifier = {
				owner = {
					check_variable = {
						which = reformed_population
						value = 10
					}
				}
				factor = 2
			}
			modifier = {
				owner = {
					check_variable = {
						which = reformed_population
						value = 25
					}
				}
				factor = 2
			}
		}
		owner = {
			hidden_effect = {
				set_variable = {
					which = minority_usefulness
					value = 30
				}
			}
			set_country_flag = useful_reformed
			set_country_flag = voluntary_conversion
			if = {
				limit = {
					NOT = {
						is_religion_enabled = reformed
					}
				}
				custom_tooltip = convert_dangerous_religion
				add_stability = -1
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -5
				}
			}
			if = {
				limit = {
					check_variable = {
						which = reformed_population
						value = 75
					}
				}
				custom_tooltip = convert_population_75
				custom_tooltip = stability_points_gained_50
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 50
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = reformed_population
						value = 50
					}
				}
				custom_tooltip = convert_population_50
			}
			else_if = {
				limit = {
					check_variable = {
						which = reformed_population
						value = 25
					}
				}
				custom_tooltip = convert_population_25
				add_stability = -1
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -5
				}
			}
			else = {
				custom_tooltip = convert_population_0
				add_stability = -2
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -10
				}
			}
			if = {
				limit = {
					patriarch_authority = 0.75
				}
				custom_tooltip = convert_church_strong
				add_stability = -2
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -10
				}
			}
			else_if = {
				limit = {
					patriarch_authority = 0.50
				}
				custom_tooltip = convert_piety_moderate
				add_stability = -1
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -5
				}
			}
			else_if = {
				limit = {
					patriarch_authority = 0.25
				}
				custom_tooltip = convert_church_weak
			}
			else = {
				custom_tooltip = convert_church_insignificant
			}
			if = {
				limit = {
					ADM = 5
				}
				if = {
					limit = {
						capital_scope = {
							religion = reformed
						}
					}
					custom_tooltip = convert_ruler_strong
					custom_tooltip = stability_points_gained_150
					hidden_effect = {
						change_variable = {
							which = stability_points
							value = 150
						}
						country_event = {
							id = POP_Stability.002
						}
					}
				}
				else = {
					custom_tooltip = convert_ruler_moderate
					custom_tooltip = stability_points_gained_100
					hidden_effect = {
						change_variable = {
							which = stability_points
							value = 100
						}
						country_event = {
							id = POP_Stability.002
						}
					}
				}
			}
			else_if = {
				limit = {
					ADM = 3
				}
				if = {
					limit = {
						capital_scope = {
							religion = reformed
						}
					}
					custom_tooltip = convert_ruler_moderate
					custom_tooltip = stability_points_gained_100
					hidden_effect = {
						change_variable = {
							which = stability_points
							value = 100
						}
						country_event = {
							id = POP_Stability.002
						}
					}
				}
				else = {
					custom_tooltip = convert_ruler_weak
					custom_tooltip = stability_points_gained_50
					hidden_effect = {
						change_variable = {
							which = stability_points
							value = 50
						}
						country_event = {
							id = POP_Stability.002
						}
					}
				}
			}
			else = {
				if = {
					limit = {
						capital_scope = {
							religion = reformed
						}
					}
					custom_tooltip = convert_ruler_weak
					custom_tooltip = stability_points_gained_50
					hidden_effect = {
						change_variable = {
							which = stability_points
							value = 50
						}
						country_event = {
							id = POP_Stability.002
						}
					}
				}
				else = {
					custom_tooltip = convert_ruler_incompetent
				}
			}
			if = {
				limit = {
					advisor = theologian
				}
				custom_tooltip = convert_theologian
				custom_tooltip = stability_points_gained_50
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 50
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_reformed
				}
				if = {
					limit = {
						check_variable = {
							which = sympathy_to_old_religion
							value = 1
						}
					}
					custom_tooltip = convert_previous_recent
					custom_tooltip = stability_points_gained_100
					hidden_effect = {
						change_variable = {
							which = stability_points
							value = 100
						}
						country_event = {
							id = POP_Stability.002
						}
					}
				}
				else = {
					custom_tooltip = convert_previous_old
					custom_tooltip = stability_points_gained_50
					hidden_effect = {
						change_variable = {
							which = stability_points
							value = 50
						}
						country_event = {
							id = POP_Stability.002
						}
					}
				}
			}
			else = {
				if = {
					limit = {
						check_variable = {
							which = sympathy_to_old_religion
							value = 1
						}
					}
					custom_tooltip = convert_recent
					custom_tooltip = stability_points_gained_50
					hidden_effect = {
						change_variable = {
							which = stability_points
							value = 50
						}
						country_event = {
							id = POP_Stability.002
						}
					}
				}
			}
			change_religion = reformed
			force_converted = yes
			define_advisor = {
				religion = reformed
				type = theologian
				discount = yes
			}
			every_owned_province = {
				limit = {
					culture_group = owner
				}
				custom_tooltip = reformed_20
				hidden_effect = {
					change_variable = {
						which = province_religion
						value = -4
					}
					change_variable = {
						which = reformed
						value = 4
					}
				}
			}
			hidden_effect = {
				random_owned_province = {
					limit = {
						has_province_flag = reformed_heresy
					}
					clr_province_flag = reformed_heresy
				}
			}
			capital_scope = {
				custom_tooltip = reformed_50
				hidden_effect = {
					change_variable = {
						which = reformed
						value = 12
					}
					change_variable = {
						which = province_religion
						value = -12
					}
				}
				add_province_modifier = {
					name = conversion_tensions
					duration = 2000
				}
				every_neighbor_province = {
					limit = {
						owned_by = ROOT
						culture_group = ROOT
					}
					custom_tooltip = reformed_20
					hidden_effect = {
						change_variable = {
							which = reformed
							value = 6
						}
						change_variable = {
							which = province_religion
							value = -6
						}
					}
					add_province_modifier = {
						name = conversion_tensions
						duration = 1000
					}
				}
			}
			if = {
				limit = {
					government = republic
				}
				change_government = theocracy
				add_government_reform = ruling_clergy_reform
				add_government_reform = council_reform
				add_government_reform = churchmen_rule
				set_legacy_government = theocratic_government
			}
		}
	}
}
country_event = {
	id = dg_reformation.029
	title = dg_reformation.029.t
	desc = dg_reformation.029.d
	picture = protestant_preacher
	trigger = {
		has_global_flag = reformation_lutheran_doctrines
		NOT = {
			has_global_flag = reformation_luther_returned
		}
		has_country_flag = divided_reformation
		any_owned_province = {
			has_province_flag = wartburg
		}
		NOT = {
			religion_years = {
				protestant = 30
			}
		}
	}
	mean_time_to_happen = {
		months = 10
		modifier = {
			event_target:zwickau_prophets = {
				owned_by = ROOT
			}
			factor = 0.25
		}
	}
	immediate = {
		set_global_flag = reformation_luther_returned
		set_country_flag = luther_advisor
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = reformation_origins
				}
				change_variable = {
					which = protestant_supporters
					value = 4
				}
			}
		}
		hidden_effect = {
			define_advisor = {
				religion = protestant
				type = theologian
				skill = 3
				discount = yes
			}
		}
	}
	option = {
		name = dg_reformation.029.a
		trigger = {
			religion = catholic
			NOT = {
				has_country_flag = renaissance
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				has_country_flag = refused_reformation
				factor = 0.5
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 2
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 3
			}
			modifier = {
				capital_scope = {
					religion = protestant
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				dominant_religion = protestant
				factor = 1.4
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		hidden_effect = {
			set_variable = {
				which = minority_usefulness
				value = 30
			}
			set_country_flag = useful_protestant
			random_owned_province = {
				limit = {
					is_capital = yes
					NOT = {
						any_neighbor_province = {
							owned_by = ROOT
						}
					}
					owner = {
						num_of_cities = 2
					}
				}
				change_variable = {
					which = converted_heretics
					value = 8
				}
			}
		}
		capital_scope = {
			custom_tooltip = protestant_50
			hidden_effect = {
				change_variable = {
					which = converted_heretics
					value = 12
				}
			}
			add_province_modifier = {
				name = conversion_tensions
				duration = 1825
			}
		}
		set_country_flag = voluntary_conversion
		if = {
			limit = {
				NOT = {
					is_religion_enabled = protestant
				}
			}
			custom_tooltip = convert_dangerous_religion
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
		if = {
			limit = {
				check_variable = {
					which = protestant_population
					value = 75
				}
			}
			custom_tooltip = convert_population_75
			custom_tooltip = stability_points_gained_50
			hidden_effect = {
				change_variable = {
					which = stability_points
					value = 50
				}
				country_event = {
					id = POP_Stability.002
				}
			}
		}
		else_if = {
			limit = {
				check_variable = {
					which = protestant_population
					value = 50
				}
			}
			custom_tooltip = convert_population_50
		}
		else_if = {
			limit = {
				check_variable = {
					which = protestant_population
					value = 25
				}
			}
			custom_tooltip = convert_population_25
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
		else = {
			custom_tooltip = convert_population_0
			add_stability = -2
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -10
			}
		}
		if = {
			limit = {
				patriarch_authority = 0.75
			}
			custom_tooltip = convert_church_strong
			add_stability = -2
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -10
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.50
			}
			custom_tooltip = convert_piety_moderate
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
		else_if = {
			limit = {
				patriarch_authority = 0.25
			}
			custom_tooltip = convert_church_weak
		}
		else = {
			custom_tooltip = convert_church_insignificant
		}
		if = {
			limit = {
				ADM = 5
			}
			if = {
				limit = {
					capital_scope = {
						religion = protestant
					}
				}
				custom_tooltip = convert_ruler_strong
				custom_tooltip = stability_points_gained_150
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 150
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
			else = {
				custom_tooltip = convert_ruler_moderate
				custom_tooltip = stability_points_gained_100
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 100
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
		}
		else_if = {
			limit = {
				ADM = 3
			}
			if = {
				limit = {
					capital_scope = {
						religion = protestant
					}
				}
				custom_tooltip = convert_ruler_moderate
				custom_tooltip = stability_points_gained_100
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 100
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
			else = {
				custom_tooltip = convert_ruler_weak
				custom_tooltip = stability_points_gained_50
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 50
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
		}
		else = {
			if = {
				limit = {
					capital_scope = {
						religion = protestant
					}
				}
				custom_tooltip = convert_ruler_weak
				custom_tooltip = stability_points_gained_50
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 50
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
			else = {
				custom_tooltip = convert_ruler_incompetent
			}
		}
		custom_tooltip = convert_theologian
		custom_tooltip = stability_points_gained_50
		hidden_effect = {
			change_variable = {
				which = stability_points
				value = 50
			}
			country_event = {
				id = POP_Stability.002
			}
		}
		if = {
			limit = {
				has_country_flag = was_protestant
			}
			if = {
				limit = {
					check_variable = {
						which = sympathy_to_old_religion
						value = 1
					}
				}
				custom_tooltip = convert_previous_recent
				custom_tooltip = stability_points_gained_100
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 100
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
			else = {
				custom_tooltip = convert_previous_old
				custom_tooltip = stability_points_gained_50
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 50
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
		}
		else = {
			if = {
				limit = {
					check_variable = {
						which = sympathy_to_old_religion
						value = 1
					}
				}
				custom_tooltip = convert_recent
				custom_tooltip = stability_points_gained_50
				hidden_effect = {
					change_variable = {
						which = stability_points
						value = 50
					}
					country_event = {
						id = POP_Stability.002
					}
				}
			}
		}
		change_religion = protestant
		force_converted = yes
		hidden_effect = {
			set_country_flag = introduce_reformation
			set_country_flag = jesuits_suppressed
			set_country_flag = monasticism_declines
		}
		if = {
			limit = {
				check_variable = {
					which = jesuit_support
					value = 1
				}
			}
			custom_tooltip = jesuit_suppression_explained
		}
		custom_tooltip = monastic_decline_explained
		capital_scope = {
			custom_tooltip = protestant_50
			hidden_effect = {
				change_variable = {
					which = protestant
					value = 12
				}
				change_variable = {
					which = converts
					value = -12
				}
			}
		}
		every_owned_province = {
			limit = {
				has_owner_culture = yes
				is_core = owner
				check_variable = {
					which = catholic
					value = 4
				}
				is_capital = no
			}
			custom_tooltip = protestant_10
			hidden_effect = {
				change_variable = {
					which = catholic
					value = -2
				}
				change_variable = {
					which = protestant
					value = 2
				}
			}
		}
	}
	option = {
		name = dg_reformation.029.b
		trigger = {
			NOT = {
				has_country_flag = renaissance
			}
		}
		ai_chance = {
			factor = 25
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = heretics
						value = 2
					}
					event_target:reformation_origins = {
						culture_group = PREV
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = heretics
						value = 2
					}
					event_target:reformation_origins = {
						culture_group = PREV
					}
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					change_variable = {
						which = heretics
						value = -2
					}
					change_variable = {
						which = protestant
						value = 2
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = reformed
						value = 2
					}
					event_target:reformation_origins = {
						culture_group = PREV
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed
						value = 2
					}
					event_target:reformation_origins = {
						culture_group = PREV
					}
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					change_variable = {
						which = reformed
						value = -2
					}
					change_variable = {
						which = protestant
						value = 2
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = hussite
						value = 2
					}
					event_target:reformation_origins = {
						culture_group = PREV
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = hussite
						value = 2
					}
					event_target:reformation_origins = {
						culture_group = PREV
					}
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					change_variable = {
						which = hussite
						value = -2
					}
					change_variable = {
						which = protestant
						value = 2
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.029.c
		trigger = {
			has_country_flag = renaissance
		}
		ai_chance = {
			factor = 25
		}
	}
	option = {
		name = dg_reformation.029.e
		trigger = {
			has_country_flag = renaissance
		}
		ai_chance = {
			factor = 25
		}
		add_papal_influence = -10
		add_prestige = -5
		custom_tooltip = stability_points_gained_50
		hidden_effect = {
			change_variable = {
				which = stability_points
				value = 50
			}
			country_event = {
				id = POP_Stability.002
			}
		}
	}
}
province_event = {
	id = dg_reformation.030
	title = dg_reformation.030.t
	desc = dg_reformation.030.d
	picture = protestant_heretic_trial
	hidden = yes
	trigger = {
		has_province_flag = wartburg
		controller = {
			religion = catholic
			NOT = {
				has_country_flag = luther_protection
			}
			NOT = {
				has_country_flag = hiding_luther
			}
			NOT = {
				has_country_flag = sheltered_luther
			}
			NOT = {
				has_country_flag = electors_request
			}
			NOT = {
				has_country_flag = let_luther_go
			}
			NOT = {
				has_country_flag = unrepentant_heretic
			}
		}
		has_global_flag = reformation_luther_sentenced
		NOT = {
			has_global_flag = reformation_luther_martyred
		}
		NOT = {
			had_global_flag = {
				flag = reformation_ninety_five_theses
				days = 11000
			}
		}
		NOT = {
			religion_years = {
				protestant = 30
			}
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	option = {
		name = ai_only.a
		controller = {
			country_event = {
				id = dg_reformation.038
				days = 0
			}
		}
	}
}
country_event = {
	id = dg_reformation.031
	title = dg_reformation.031.t
	desc = dg_reformation.031.d
	picture = reformed_rebellion
	trigger = {
		has_global_flag = reformation_zwickau_prophets
		NOT = {
			has_global_flag = reformation_knights_revolt
		}
		government = theocracy
		religion = catholic
		any_neighbor_country = {
			OR = {
				has_country_flag = humanism
				religion = protestant
			}
		}
		NOT = {
			is_religion_enabled = protestant
		}
	}
	mean_time_to_happen = {
		months = 6
		modifier = {
			num_of_cities = 2
			factor = 1.4
		}
		modifier = {
			num_of_cities = 4
			factor = 1.4
		}
		modifier = {
			num_of_cities = 8
			factor = 1.4
		}
		modifier = {
			num_of_cities = 16
			factor = 1.4
		}
		modifier = {
			capital_scope = {
				is_part_of_hre = yes
			}
			factor = 0.5
		}
		modifier = {
			has_country_flag = humanism
			factor = 2
		}
	}
	immediate = {
		set_global_flag = reformation_knights_revolt
		capital_scope = {
			spawn_rebels = {
				type = noble_rebels
				size = 0
			}
			set_province_flag = knights_revolt
		}
	}
	option = {
		name = dg_reformation.031.a
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = -1
			}
		}
	}
}
country_event = {
	id = dg_reformation.032
	title = dg_reformation.032.t
	desc = dg_reformation.032.d
	picture = protestant_massacre
	is_triggered_only = yes
	immediate = {
		set_global_flag = reformation_peasants_war
		set_country_flag = reformation_peasants_war
		add_stability = -2
		hidden_effect = {
			country_event = {
				id = POP_Stability.003
			}
		}
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -10
		}
		hidden_effect = {
			capital_scope = {
				set_province_flag = event_target
			}
			every_owned_province = {
				limit = {
					OR = {
						religion = protestant
						event_target:reformation_origins = {
							culture = PREV
						}
					}
				}
				random = {
					chance = 75
					set_province_flag = event_target
				}
			}
			every_owned_province = {
				limit = {
					continent = europe
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						event_target:reformation_origins = {
							culture_group = PREV
						}
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
						check_variable = {
							which = protestant
							value = 2
						}
						check_variable = {
							which = protestant_supporters
							value = 2
						}
					}
				}
				random = {
					chance = 25
					set_province_flag = event_target
				}
			}
		}
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = -1
			}
		}
	}
	option = {
		name = dg_reformation.032.a
		ai_chance = {
			factor = 70
		}
		capital_scope = {
			clr_province_flag = event_target
			if = {
				limit = {
					has_global_flag = reformation_luther_martyred
				}
				spawn_rebels = {
					type = protestant_rebels
					size = 1
				}
			}
			else = {
				spawn_rebels = {
					type = anti_tax_rebels
					size = 1
				}
			}
		}
		every_owned_province = {
			limit = {
				has_province_flag = event_target
				is_capital = no
			}
			clr_province_flag = event_target
			if = {
				limit = {
					has_global_flag = reformation_luther_martyred
				}
				random = {
					chance = 70
					add_province_modifier = {
						name = "fanatics_organizing"
						duration = 1825
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 5
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_5
				}
			}
			else = {
				random = {
					chance = 70
					add_province_modifier = {
						name = "peasants_organizing"
						duration = 1825
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 5
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_5
				}
			}
		}
	}
	option = {
		name = dg_reformation.032.b
		ai_chance = {
			factor = 30
			modifier = {
				is_at_war = yes
				factor = 1.4
			}
			modifier = {
				NOT = {
					manpower_percentage = 0.50
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					manpower_percentage = 0.25
				}
				factor = 1.4
			}
			modifier = {
				num_of_rebel_controlled_provinces = 1
				factor = 1.4
			}
			modifier = {
				capital_scope = {
					has_siege = yes
				}
				factor = 1.4
			}
		}
		add_prestige = -50
		every_owned_province = {
			limit = {
				has_province_flag = event_target
			}
			clr_province_flag = event_target
			add_local_autonomy = 10
			random = {
				chance = 40
				if = {
					limit = {
						NOT = {
							has_global_flag = reformation_luther_martyred
						}
					}
					add_province_modifier = {
						name = "peasants_organizing"
						duration = 1825
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 5
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_5
				}
				if = {
					limit = {
						has_global_flag = reformation_luther_martyred
					}
					add_province_modifier = {
						name = "fanatics_organizing"
						duration = 1825
					}
					hidden_effect = {
						set_variable = {
							which = added_unrest
							value = 5
						}
						hidden_effect = {
							province_event = {
								id = stacking_unrest.002
							}
						}
					}
					custom_tooltip = added_unrest_5
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.033
	title = dg_reformation.033.t
	desc = dg_reformation.033.d
	picture = catholic_monks_preaching
	trigger = {
		has_global_flag = reformation_peasants_war
		has_global_flag = reformation_luther_returned
		had_global_flag = {
			flag = reformation_peasants_war
			days = 120
		}
		NOT = {
			is_religion_enabled = protestant
		}
		OR = {
			has_country_flag = luther_advisor
			any_owned_province = {
				has_province_flag = reformation_origins
			}
		}
	}
	mean_time_to_happen = {
		months = 3
	}
	immediate = {
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		enable_religion = protestant
		if = {
			limit = {
				has_country_flag = reformation_peasants_war
			}
			clr_country_flag = reformation_peasants_war
			if = {
				limit = {
					has_disaster = peasant_war
				}
				end_disaster = peasant_war
			}
			disband_rebels = anti_tax_rebels
			add_war_exhaustion = -2
			custom_tooltip = stability_points_gained_50
			hidden_effect = {
				change_variable = {
					which = stability_points
					value = 50
				}
				country_event = {
					id = POP_Stability.002
				}
			}
		}
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						has_country_flag = reformation_peasants_war
						has_country_flag = religious_news_all
						any_owned_province = {
							has_province_flag = humanist_ideas
						}
						is_papal_controller = yes
						AND = {
							OR = {
								has_reform = papacy_reform
								has_reform = papal_government
							}
						}
						AND = {
							OR = {
								religion = catholic
								religion = protestant
							}
							has_country_flag = religious_news_major
						}
					}
					NOT = {
						tag = ROOT
					}
				}
				country_event = {
					id = dg_reformation.034
					days = 0
				}
			}
		}
	}
	option = {
		name = dg_reformation.033.a
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.034
	title = dg_reformation.033.t
	desc = dg_reformation.033.d
	picture = catholic_monks_preaching
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				has_disaster = peasant_war
			}
			end_disaster = peasant_war
		}
		disband_rebels = anti_tax_rebels
		if = {
			limit = {
				has_country_flag = reformation_peasants_war
			}
			add_war_exhaustion = -2
			custom_tooltip = stability_points_gained_50
			hidden_effect = {
				change_variable = {
					which = stability_points
					value = 50
				}
				country_event = {
					id = POP_Stability.002
				}
			}
		}
		tooltip = {
			enable_religion = protestant
		}
	}
	option = {
		name = dg_reformation.033.a
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.035
	title = dg_reformation.035.t
	desc = dg_reformation.035.d
	picture = catholic_crusade
	trigger = {
		has_global_flag = reformation_luther_martyred
		has_global_flag = reformation_peasants_war
		OR = {
			religion = protestant
			AND = {
				dominant_religion = protestant
				religion_years = {
					reformed = 10
				}
			}
		}
		NOT = {
			is_religion_enabled = protestant
		}
	}
	mean_time_to_happen = {
		months = 12
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = {
				piety = -0.20
			}
			factor = 1.4
		}
		modifier = {
			NOT = {
				piety = -0.60
			}
			factor = 1.4
		}
	}
	immediate = {
		enable_religion = protestant
		every_country = {
			limit = {
				OR = {
					has_country_flag = religious_news_all
					is_papal_controller = yes
					AND = {
						OR = {
							has_reform = papacy_reform
							has_reform = papal_government
						}
					}
					any_owned_province = {
						check_variable = {
							which = protestant
							value = 4
						}
					}
					AND = {
						OR = {
							religion = catholic
							religion = protestant
						}
						has_country_flag = religious_news_major
					}
				}
				NOT = {
					tag = ROOT
				}
			}
			country_event = {
				id = dg_reformation.036
				days = 0
			}
		}
	}
	option = {
		name = dg_reformation.035.a
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = {
							has_province_flag = renaissance_ideas
						}
						AND = {
							is_in_capital_area = no
							owner = {
								has_country_flag = renaissance
							}
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = {
						culture_group = PREV
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = {
						change_variable = {
							which = protestant_supporters
							value = 4
						}
					}
				}
			}
		}
		every_neighbor_country = {
			limit = {
				religion = catholic
			}
			reverse_add_casus_belli = {
				target = ROOT
				months = 60
				type = cb_holy_war_vengeance
			}
		}
	}
}
country_event = {
	id = dg_reformation.036
	title = dg_reformation.035.t
	desc = dg_reformation.036.d
	picture = catholic_crusade
	is_triggered_only = yes
	immediate = {
		tooltip = {
			enable_religion = protestant
		}
	}
	option = {
		name = dg_reformation.036.a
		custom_tooltip = protestant_to_reformed_large
		hidden_effect = {
			every_owned_province = {
				limit = {
					check_variable = {
						which = protestant
						value = 4
					}
				}
				random = {
					chance = 60
					change_variable = {
						which = protestant
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = protestant
							value = 8
						}
					}
					random = {
						chance = 60
						change_variable = {
							which = protestant
							value = -2
						}
						change_variable = {
							which = reformed
							value = 2
						}
					}
					if = {
						limit = {
							check_variable = {
								which = protestant
								value = 12
							}
						}
						random = {
							chance = 60
							change_variable = {
								which = protestant
								value = -2
							}
							change_variable = {
								which = reformed
								value = 2
							}
						}
						if = {
							limit = {
								check_variable = {
									which = protestant
									value = 16
								}
							}
							random = {
								chance = 60
								change_variable = {
									which = protestant
									value = -2
								}
								change_variable = {
									which = reformed
									value = 2
								}
							}
							if = {
								limit = {
									check_variable = {
										which = protestant
										value = 20
									}
								}
								random = {
									chance = 60
									change_variable = {
										which = protestant
										value = -2
									}
									change_variable = {
										which = reformed
										value = 2
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.038
	title = dg_reformation.030.t
	desc = dg_reformation.030.d
	picture = protestant_heretic_trial
	is_triggered_only = yes
	option = {
		name = dg_reformation.030.a
		trigger = {
			OR = {
				ai = no
				NOT = {
					has_country_flag = humanism
				}
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				PAP = {
					check_variable = {
						which = papal_authority
						value = 500
					}
				}
				factor = 1.4
			}
			modifier = {
				NOT = {
					PAP = {
						check_variable = {
							which = papal_authority
							value = 400
						}
					}
				}
				factor = 0.7
			}
		}
		FROM = {
			clr_province_flag = wartburg
		}
		clr_global_flag = reformation_luther_in_hiding
		clr_global_flag = reformation_luther_protected
		clr_global_flag = reformation_luther_wartburg
		add_papal_influence = 50
		if = {
			limit = {
				NOT = {
					tag = PAP
				}
			}
			PAP = {
				add_opinion = {
					who = ROOT
					modifier = obeyed_religious_leader
				}
			}
		}
		set_global_flag = reformation_roman_trial
		set_country_flag = sent_luther_to_rome
		if = {
			limit = {
				exists = PAP
			}
			PAP = {
				hidden_effect = {
					save_global_event_target_as = imperial_edict_of_worms
				}
				set_country_flag = edict_of_worms
				hidden_effect = {
					capital_scope = {
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					exists = PAP
				}
			}
			random_country = {
				limit = {
					is_papal_controller = yes
				}
				hidden_effect = {
					save_global_event_target_as = imperial_edict_of_worms
				}
				set_country_flag = edict_of_worms
				hidden_effect = {
					capital_scope = {
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
			}
		}
		add_legitimacy = -10
		add_republican_tradition = -5
		add_devotion = 20
		random_owned_province = {
			limit = {
				has_province_flag = reformation_origins
			}
			add_province_modifier = {
				name = religious_scandal_province
				duration = 500
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 2
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 4
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 6
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 8
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.030.b
		ai_chance = {
			factor = 30
		}
		FROM = {
			clr_province_flag = wartburg
		}
		clr_global_flag = reformation_luther_in_hiding
		clr_global_flag = reformation_luther_protected
		clr_global_flag = reformation_luther_wartburg
		add_papal_influence = 25
		hidden_effect = {
			save_global_event_target_as = imperial_edict_of_worms
		}
		set_country_flag = edict_of_worms
		add_adm_power = -25
		if = {
			limit = {
				any_owned_province = {
					religion = protestant
				}
			}
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = renaissance
				}
			}
			add_stability = -1
			hidden_effect = {
				country_event = {
					id = POP_Stability.003
				}
			}
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
		hidden_effect = {
			capital_scope = {
				save_global_event_target_as = imperial_diet_of_worms
				set_province_flag = diet_of_worms
			}
		}
		random_owned_province = {
			limit = {
				has_province_flag = reformation_origins
			}
			add_province_modifier = {
				name = religious_scandal_province
				duration = 500
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 4
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 1
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 4
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 2
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 8
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 4
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 4
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = protestant_supporters
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant_supporters
									value = 12
								}
							}
						}
						AND = {
							check_variable = {
								which = protestant
								value = 8
							}
							NOT = {
								check_variable = {
									which = protestant
									value = 12
								}
							}
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 6
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = {
							which = protestant_supporters
							value = 12
						}
						check_variable = {
							which = protestant
							value = 12
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 8
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.030.c
		trigger = {
			OR = {
				ai = no
				NOT = {
					has_country_flag = renaissance
				}
			}
		}
		ai_chance = {
			factor = 50
		}
		set_country_flag = let_luther_go
		hidden_effect = {
			change_variable = {
				which = support_for_reform
				value = 1
			}
			set_country_flag = useful_protestant
			change_variable = {
				which = minority_usefulness
				value = 5
			}
		}
	}
}
country_event = {
	id = dg_reformation.041
	title = dg_reformation.041.t
	desc = dg_reformation.041.d
	picture = protestant_preacher
	trigger = {
		NOT = {
			has_country_flag = populist_reformation
		}
		NOT = {
			has_country_flag = radical_reformation
		}
		religion_group = christian
		OR = {
			has_global_flag = reformation_lutheran_doctrines
			is_religion_enabled = protestant
		}
		NOT = {
			religion_years = {
				protestant = 60
			}
		}
		PAP = {
			NOT = {
				has_country_flag = catholic_reformation
			}
		}
		any_owned_province = {
			religion = catholic
			NOT = {
				has_province_flag = renaissance_ideas
			}
		}
		OR = {
			capital_scope = {
				continent = europe
			}
			is_former_colonial_nation = yes
		}
		OR = {
			is_colonial_nation = no
			overlord = {
				has_country_flag = humanism
			}
		}
	}
	mean_time_to_happen = {
		years = 8
		modifier = {
			has_global_flag = reformation_luther_martyred
			factor = 2
		}
		modifier = {
			event_target:reformation_origins = {
				culture_group = ROOT
			}
			factor = 0.7
		}
	}
	immediate = {
		set_country_flag = populist_reformation
		if = {
			limit = {
				OR = {
					religion = hussite
					religion = gnostic
					religion = reformed
				}
			}
			custom_tooltip = poaching_believers
		}
		if = {
			limit = {
				NOT = {
					OR = {
						religion = catholic
						religion = protestant
						religion = hussite
						religion = gnostic
						religion = reformed
					}
				}
			}
			custom_tooltip = dg_reformation.041.easterners
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					religion = catholic
					NOT = {
						has_province_flag = renaissance_ideas
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				if = {
					limit = {
						has_owner_culture = yes
					}
					owner = {
						change_variable = {
							which = affected_home_provinces
							value = 1
						}
					}
				}
				owner = {
					change_variable = {
						which = affected_provinces
						value = 1
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.041.b
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = introduce_reformation
				factor = 0
			}
			modifier = {
				religion = protestant
				factor = 0
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 0.5
			}
		}
		add_papal_influence = 10
		custom_tooltip = protestant_20
		every_owned_province = {
			limit = {
				religion = catholic
				NOT = {
					has_province_flag = renaissance_ideas
				}
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = {
					which = protestant_supporters
					value = 4
				}
			}
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = gnostic
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_gnostic
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = gnostic
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = gnostic
						value = -2
					}
					change_variable = {
						which = protestant
						value = 2
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = hussite
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_hussite
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = hussite
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = hussite
						value = -2
					}
					change_variable = {
						which = protestant
						value = 2
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.041.a
		trigger = {
			NOT = {
				religion = protestant
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 2
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 0
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 0
			}
			modifier = {
				OR = {
					religion = orthodox
					religion = chaldean
					religion = coptic
				}
				factor = 0
			}
			modifier = {
				OR = {
					religion = hussite
					religion = gnostic
					religion = reformed
				}
				factor = 1.4
			}
			modifier = {
				overlord = {
					OR = {
						has_country_flag = introduce_reformation
						has_country_flag = spread_reformation
						religion = protestant
					}
				}
				factor = 0.25
			}
		}
		add_mil_power = -50
		add_papal_influence = 25
		custom_tooltip = reformed_10
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		every_owned_province = {
			limit = {
				religion = catholic
				NOT = {
					has_province_flag = renaissance_ideas
				}
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			add_province_modifier = {
				name = religious_nationalism
				duration = 5000
			}
			hidden_effect = {
				change_variable = {
					which = reformed
					value = 2
				}
			}
		}
	}
	option = {
		name = dg_reformation.041.c
		trigger = {
			OR = {
				NOT = {
					religion = catholic
				}
				has_country_flag = humanism
			}
			NOT = {
				religion = reformed
			}
			OR = {
				NOT = {
					has_global_flag = reformation_luther_martyred
				}
				is_religion_enabled = protestant
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 0.25
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0
			}
			modifier = {
				has_country_flag = refused_reformation
				factor = 0
			}
			modifier = {
				religion = protestant
				factor = 4
			}
			modifier = {
				OR = {
					has_country_flag = introduce_reformation
					has_country_flag = spread_reformation
				}
				factor = 2
			}
			modifier = {
				overlord = {
					has_country_flag = renaissance
					religion = catholic
				}
				factor = 0.25
			}
		}
		if = {
			limit = {
				religion = catholic
			}
			add_papal_influence = -100
		}
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
				}
			}
			add_adm_power = -50
		}
		if = {
			limit = {
				NOT = {
					OR = {
						religion = catholic
						religion = protestant
					}
				}
			}
			add_years_of_income = -0.08
		}
		custom_tooltip = protestant_30
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		every_owned_province = {
			limit = {
				religion = catholic
				NOT = {
					has_province_flag = renaissance_ideas
				}
				culture_group = owner
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = {
					which = protestant_supporters
					value = 2
				}
			}
		}
		every_owned_province = {
			limit = {
				religion = catholic
				NOT = {
					has_province_flag = renaissance_ideas
				}
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = {
					which = protestant_supporters
					value = 4
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = gnostic
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_gnostic
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = gnostic
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = gnostic
						value = -2
					}
					change_variable = {
						which = protestant
						value = 2
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = hussite
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_hussite
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = hussite
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = hussite
						value = -2
					}
					change_variable = {
						which = protestant
						value = 2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.042
	title = dg_protestant.015.t
	desc = dg_protestant.015.d
	picture = protestant_preacher
	trigger = {
		NOT = {
			has_country_flag = magisterial_reformation
		}
		OR = {
			religion = protestant
			AND = {
				religion = catholic
				OR = {
					has_country_flag = introduce_reformation
					has_country_flag = spread_reformation
				}
			}
		}
		OR = {
			has_country_flag = populist_reformation
			has_country_flag = radical_reformation
		}
		is_at_war = no
		NOT = {
			religion_years = {
				protestant = 60
			}
		}
		PAP = {
			NOT = {
				has_country_flag = catholic_reformation
			}
		}
	}
	mean_time_to_happen = {
		years = 8
		modifier = {
			OR = {
				advisor = inquisitor
				advisor = theologian
			}
			factor = 0.5
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			ADM = 5
			factor = 0.7
		}
		modifier = {
			NOT = {
				ADM = 3
			}
			factor = 1.4
		}
		modifier = {
			has_regency = yes
			factor = 1.4
		}
		modifier = {
			religion = protestant
			factor = 0.7
		}
	}
	immediate = {
		set_country_flag = magisterial_reformation
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						culture_group = owner
						is_capital = yes
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				if = {
					limit = {
						has_owner_culture = yes
					}
					owner = {
						change_variable = {
							which = affected_home_provinces
							value = 1
						}
					}
				}
				owner = {
					change_variable = {
						which = affected_provinces
						value = 1
					}
				}
			}
		}
	}
	option = {
		name = dg_protestant.015.a
		ai_chance = {
			factor = 99
			modifier = {
				is_force_converted = yes
				religion = catholic
				factor = 0
			}
		}
		add_papal_influence = -50
		add_adm_power = -50
		if = {
			limit = {
				OR = {
					advisor = theologian
					advisor = inquisitor
				}
				ADM = 5
			}
			custom_tooltip = protestant_50
		}
		if = {
			limit = {
				OR = {
					advisor = theologian
					advisor = inquisitor
					ADM = 5
				}
				NOT = {
					ADM = 5
					OR = {
						advisor = theologian
						advisor = inquisitor
					}
				}
			}
			custom_tooltip = protestant_40
		}
		if = {
			limit = {
				NOT = {
					OR = {
						advisor = theologian
						advisor = inquisitor
						ADM = 5
					}
				}
			}
			custom_tooltip = protestant_30
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						culture_group = owner
						is_capital = yes
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				if = {
					limit = {
						check_variable = {
							which = catholic
							value = 2
						}
					}
					set_province_flag = religious_change
					random = {
						chance = 50
						change_variable = {
							which = catholic
							value = -2
						}
						change_variable = {
							which = protestant
							value = 2
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = catholic
							value = 2
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = catholic
							value = -2
						}
						change_variable = {
							which = protestant
							value = 2
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = catholic
							value = 2
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = catholic
							value = -2
						}
						change_variable = {
							which = protestant
							value = 2
						}
					}
				}
				if = {
					limit = {
						owner = {
							ADM = 5
						}
						check_variable = {
							which = catholic
							value = 2
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = catholic
							value = -2
						}
						change_variable = {
							which = protestant
							value = 2
						}
					}
				}
				if = {
					limit = {
						owner = {
							OR = {
								advisor = theologian
								advisor = inquisitor
							}
						}
						check_variable = {
							which = catholic
							value = 2
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = catholic
							value = -2
						}
						change_variable = {
							which = protestant
							value = 2
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_protestant.015.b
		trigger = {
			NOT = {
				religion = protestant
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				check_variable = {
					which = protestant_population
					value = 50
				}
				factor = 0
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 25
				}
				factor = 0.5
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 0.5
			}
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		add_papal_influence = 25
		add_prestige = -10
		clr_country_flag = introduce_reformation
		clr_country_flag = spread_reformation
		clr_country_flag = reaction_to_reformation
	}
}
country_event = {
	id = dg_reformation.043
	title = dg_reformed.004.t
	desc = dg_reformed.004.d
	picture = reformed_converts
	trigger = {
		NOT = {
			has_country_flag = radical_reformation
		}
		OR = {
			has_global_flag = reformation_lutheran_martyred
			is_religion_enabled = reformed
		}
		NOT = {
			religion_years = {
				reformed = 60
			}
		}
		religion_group = christian
		NOT = {
			religion = protestant
		}
		any_owned_province = {
			OR = {
				religion = catholic
				religion = protestant
			}
			NOT = {
				has_province_flag = renaissance_ideas
			}
		}
		OR = {
			capital_scope = {
				continent = europe
			}
			is_former_colonial_nation = yes
		}
	}
	mean_time_to_happen = {
		years = 16
		modifier = {
			has_global_flag = reformation_luther_martyred
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = radical_reformation
		if = {
			limit = {
				OR = {
					religion = gnostic
					religion = protestant
					religion = hussite
				}
			}
			custom_tooltip = poaching_believers
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						religion = catholic
						religion = protestant
					}
					NOT = {
						has_province_flag = renaissance_ideas
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				if = {
					limit = {
						has_owner_culture = yes
					}
					owner = {
						change_variable = {
							which = affected_home_provinces
							value = 1
						}
					}
				}
				owner = {
					change_variable = {
						which = affected_provinces
						value = 1
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.041.b
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = introduce_reformation
				factor = 2
			}
			modifier = {
				religion = protestant
				factor = 2
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 1.4
			}
		}
		add_papal_influence = 10
		custom_tooltip = reformed_20
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
				}
				NOT = {
					has_province_flag = renaissance_ideas
				}
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = {
					which = reformed
					value = 4
				}
				change_variable = {
					which = province_religion
					value = -4
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = gnostic
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_gnostic
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = gnostic
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = gnostic
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = hussite
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_hussite
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = hussite
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = hussite
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = protestant
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_protestant
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = protestant
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = protestant
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.041.a
		trigger = {
			NOT = {
				religion = reformed
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = introduce_reformation
				factor = 2
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 2
			}
			modifier = {
				OR = {
					religion = orthodox
					religion = chaldean
					religion = coptic
				}
				factor = 0
			}
			modifier = {
				OR = {
					religion = hussite
					religion = gnostic
					religion = protestant
				}
				factor = 1.4
			}
			modifier = {
				overlord = {
					religion = reformed
				}
				factor = 0.25
			}
		}
		add_papal_influence = 25
		add_mil_power = -50
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
				}
				NOT = {
					has_province_flag = renaissance_ideas
				}
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			add_province_modifier = {
				name = religious_nationalism
				duration = 5000
			}
		}
	}
	option = {
		name = dg_reformation.041.c
		trigger = {
			OR = {
				religion = reformed
				ai = no
			}
			OR = {
				has_global_flag = reformation_luther_martyred
				is_religion_enabled = reformed
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 2
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0
			}
			modifier = {
				has_country_flag = refused_reformation
				factor = 2
			}
			modifier = {
				religion = protestant
				factor = 0
			}
			modifier = {
				OR = {
					has_country_flag = introduce_reformation
					has_country_flag = spread_reformation
				}
				factor = 0.25
			}
			modifier = {
				overlord = {
					has_country_flag = renaissance
					religion = catholic
				}
				factor = 0.25
			}
		}
		if = {
			limit = {
				religion = catholic
			}
			add_papal_influence = -100
		}
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = reformed
				}
			}
			add_adm_power = -50
		}
		if = {
			limit = {
				NOT = {
					OR = {
						religion = catholic
						religion = reformed
					}
				}
			}
			add_years_of_income = -0.08
		}
		custom_tooltip = reformed_30
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
				}
				NOT = {
					has_province_flag = renaissance_ideas
				}
				culture_group = owner
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = {
					which = reformed
					value = 2
				}
				change_variable = {
					which = province_religion
					value = -2
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
				}
				NOT = {
					has_province_flag = renaissance_ideas
				}
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = {
					which = reformed
					value = 4
				}
				change_variable = {
					which = province_religion
					value = -4
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = gnostic
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_gnostic
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = gnostic
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = gnostic
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = hussite
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_hussite
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = hussite
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = hussite
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = protestant
						value = 2
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_protestant
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = {
							which = protestant
							value = 2
						}
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = {
						which = protestant
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.044
	title = dg_reformation.044.t
	desc = dg_reformation.044.d
	picture = reformed_converts
	trigger = {
		religion = catholic
		OR = {
			religion_years = {
				protestant = 20
			}
			religion_years = {
				reformed = 20
			}
		}
		NOT = {
			has_country_flag = reformation_frustrated
		}
		OR = {
			had_country_flag = {
				flag = reaction_to_reformation
				days = 4000
			}
			is_force_converted = yes
		}
		NOT = {
			has_regency = yes
		}
		OR = {
			capital_scope = {
				continent = europe
			}
			check_variable = {
				which = protestant_population
				value = 1
			}
			check_variable = {
				which = reformed_population
				value = 1
			}
		}
	}
	mean_time_to_happen = {
		months = 50
		modifier = {
			has_country_flag = refused_reformation
			factor = 0.5
		}
		modifier = {
			has_country_flag = spread_reformation
			factor = 1.4
		}
		modifier = {
			has_country_flag = introduce_reformation
			factor = 2
		}
	}
	immediate = {
		set_country_flag = reformation_frustrated
		hidden_effect = {
			every_owned_province = {
				limit = {
					check_variable = {
						which = protestant
						value = 2
					}
				}
				if = {
					limit = {
						has_owner_culture = yes
					}
					owner = {
						change_variable = {
							which = affected_home_provinces
							value = 1
						}
					}
				}
				owner = {
					change_variable = {
						which = affected_provinces
						value = 1
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.044.a
		ai_chance = {
			factor = 70
		}
		custom_tooltip = 20_return_60_radical
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					check_variable = {
						which = protestant
						value = 2
					}
				}
				random_list = {
					20 = {
						change_variable = {
							which = protestant
							value = -2
						}
						change_variable = {
							which = converts
							value = 2
						}
					}
					60 = {
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = protestant
							value = -2
						}
					}
					20 = {}
				}
				if = {
					limit = {
						check_variable = {
							which = protestant
							value = 4
						}
					}
					random_list = {
						20 = {
							change_variable = {
								which = protestant
								value = -2
							}
							change_variable = {
								which = converts
								value = 2
							}
						}
						60 = {
							change_variable = {
								which = reformed
								value = 2
							}
							change_variable = {
								which = protestant
								value = -2
							}
						}
						20 = {}
					}
					if = {
						limit = {
							check_variable = {
								which = protestant
								value = 6
							}
						}
						random_list = {
							20 = {
								change_variable = {
									which = protestant
									value = -2
								}
								change_variable = {
									which = converts
									value = 2
								}
							}
							60 = {
								change_variable = {
									which = reformed
									value = 2
								}
								change_variable = {
									which = protestant
									value = -2
								}
							}
							20 = {}
						}
						if = {
							limit = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
							random_list = {
								20 = {
									change_variable = {
										which = protestant
										value = -2
									}
									change_variable = {
										which = converts
										value = 2
									}
								}
								60 = {
									change_variable = {
										which = reformed
										value = 2
									}
									change_variable = {
										which = protestant
										value = -2
									}
								}
								20 = {}
							}
							if = {
								limit = {
									check_variable = {
										which = protestant
										value = 10
									}
								}
								random_list = {
									20 = {
										change_variable = {
											which = protestant
											value = -2
										}
										change_variable = {
											which = converts
											value = 2
										}
									}
									60 = {
										change_variable = {
											which = reformed
											value = 2
										}
										change_variable = {
											which = protestant
											value = -2
										}
									}
									20 = {}
								}
								if = {
									limit = {
										check_variable = {
											which = protestant
											value = 12
										}
									}
									random_list = {
										20 = {
											change_variable = {
												which = protestant
												value = -2
											}
											change_variable = {
												which = converts
												value = 2
											}
										}
										60 = {
											change_variable = {
												which = reformed
												value = 2
											}
											change_variable = {
												which = protestant
												value = -2
											}
										}
										20 = {}
									}
									if = {
										limit = {
											check_variable = {
												which = protestant
												value = 14
											}
										}
										random_list = {
											20 = {
												change_variable = {
													which = protestant
													value = -2
												}
												change_variable = {
													which = converts
													value = 2
												}
											}
											60 = {
												change_variable = {
													which = reformed
													value = 2
												}
												change_variable = {
													which = protestant
													value = -2
												}
											}
											20 = {}
										}
										if = {
											limit = {
												check_variable = {
													which = protestant
													value = 16
												}
											}
											random_list = {
												20 = {
													change_variable = {
														which = protestant
														value = -2
													}
													change_variable = {
														which = converts
														value = 2
													}
												}
												60 = {
													change_variable = {
														which = reformed
														value = 2
													}
													change_variable = {
														which = protestant
														value = -2
													}
												}
												20 = {}
											}
											if = {
												limit = {
													check_variable = {
														which = protestant
														value = 18
													}
												}
												random_list = {
													20 = {
														change_variable = {
															which = protestant
															value = -2
														}
														change_variable = {
															which = converts
															value = 2
														}
													}
													60 = {
														change_variable = {
															which = reformed
															value = 2
														}
														change_variable = {
															which = protestant
															value = -2
														}
													}
													20 = {}
												}
												if = {
													limit = {
														check_variable = {
															which = protestant
															value = 20
														}
													}
													random_list = {
														20 = {
															change_variable = {
																which = protestant
																value = -2
															}
															change_variable = {
																which = converts
																value = 2
															}
														}
														60 = {
															change_variable = {
																which = reformed
																value = 2
															}
															change_variable = {
																which = protestant
																value = -2
															}
														}
														20 = {}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.044.b
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = spread_reformation
				factor = 1.4
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 2
			}
			modifier = {
				dominant_religion = protestant
				factor = 2
			}
		}
		add_papal_influence = -50
		custom_tooltip = reformed_20
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					check_variable = {
						which = protestant
						value = 2
					}
				}
				random = {
					chance = 20
					change_variable = {
						which = protestant
						value = -2
					}
					change_variable = {
						which = reformed
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = protestant
							value = 4
						}
					}
					random = {
						chance = 20
						change_variable = {
							which = protestant
							value = -2
						}
						change_variable = {
							which = reformed
							value = 2
						}
					}
					if = {
						limit = {
							check_variable = {
								which = protestant
								value = 6
							}
						}
						random = {
							chance = 20
							change_variable = {
								which = protestant
								value = -2
							}
							change_variable = {
								which = reformed
								value = 2
							}
						}
						if = {
							limit = {
								check_variable = {
									which = protestant
									value = 8
								}
							}
							random = {
								chance = 20
								change_variable = {
									which = protestant
									value = -2
								}
								change_variable = {
									which = reformed
									value = 2
								}
							}
							if = {
								limit = {
									check_variable = {
										which = protestant
										value = 10
									}
								}
								random = {
									chance = 20
									change_variable = {
										which = protestant
										value = -2
									}
									change_variable = {
										which = reformed
										value = 2
									}
								}
								if = {
									limit = {
										check_variable = {
											which = protestant
											value = 12
										}
									}
									random = {
										chance = 20
										change_variable = {
											which = protestant
											value = -2
										}
										change_variable = {
											which = reformed
											value = 2
										}
									}
									if = {
										limit = {
											check_variable = {
												which = protestant
												value = 14
											}
										}
										random = {
											chance = 20
											change_variable = {
												which = protestant
												value = -2
											}
											change_variable = {
												which = reformed
												value = 2
											}
										}
										if = {
											limit = {
												check_variable = {
													which = protestant
													value = 16
												}
											}
											random = {
												chance = 20
												change_variable = {
													which = protestant
													value = -2
												}
												change_variable = {
													which = reformed
													value = 2
												}
											}
											if = {
												limit = {
													check_variable = {
														which = protestant
														value = 18
													}
												}
												random = {
													chance = 20
													change_variable = {
														which = protestant
														value = -2
													}
													change_variable = {
														which = reformed
														value = 2
													}
												}
												if = {
													limit = {
														check_variable = {
															which = protestant
															value = 20
														}
													}
													random = {
														chance = 20
														change_variable = {
															which = protestant
															value = -2
														}
														change_variable = {
															which = reformed
															value = 2
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.045
	title = dg_reformed.003.t
	desc = dg_reformed.003.d
	picture = reformed_converts
	trigger = {
		has_country_flag = reaction_to_reformation
		NOT = {
			has_country_flag = nationalist_reformation
		}
		OR = {
			religion = catholic
			religion = protestant
		}
		OR = {
			is_religion_enabled = reformed
			has_global_flag = reformation_luther_martyred
		}
		NOT = {
			religion_years = {
				protestant = 70
			}
		}
		NOT = {
			check_variable = {
				which = inquisition
				value = 2
			}
		}
		any_owned_province = {
			has_province_flag = humanist_ideas
			OR = {
				NOT = {
					culture_group = owner
				}
				NOT = {
					is_core = owner
				}
				NOT = {
					has_owner_religion = yes
				}
				NOT = {
					is_in_capital_area = yes
				}
				has_province_modifier = religious_nationalism
			}
		}
		OR = {
			capital_scope = {
				continent = europe
			}
			is_former_colonial_nation = yes
		}
	}
	mean_time_to_happen = {
		years = 8
		modifier = {
			religion = protestant
			factor = 2
		}
	}
	immediate = {
		set_country_flag = nationalist_reformation
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_flag = humanist_ideas
					OR = {
						religion = protestant
						religion = catholic
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_owner_religion = yes
							}
						}
						change_variable = {
							which = reformed_chance
							value = 1
						}
						set_province_flag = affected_province
					}
					if = {
						limit = {
							NOT = {
								is_core = owner
							}
						}
						change_variable = {
							which = reformed_chance
							value = 1
						}
						set_province_flag = affected_province
					}
					if = {
						limit = {
							NOT = {
								culture_group = owner
							}
						}
						change_variable = {
							which = reformed_chance
							value = 1
						}
						set_province_flag = affected_province
					}
					if = {
						limit = {
							NOT = {
								is_in_capital_area = yes
							}
						}
						change_variable = {
							which = reformed_chance
							value = 1
						}
						set_province_flag = affected_province
					}
					if = {
						limit = {
							has_province_modifier = religious_nationalism
						}
						change_variable = {
							which = reformed_chance
							value = 2
						}
						set_province_flag = affected_province
					}
					if = {
						limit = {
							has_province_flag = affected_province
						}
						clr_province_flag = affected_province
						if = {
							limit = {
								has_owner_culture = yes
							}
							owner = {
								change_variable = {
									which = affected_home_provinces
									value = 1
								}
							}
						}
						owner = {
							change_variable = {
								which = affected_provinces
								value = 1
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformed.003.b
		ai_chance = {
			factor = 70
			modifier = {
				NOT = {
					stability = 1
				}
				factor = 0.7
			}
			modifier = {
				NOT = {
					stability = -1
				}
				factor = 0.7
			}
			modifier = {
				AND = {
					has_any_disaster = yes
				}
				factor = 0
			}
			modifier = {
				is_at_war = yes
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 4
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 8
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 12
				factor = 0.7
			}
			modifier = {
				NOT = {
					manpower_percentage = 0.50
				}
				factor = 0.7
			}
			modifier = {
				NOT = {
					manpower_percentage = 0.25
				}
				factor = 0.7
			}
			modifier = {
				NOT = {
					manpower_percentage = 0.10
				}
				factor = 0.7
			}
			modifier = {
				num_of_revolts = 1
				factor = 0.7
			}
			modifier = {
				num_of_revolts = 2
				factor = 0.7
			}
		}
		add_stability = -1
		hidden_effect = {
			country_event = {
				id = POP_Stability.003
			}
		}
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -5
		}
		custom_tooltip = reformed_20
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = reformed_chance
						value = 6
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed_chance
						value = 6
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 12
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_12
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = reformed_chance
						value = 5
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 6
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed_chance
						value = 5
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 6
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 10
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_10
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = reformed_chance
						value = 4
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 5
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed_chance
						value = 4
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 5
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 8
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_8
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = reformed_chance
						value = 3
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 4
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed_chance
						value = 3
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 4
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 6
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = reformed_chance
						value = 2
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 3
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed_chance
						value = 2
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 3
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 4
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = {
						which = reformed_chance
						value = 1
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 2
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed_chance
						value = 1
					}
					NOT = {
						check_variable = {
							which = reformed_chance
							value = 2
						}
					}
				}
				hidden_effect = {
					set_variable = {
						which = added_unrest
						value = 2
					}
					hidden_effect = {
						province_event = {
							id = stacking_unrest.002
						}
					}
				}
				custom_tooltip = added_unrest_2
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed_chance
						value = 2
					}
				}
				random = {
					chance = 50
					change_variable = {
						which = province_religion
						value = -4
					}
					change_variable = {
						which = reformed
						value = 4
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed_chance
						value = 4
					}
				}
				random = {
					chance = 50
					change_variable = {
						which = province_religion
						value = -4
					}
					change_variable = {
						which = reformed
						value = 4
					}
				}
			}
			every_owned_province = {
				limit = {
					check_variable = {
						which = reformed_chance
						value = 6
					}
				}
				random = {
					chance = 50
					change_variable = {
						which = province_religion
						value = -4
					}
					change_variable = {
						which = reformed
						value = 4
					}
				}
			}
			set_variable = {
				which = reformed_chance
				value = 0
			}
		}
	}
	option = {
		name = dg_reformed.003.a
		ai_chance = {
			factor = 30
		}
		custom_tooltip = reformed_40
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = affected_home_provinces
						value = 1
					}
				}
			}
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = {
				check_variable = {
					which = affected_home_provinces
					value = 1
				}
			}
			custom_tooltip = affected_province_count
		}
		hidden_effect = {
			set_variable = {
				which = affected_provinces
				value = 0
			}
			set_variable = {
				which = affected_home_provinces
				value = 0
			}
		}
		every_owned_province = {
			limit = {
				has_province_flag = humanist_ideas
				OR = {
					religion = protestant
					religion = catholic
				}
			}
			hidden_effect = {
				set_variable = {
					which = reformed_chance
					value = 0
				}
				if = {
					limit = {
						NOT = {
							has_owner_religion = yes
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = province_religion
							value = -4
						}
						change_variable = {
							which = reformed
							value = 4
						}
					}
				}
				if = {
					limit = {
						NOT = {
							is_core = owner
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = province_religion
							value = -4
						}
						change_variable = {
							which = reformed
							value = 4
						}
					}
				}
				if = {
					limit = {
						NOT = {
							culture_group = owner
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = province_religion
							value = -4
						}
						change_variable = {
							which = reformed
							value = 4
						}
					}
				}
				if = {
					limit = {
						NOT = {
							is_in_capital_area = yes
						}
					}
					random = {
						chance = 50
						change_variable = {
							which = province_religion
							value = -4
						}
						change_variable = {
							which = reformed
							value = 4
						}
					}
				}
				if = {
					limit = {
						has_province_modifier = religious_nationalism
					}
					change_variable = {
						which = province_religion
						value = -4
					}
					change_variable = {
						which = reformed
						value = 4
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.061
	title = dg_reformation.061.t
	desc = dg_reformation.061.d
	picture = protestant_reformers
	trigger = {
		church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = {
					religion_years = {
						protestant = 100
					}
				}
			}
			AND = {
				religion = reformed
				NOT = {
					religion_years = {
						reformed = 100
					}
				}
				check_variable = {
					which = church_aspects
					value = 3
				}
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = {
					religion_years = {
						hussite = 100
					}
				}
			}
		}
		NOT = {
			has_country_modifier = married_pastors_aspect
		}
		NOT = {
			has_country_modifier = celibate_priests_aspect
		}
		NOT = {
			has_country_modifier = religious_controversy
		}
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = reformed
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_clerical_marriage
		}
		if = {
			limit = {
				religion = gnostic
			}
			custom_tooltip = preferred_aspect_clerical_celibacy
		}
		hidden_effect = {
			add_church_power = -100
			change_variable = {
				which = church_aspects
				value = 1
			}
		}
	}
	option = {
		name = dg_reformation.061.a
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = protestant
					religion = reformed
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = married_pastors_aspect
		add_country_modifier = {
			name = married_pastors_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = married_pastors_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				has_country_modifier = celibate_priests_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = hussite
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = hussite
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_reformed
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						has_country_flag = was_hussite
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						has_country_flag = was_hussite
					}
					NOT = {
						is_religion_enabled = protestant
					}
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.061.b
		ai_chance = {
			factor = 50
			modifier = {
				religion = gnostic
				factor = 3
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 30
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 10
				}
				factor = 1.2
			}
		}
		set_country_flag = celibate_priests_aspect
		add_country_modifier = {
			name = celibate_priests_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = celibate_priests_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				has_country_modifier = married_pastors_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				religion = gnostic
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		else = {
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_catholic
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = catholic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			else = {
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = gnostic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.062
	title = dg_reformation.062.t
	desc = dg_reformation.062.d
	picture = protestant_disputation
	trigger = {
		church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = {
					religion_years = {
						protestant = 100
					}
				}
			}
			AND = {
				religion = reformed
				NOT = {
					religion_years = {
						reformed = 100
					}
				}
				check_variable = {
					which = church_aspects
					value = 3
				}
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = {
					religion_years = {
						hussite = 100
					}
				}
			}
		}
		NOT = {
			has_country_modifier = legal_divorce_aspect
		}
		NOT = {
			has_country_modifier = limited_divorce_aspect
		}
		NOT = {
			has_country_modifier = civil_unions_aspect
		}
		NOT = {
			has_country_modifier = religious_controversy
		}
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		if = {
			limit = {
				religion = protestant
			}
			custom_tooltip = preferred_aspect_legal_divorce
		}
		if = {
			limit = {
				OR = {
					religion = reformed
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_limited_divorce
		}
		if = {
			limit = {
				religion = gnostic
			}
			custom_tooltip = preferred_aspect_civil_unions
		}
		hidden_effect = {
			add_church_power = -100
			change_variable = {
				which = church_aspects
				value = 1
			}
		}
	}
	option = {
		name = dg_reformation.062.a
		trigger = {
			OR = {
				religion = protestant
				is_religion_enabled = protestant
			}
		}
		ai_chance = {
			factor = 35
			modifier = {
				religion = protestant
				factor = 3
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = legal_divorce_aspect
		add_country_modifier = {
			name = legal_divorce_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = legal_divorce_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				OR = {
					has_country_modifier = civil_unions_aspect
					has_country_modifier = limited_divorce_aspect
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				religion = protestant
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		else = {
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.062.b
		ai_chance = {
			factor = 35
			modifier = {
				OR = {
					religion = reformed
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 30
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 10
				}
				factor = 1.2
			}
		}
		set_country_flag = limited_divorce_aspect
		add_country_modifier = {
			name = limited_divorce_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = limited_divorce_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				OR = {
					has_country_modifier = civil_unions_aspect
					has_country_modifier = legal_divorce_aspect
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = hussite
					religion = catholic
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = hussite
					religion = catholic
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_catholic
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = catholic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_reformed
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_hussite
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_hussite
					}
					NOT = {
						is_religion_enabled = protestant
					}
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.062.c
		ai_chance = {
			factor = 30
			modifier = {
				religion = gnostic
				factor = 3
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = civil_unions_aspect
		add_country_modifier = {
			name = civil_unions_aspect
			duration = -1
		}
		add_patriarch_authority = -0.10
		every_known_country = {
			limit = {
				has_country_modifier = civil_unions_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				OR = {
					has_country_modifier = legal_divorce_aspect
					has_country_modifier = limited_divorce_aspect
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				religion = gnostic
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		else = {
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			custom_tooltip = gnostic_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = gnostic
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.063
	title = dg_reformation.063.t
	desc = dg_reformation.063.d
	picture = protestant_bible
	trigger = {
		church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = {
					religion_years = {
						protestant = 100
					}
				}
			}
			AND = {
				religion = reformed
				NOT = {
					religion_years = {
						reformed = 100
					}
				}
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = {
					religion_years = {
						hussite = 100
					}
				}
			}
		}
		NOT = {
			has_country_modifier = biblical_inerrancy_aspect
		}
		NOT = {
			has_country_modifier = individual_interpretation_aspect
		}
		NOT = {
			has_country_modifier = guided_interpretation_aspect
		}
		NOT = {
			has_country_modifier = religious_controversy
		}
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		if = {
			limit = {
				OR = {
					religion = reformed
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_biblical_inerrancy
		}
		if = {
			limit = {
				religion = gnostic
			}
			custom_tooltip = preferred_aspect_individual_interpretation
		}
		hidden_effect = {
			add_church_power = -100
			change_variable = {
				which = church_aspects
				value = 1
			}
		}
	}
	option = {
		name = dg_reformation.063.a
		ai_chance = {
			factor = 35
			modifier = {
				OR = {
					religion = reformed
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = biblical_inerrancy_aspect
		add_country_modifier = {
			name = biblical_inerrancy_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = biblical_inerrancy_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				OR = {
					has_country_modifier = individual_interpretation_aspect
					has_country_modifier = guided_interpretation_aspect
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = reformed
					religion = hussite
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = reformed
					religion = hussite
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_reformed
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_hussite
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_hussite
					}
					NOT = {
						is_religion_enabled = protestant
					}
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.063.b
		trigger = {
			OR = {
				religion = gnostic
				is_religion_enabled = protestant
			}
		}
		ai_chance = {
			factor = 35
			modifier = {
				OR = {
					religion = gnostic
					religion = protestant
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = individual_interpretation_aspect
		add_country_modifier = {
			name = individual_interpretation_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = guided_interpretation_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				OR = {
					has_country_modifier = biblical_inerrancy_aspect
					has_country_modifier = guided_interpretation_aspect
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = gnostic
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = protestant
					religion = gnostic
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_gnostic
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = gnostic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						has_country_flag = was_gnostic
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						has_country_flag = was_gnostic
					}
					NOT = {
						is_religion_enabled = protestant
					}
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = gnostic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.063.c
		ai_chance = {
			factor = 30
			modifier = {
				religion = protestant
				factor = 3
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 30
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 10
				}
				factor = 1.2
			}
		}
		set_country_flag = guided_interpretation_aspect
		add_country_modifier = {
			name = guided_interpretation_aspect
			duration = -1
		}
		add_patriarch_authority = 0.05
		every_known_country = {
			limit = {
				has_country_modifier = guided_interpretation_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				OR = {
					has_country_modifier = biblical_inerrancy_aspect
					has_country_modifier = individual_interpretation_aspect
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				religion = protestant
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		else = {
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_catholic
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = catholic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_protestant
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						is_religion_enabled = protestant
					}
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = catholic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.064
	title = dg_reformation.064.t
	desc = dg_reformation.064.d
	picture = protestant_reformers
	trigger = {
		check_variable = {
			which = church_aspects
			value = 3
		}
		church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = {
					religion_years = {
						protestant = 100
					}
				}
			}
			AND = {
				religion = reformed
				NOT = {
					religion_years = {
						reformed = 100
					}
				}
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = {
					religion_years = {
						hussite = 100
					}
				}
			}
		}
		NOT = {
			has_country_modifier = adult_baptism_aspect
		}
		NOT = {
			has_country_modifier = infant_baptism_aspect
		}
		NOT = {
			has_country_modifier = religious_controversy
		}
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_infant_baptism
		}
		if = {
			limit = {
				religion = gnostic
			}
			custom_tooltip = preferred_aspect_adult_baptism
		}
		hidden_effect = {
			add_church_power = -100
			change_variable = {
				which = church_aspects
				value = 1
			}
		}
	}
	option = {
		name = dg_reformation.064.a
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = protestant
					religion = hussite
					religion = reformed
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 30
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 10
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = infant_baptism_aspect
		add_country_modifier = {
			name = infant_baptism_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = infant_baptism_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				has_country_modifier = adult_baptism_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = reformed
					religion = hussite
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = protestant
					religion = reformed
					religion = hussite
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_catholic
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = catholic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_reformed
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_hussite
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							is_in_capital_area = yes
							culture_group = owner
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_hussite
					}
					NOT = {
						is_religion_enabled = protestant
					}
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = catholic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.064.b
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = gnostic
					religion = reformed
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = adult_baptism_aspect
		add_country_modifier = {
			name = adult_baptism_aspect
			duration = -1
		}
		add_piety = 0.05
		every_known_country = {
			limit = {
				has_country_modifier = adult_baptism_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				has_country_modifier = infant_baptism_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = gnostic
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = gnostic
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_gnostic
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = gnostic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_reformed
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_gnostic
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_gnostic
					}
					NOT = {
						is_religion_enabled = protestant
					}
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = gnostic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.065
	title = dg_reformation.065.t
	desc = dg_reformation.065.d
	picture = reformed_confession
	trigger = {
		church_power = 50
		OR = {
			check_variable = {
				which = church_aspects
				value = 3
			}
			religion = reformed
		}
		OR = {
			AND = {
				religion = protestant
				NOT = {
					religion_years = {
						protestant = 100
					}
				}
			}
			AND = {
				religion = reformed
				NOT = {
					religion_years = {
						reformed = 100
					}
				}
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = {
					religion_years = {
						hussite = 100
					}
				}
			}
		}
		NOT = {
			has_country_modifier = free_will_aspect
		}
		NOT = {
			has_country_modifier = predestination_aspect
		}
		NOT = {
			has_country_modifier = religious_controversy
		}
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = gnostic
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_free_will
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = preferred_aspect_predestination
		}
		hidden_effect = {
			add_church_power = -100
			change_variable = {
				which = church_aspects
				value = 1
			}
		}
	}
	option = {
		name = dg_reformation.065.a
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = protestant
					religion = gnostic
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 30
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 10
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = free_will_aspect
		add_country_modifier = {
			name = free_will_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = free_will_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				has_country_modifier = predestination_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = gnostic
					religion = hussite
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = protestant
					religion = gnostic
					religion = hussite
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_catholic
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = catholic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_gnostic
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = gnostic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						has_country_flag = was_gnostic
					}
					NOT = {
						has_country_flag = was_hussite
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						has_country_flag = was_gnostic
					}
					NOT = {
						has_country_flag = was_hussite
					}
					NOT = {
						is_religion_enabled = protestant
					}
					is_religion_enabled = hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						has_country_flag = was_gnostic
					}
					NOT = {
						has_country_flag = was_hussite
					}
					NOT = {
						is_religion_enabled = protestant
					}
					NOT = {
						is_religion_enabled = hussite
					}
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = gnostic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.065.b
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = reformed
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = predestination_aspect
		add_country_modifier = {
			name = predestination_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = predestination_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				has_country_modifier = free_will_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = hussite
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = hussite
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_reformed
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_hussite
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_hussite
					}
					NOT = {
						is_religion_enabled = protestant
					}
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.066
	title = dg_reformation.066.t
	desc = dg_reformation.066.d
	picture = reformed_converts
	trigger = {
		OR = {
			check_variable = {
				which = church_aspects
				value = 5
			}
			religion = reformed
		}
		church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = {
					religion_years = {
						protestant = 100
					}
				}
			}
			AND = {
				religion = reformed
				NOT = {
					religion_years = {
						reformed = 100
					}
				}
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = {
					religion_years = {
						hussite = 100
					}
				}
			}
		}
		NOT = {
			has_country_modifier = appointed_bishops_aspect
		}
		NOT = {
			has_country_modifier = elected_ministers_aspect
		}
		NOT = {
			has_country_modifier = lay_priesthood_aspect
		}
		NOT = {
			has_country_modifier = religious_controversy
		}
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		if = {
			limit = {
				religion = protestant
			}
			custom_tooltip = preferred_aspect_appointed_bishops
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = preferred_aspect_elected_ministers
		}
		if = {
			limit = {
				OR = {
					religion = hussite
					religion = gnostic
				}
			}
			custom_tooltip = preferred_aspect_lay_priesthood
		}
		hidden_effect = {
			add_church_power = -100
			change_variable = {
				which = church_aspects
				value = 1
			}
		}
	}
	option = {
		name = dg_reformation.066.a
		ai_chance = {
			factor = 35
			modifier = {
				religion = protestant
				factor = 3
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 30
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 10
				}
				factor = 1.2
			}
		}
		set_country_flag = appointed_bishops_aspect
		add_country_modifier = {
			name = appointed_bishops_aspect
			duration = -1
		}
		add_patriarch_authority = -0.10
		every_known_country = {
			limit = {
				has_country_modifier = appointed_bishops_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				OR = {
					has_country_modifier = elected_ministers_aspect
					has_country_modifier = lay_priesthood_aspect
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				religion = protestant
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		else = {
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_catholic
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = catholic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_protestant
					}
					is_religion_enabled = protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_catholic
					}
					NOT = {
						has_country_flag = was_protestant
					}
					NOT = {
						is_religion_enabled = protestant
					}
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = catholic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.066.b
		trigger = {
			OR = {
				religion = reformed
				is_religion_enabled = protestant
			}
		}
		ai_chance = {
			factor = 35
			modifier = {
				religion = reformed
				factor = 3
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = elected_ministers_aspect
		add_country_modifier = {
			name = elected_ministers_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = elected_ministers_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				OR = {
					has_country_modifier = lay_priesthood_aspect
					has_country_modifier = appointed_bishops_aspect
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				religion = reformed
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		else = {
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.066.c
		ai_chance = {
			factor = 30
			modifier = {
				OR = {
					religion = gnostic
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = lay_priesthood_aspect
		add_country_modifier = {
			name = lay_priesthood_aspect
			duration = -1
		}
		add_piety = 0.05
		every_known_country = {
			limit = {
				has_country_modifier = lay_priesthood_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				OR = {
					has_country_modifier = appointed_bishops_aspect
					has_country_modifier = elected_ministers_aspect
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = gnostic
					religion = hussite
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = gnostic
					religion = hussite
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_gnostic
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = gnostic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_gnostic
					}
					NOT = {
						has_country_flag = was_hussite
					}
					is_religion_enabled = hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = hussite
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_gnostic
					}
					NOT = {
						has_country_flag = was_hussite
					}
					NOT = {
						is_religion_enabled = hussite
					}
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = gnostic
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.067
	title = dg_reformation.067.t
	desc = dg_reformation.067.d
	picture = protestant_disputation
	trigger = {
		check_variable = {
			which = church_aspects
			value = 5
		}
		church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = {
					religion_years = {
						protestant = 100
					}
				}
			}
			AND = {
				religion = reformed
				NOT = {
					religion_years = {
						reformed = 100
					}
				}
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = {
					religion_years = {
						hussite = 100
					}
				}
			}
		}
		NOT = {
			has_country_modifier = free_membership_aspect
		}
		NOT = {
			has_country_modifier = enforced_membership_aspect
		}
		NOT = {
			has_country_modifier = religious_controversy
		}
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = gnostic
					religion = hussite
					religion = reformed
				}
			}
			custom_tooltip = preferred_aspect_enforced_membership
		}
		hidden_effect = {
			add_church_power = -100
			change_variable = {
				which = church_aspects
				value = 1
			}
		}
	}
	option = {
		name = dg_reformation.067.a
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = hussite_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 30
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = catholic_population
					value = 10
				}
				factor = 1.2
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = gnostic_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = enforced_membership_aspect
		add_country_modifier = {
			name = enforced_membership_aspect
			duration = -1
		}
		every_known_country = {
			limit = {
				has_country_modifier = enforced_membership_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				has_country_modifier = free_membership_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		add_country_modifier = {
			name = religious_controversy
			duration = 500
		}
		custom_tooltip = convert_10
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						is_in_capital_area = yes
						owner = {
							government_rank = 4
						}
					}
					OR = {
						culture_group = owner
						has_owner_accepted_culture = yes
					}
					religion_group = christian
				}
				change_variable = {
					which = converts
					value = 2
				}
				change_variable = {
					which = province_religion
					value = -2
				}
			}
		}
	}
	option = {
		name = dg_reformation.067.b
		trigger = {
			OR = {
				religion = protestant
				religion = reformed
				is_religion_enabled = protestant
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = reformed
					religion = protestant
				}
				factor = 3
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = protestant_population
					value = 10
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 30
				}
				factor = 1.4
			}
			modifier = {
				check_variable = {
					which = reformed_population
					value = 10
				}
				factor = 1.4
			}
		}
		set_country_flag = free_membership_aspect
		add_country_modifier = {
			name = free_membership_aspect
			duration = -1
		}
		add_piety = 0.05
		add_patriarch_authority = -0.10
		every_known_country = {
			limit = {
				has_country_modifier = free_membership_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = same_aspect_observant
				}
			}
		}
		every_known_country = {
			limit = {
				has_country_modifier = enforced_membership_aspect
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_fanatical
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_pious
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_opinion = {
					who = ROOT
					modifier = different_aspect_observant
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 500
			}
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converts
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 2000
			}
			if = {
				limit = {
					has_country_flag = was_protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = protestant
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = was_reformed
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = was_reformed
					}
					NOT = {
						has_country_flag = was_gnostic
					}
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = {
									government_rank = 4
								}
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = {
							which = reformed
							value = 2
						}
						change_variable = {
							which = province_religion
							value = -2
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.071
	title = dg_reformation.071.t
	desc = dg_reformation.071.d
	picture = protestant_reformation
	trigger = {
		religion = protestant
		OR = {
			check_variable = {
				which = church_aspects
				value = 3
			}
			is_year = 1540
		}
		NOT = {
			has_country_flag = denomination_protestant_church
		}
		NOT = {
			has_country_flag = denomination_episcopalian_church
		}
		NOT = {
			has_country_modifier = first_denomination
		}
		NOT = {
			has_country_modifier = new_denomination
		}
		NOT = {
			has_country_modifier = guided_interpretation_aspect
		}
		NOT = {
			has_country_modifier = celibate_priests_aspect
		}
	}
	mean_time_to_happen = {
		years = 20
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 7
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = denomination_protestant_church
	}
	option = {
		name = dg_reformation.071.a
		ai_chance = {
			factor = 70
			modifier = {
				NOT = {
					religion = protestant
				}
				factor = 0
			}
		}
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_protestant_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = protestant
			}
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_modifier = biblical_inerrancy_aspect
				}
				NOT = {
					has_country_modifier = individual_interpretation_aspect
				}
				NOT = {
					has_country_modifier = guided_interpretation_aspect
				}
			}
			add_country_modifier = {
				name = individual_interpretation_aspect
				duration = -1
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_modifier = married_pastors_aspect
				}
				NOT = {
					has_country_modifier = celibate_priests_aspect
				}
			}
			add_country_modifier = {
				name = married_pastors_aspect
				duration = -1
			}
		}
	}
	option = {
		name = dg_reformation.071.a
		trigger = {
			OR = {
				NOT = {
					has_country_modifier = individual_interpretation_aspect
				}
				NOT = {
					has_country_modifier = married_pastors_aspect
				}
			}
		}
		ai_chance = {
			factor = 30
		}
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_protestant_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = protestant
			}
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.072
	title = dg_reformation.072.t
	desc = dg_reformation.072.d
	picture = protestant_state_church
	trigger = {
		religion = protestant
		OR = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			is_year = 1560
		}
		NOT = {
			has_country_flag = denomination_episcopalian_church
		}
		NOT = {
			has_country_flag = denomination_protestant_church
		}
		NOT = {
			is_year = 1680
		}
		NOT = {
			has_country_modifier = first_denomination
		}
		NOT = {
			has_country_modifier = new_denomination
		}
		OR = {
			has_country_modifier = guided_interpretation_aspect
			has_country_modifier = celibate_priests_aspect
		}
	}
	mean_time_to_happen = {
		years = 20
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 7
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = denomination_episcopalian_church
	}
	option = {
		name = dg_reformation.071.a
		ai_chance = {
			factor = 70
			modifier = {
				NOT = {
					religion = protestant
				}
				factor = 0
			}
		}
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_episcopalian_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = protestant
			}
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_modifier = biblical_inerrancy_aspect
				}
				NOT = {
					has_country_modifier = individual_interpretation_aspect
				}
				NOT = {
					has_country_modifier = guided_interpretation_aspect
				}
			}
			add_country_modifier = {
				name = guided_interpretation_aspect
				duration = -1
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_modifier = married_pastors_aspect
				}
				NOT = {
					has_country_modifier = celibate_priests_aspect
				}
			}
			add_country_modifier = {
				name = celibate_priests_aspect
				duration = -1
			}
		}
	}
	option = {
		name = dg_reformation.071.b
		trigger = {
			OR = {
				NOT = {
					has_country_modifier = celibate_priests_aspect
				}
				NOT = {
					has_country_modifier = guided_interpretation_aspect
				}
			}
		}
		ai_chance = {
			factor = 30
		}
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_episcopalian_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = protestant
			}
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.073
	title = dg_reformation.073.t
	desc = dg_reformation.073.d
	picture = reformed_confession
	trigger = {
		religion = reformed
		OR = {
			check_variable = {
				which = church_aspects
				value = 3
			}
			is_year = 1540
		}
		NOT = {
			has_country_flag = denomination_reformed_church
		}
		NOT = {
			has_country_flag = denomination_presbyterian_church
		}
		NOT = {
			is_year = 1640
		}
		NOT = {
			has_country_modifier = first_denomination
		}
		NOT = {
			has_country_modifier = new_denomination
		}
		NOT = {
			has_country_modifier = free_will_aspect
		}
	}
	mean_time_to_happen = {
		years = 20
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 7
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = denomination_reformed_church
	}
	option = {
		name = dg_reformation.071.a
		ai_chance = {
			factor = 70
			modifier = {
				NOT = {
					religion = reformed
				}
				factor = 0
			}
		}
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_reformed_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_modifier = predestination_aspect
				}
				NOT = {
					has_country_modifier = free_will_aspect
				}
			}
			add_country_modifier = {
				name = predestination_aspect
				duration = -1
			}
		}
	}
	option = {
		name = dg_reformation.071.b
		ai_chance = {
			factor = 30
		}
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_reformed_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.074
	title = dg_reformation.074.t
	desc = dg_reformation.074.d
	picture = reformed_rebellion
	trigger = {
		religion = protestant
		has_country_flag = denomination
		is_year = 1560
		NOT = {
			is_year = 1660
		}
		NOT = {
			has_country_flag = denomination_puritan_church
		}
		NOT = {
			has_country_modifier = first_denomination
		}
		NOT = {
			has_country_modifier = new_denomination
		}
		OR = {
			has_country_modifier = biblical_inerrancy_aspect
			has_country_modifier = predestination_aspect
		}
	}
	mean_time_to_happen = {
		years = 20
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 7
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = denomination_puritan_church
	}
	option = {
		name = dg_reformation.071.a
		if = {
			limit = {
				advisor = theologian
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 1000
			}
		}
		else = {
			add_country_modifier = {
				name = religious_controversy
				duration = 3000
			}
		}
		if = {
			limit = {
				piety = 0.60
			}
			add_country_modifier = {
				name = new_denomination
				duration = 6000
			}
		}
		else_if = {
			limit = {
				piety = 0.20
			}
			add_country_modifier = {
				name = new_denomination
				duration = 4000
			}
		}
		else_if = {
			limit = {
				piety = -0.20
			}
			add_country_modifier = {
				name = new_denomination
				duration = 2000
			}
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.075
	title = dg_reformation.075.t
	desc = dg_reformation.075.d
	picture = reformed_confession
	trigger = {
		religion = reformed
		OR = {
			check_variable = {
				which = church_aspects
				value = 3
			}
			is_year = 1560
		}
		NOT = {
			has_country_flag = denomination_presbyterian_church
		}
		NOT = {
			is_year = 1660
		}
		NOT = {
			has_country_modifier = first_denomination
		}
		NOT = {
			has_country_modifier = new_denomination
		}
		OR = {
			has_country_modifier = elected_ministers_aspect
			has_country_modifier = free_will_aspect
		}
	}
	mean_time_to_happen = {
		years = 20
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 7
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = denomination_presbyterian_church
	}
	option = {
		name = dg_reformation.071.a
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_presbyterian_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.076
	title = dg_reformation.076.t
	desc = dg_reformation.076.d
	picture = reformed_converts
	trigger = {
		OR = {
			religion = protestant
			religion = reformed
		}
		is_year = 1560
		NOT = {
			is_year = 1660
		}
		has_country_flag = denomination
		NOT = {
			has_country_flag = denomination_congregational_church
		}
		NOT = {
			has_country_modifier = predestination_aspect
		}
		NOT = {
			has_country_modifier = first_denomination
		}
		NOT = {
			has_country_modifier = new_denomination
		}
		OR = {
			has_country_modifier = limited_divorce_aspect
			has_country_modifier = biblical_inerrancy_aspect
			has_country_modifier = adult_baptism_aspect
			has_country_modifier = elected_ministers_aspect
		}
		OR = {
			religion = protestant
			has_country_modifier = free_will_aspect
		}
	}
	mean_time_to_happen = {
		years = 20
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 7
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = denomination_congregational_church
	}
	option = {
		name = dg_reformation.071.a
		if = {
			limit = {
				advisor = theologian
			}
			add_country_modifier = {
				name = religious_controversy
				duration = 1000
			}
		}
		else = {
			add_country_modifier = {
				name = religious_controversy
				duration = 3000
			}
		}
		if = {
			limit = {
				piety = 0.60
			}
			add_country_modifier = {
				name = new_denomination
				duration = 6000
			}
		}
		else_if = {
			limit = {
				piety = 0.20
			}
			add_country_modifier = {
				name = new_denomination
				duration = 4000
			}
		}
		else_if = {
			limit = {
				piety = -0.20
			}
			add_country_modifier = {
				name = new_denomination
				duration = 2000
			}
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.077
	title = dg_reformation.077.t
	desc = dg_reformation.077.d
	picture = reformed_converts
	trigger = {
		OR = {
			religion = protestant
			religion = reformed
		}
		is_year = 1560
		NOT = {
			is_year = 1660
		}
		NOT = {
			has_country_flag = denomination_baptist_church
		}
		NOT = {
			has_country_modifier = first_denomination
		}
		NOT = {
			has_country_modifier = new_denomination
		}
		OR = {
			has_country_modifier = adult_baptism_aspect
			has_country_modifier = free_will_aspect
			has_country_modifier = free_membership_aspect
		}
	}
	mean_time_to_happen = {
		years = 20
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 7
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = denomination_baptist_church
	}
	option = {
		name = dg_reformation.071.a
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_baptist_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.078
	title = dg_reformation.078.t
	desc = dg_reformation.078.d
	picture = reformed_converts
	trigger = {
		OR = {
			religion = protestant
			religion = reformed
		}
		is_year = 1600
		NOT = {
			is_year = 1700
		}
		NOT = {
			has_country_flag = denomination_quaker_church
		}
		has_country_modifier = individual_interpretation_aspect
		OR = {
			has_country_modifier = free_membership_aspect
			has_country_modifier = lay_priesthood_aspect
		}
		NOT = {
			has_country_modifier = first_denomination
		}
		NOT = {
			has_country_modifier = new_denomination
		}
	}
	mean_time_to_happen = {
		years = 20
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 7
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = denomination_quaker_church
	}
	option = {
		name = dg_reformation.071.a
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_quaker_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = reformed
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
country_event = {
	id = dg_reformation.079
	title = dg_reformation.079.t
	desc = dg_reformation.079.d
	picture = protestant_reformers
	trigger = {
		religion = protestant
		is_year = 1700
		NOT = {
			is_year = 1800
		}
		NOT = {
			has_country_flag = denomination_methodist_church
		}
		OR = {
			has_country_modifier = individual_interpretation_aspect
			has_country_modifier = free_membership_aspect
		}
		NOT = {
			has_country_modifier = first_denomination
		}
		NOT = {
			has_country_modifier = new_denomination
		}
	}
	mean_time_to_happen = {
		years = 20
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 4
			}
			factor = 0.5
		}
		modifier = {
			check_variable = {
				which = church_aspects
				value = 7
			}
			factor = 0.5
		}
	}
	immediate = {
		set_country_flag = denomination_methodist_church
	}
	option = {
		name = dg_reformation.071.a
		if = {
			limit = {
				has_country_flag = denomination
			}
			if = {
				limit = {
					advisor = theologian
				}
				add_country_modifier = {
					name = religious_controversy
					duration = 1000
				}
			}
			else = {
				add_country_modifier = {
					name = religious_controversy
					duration = 3000
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = new_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = new_denomination
					duration = 2000
				}
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = {
					has_country_flag = denomination_methodist_church
				}
				if = {
					limit = {
						piety = 0.60
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_fanatical
					}
				}
				else_if = {
					limit = {
						piety = 0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_pious
					}
				}
				else_if = {
					limit = {
						piety = -0.20
					}
					add_opinion = {
						who = ROOT
						modifier = same_aspect_observant
					}
				}
			}
			if = {
				limit = {
					piety = 0.60
				}
				add_country_modifier = {
					name = first_denomination
					duration = 6000
				}
			}
			else_if = {
				limit = {
					piety = 0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 4000
				}
			}
			else_if = {
				limit = {
					piety = -0.20
				}
				add_country_modifier = {
					name = first_denomination
					duration = 2000
				}
			}
		}
		if = {
			limit = {
				religion = protestant
			}
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = converted_heretics
						value = 2
					}
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = {
								government_rank = 4
							}
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = {
						which = protestant
						value = 2
					}
					change_variable = {
						which = province_religion
						value = -2
					}
				}
			}
		}
	}
}
