namespace = POP_province_AI
country_event = {
	id = POP_province_AI.001
	title = no_localisation
	desc = no_localisation
	picture = CITY_DEVELOPMENT_eventPicture
	is_triggered_only = no
	hidden = yes
	trigger = {
		is_year = 1358
		exists = yes
	}
	mean_time_to_happen = {
		years = 5
	}
	immediate = {
		every_owned_province = {
			limit = {
				is_city = yes
				check_variable = {
					which = wealth_urban_fluid
					value = 1000
				}
				NOT = {
					has_province_modifier = metropole_aided_others
				}
			}
			set_variable = {
				which = assess_metropole
				value = 0
			}
			set_variable = {
				which = assess_metropole
				which = year_ticker
			}
			subtract_variable = {
				which = assess_metropole
				value = 56
			}
			divide_variable = {
				which = assess_metropole
				value = 25
			}
			change_variable = {
				which = assess_metropole
				value = 8
			}
			set_variable = {
				which = assess_infra_adequate
				value = -1.5
			}
			multiply_variable = {
				which = assess_infra_adequate
				which = urban_pop
			}
			change_variable = {
				which = assess_infra_adequate
				value = 250
			}
			set_variable = {
				which = assess_infra
				value = 0
			}
			set_variable = {
				which = assess_infra
				which = urban_pop
			}
			multiply_variable = {
				which = assess_infra
				which = assess_infra_adequate
			}
			if = {
				limit = {
					check_variable = {
						which = urban_pop
						which = assess_metropole
					}
					check_variable = {
						which = wealth_urban_as_asset
						which = assess_infra
					}
				}
				province_event = {
					id = POP_province_AI.100
				}
			}
			set_variable = {
				which = assess_metropole
				value = 0
			}
			set_variable = {
				which = assess_infra_adequate
				value = 0
			}
			set_variable = {
				which = assess_infra
				value = 0
			}
		}
		every_owned_province = {
			limit = {
				is_city = yes
			}
			export_to_variable = {
				which = buildCost
				value = modifier:local_build_cost
			}
			export_to_variable = {
				which = buildCostOwner
				value = modifier:build_cost
				who = owner
			}
			set_variable = {
				which = buildCostCheck
				which = buildCost
			}
			change_variable = {
				which = buildCostCheck
				which = buildCostOwner
			}
			change_variable = {
				which = buildCostCheck
				value = 1
			}
			multiply_variable = {
				which = buildCostCheck
				value = 100
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_urban_fluid
						which = buildCostCheck
					}
				}
				province_event = {
					id = POP_province_AI.101
				}
			}
			set_variable = {
				which = "building_cost"
				value = 1.5
			}
			multiply_variable = {
				which = "building_cost"
				which = "innate_rural_pop_base"
			}
			change_variable = {
				which = "building_cost"
				value = 15
			}
			set_variable = {
				which = "price_of_rural_good_mod"
				which = "price_of_rural_good"
			}
			change_variable = {
				which = "price_of_rural_good_mod"
				value = 1
			}
			divide_variable = {
				which = "price_of_rural_good_mod"
				value = 2
			}
			multiply_variable = {
				which = "building_cost"
				which = "price_of_rural_good_mod"
			}
			multiply_variable = {
				which = "building_cost"
				which = "price_of_rural_good_mod"
			}
			trigger_switch = {
				on_trigger = has_building
				rural_infrastructure_1 = {
					set_variable = {
						which = "building_cost"
						value = 2.5
					}
					multiply_variable = {
						which = "building_cost"
						which = "innate_rural_pop_base"
					}
					change_variable = {
						which = "building_cost"
						value = 25
					}
					set_variable = {
						which = "price_of_rural_good_mod"
						which = "price_of_rural_good"
					}
					change_variable = {
						which = "price_of_rural_good_mod"
						value = 1
					}
					divide_variable = {
						which = "price_of_rural_good_mod"
						value = 2
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
				}
				rural_infrastructure_2 = {
					set_variable = {
						which = "building_cost"
						value = 4.0
					}
					multiply_variable = {
						which = "building_cost"
						which = "innate_rural_pop_base"
					}
					change_variable = {
						which = "building_cost"
						value = 40
					}
					set_variable = {
						which = "price_of_rural_good_mod"
						which = "price_of_rural_good"
					}
					change_variable = {
						which = "price_of_rural_good_mod"
						value = 1
					}
					divide_variable = {
						which = "price_of_rural_good_mod"
						value = 2
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
				}
				rural_infrastructure_3 = {
					set_variable = {
						which = "building_cost"
						value = 6.0
					}
					multiply_variable = {
						which = "building_cost"
						which = "innate_rural_pop_base"
					}
					change_variable = {
						which = "building_cost"
						value = 60
					}
					set_variable = {
						which = "price_of_rural_good_mod"
						which = "price_of_rural_good"
					}
					change_variable = {
						which = "price_of_rural_good_mod"
						value = 1
					}
					divide_variable = {
						which = "price_of_rural_good_mod"
						value = 2
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
				}
				rural_infrastructure_4 = {
					set_variable = {
						which = "building_cost"
						value = 8.0
					}
					multiply_variable = {
						which = "building_cost"
						which = "innate_rural_pop_base"
					}
					change_variable = {
						which = "building_cost"
						value = 80
					}
					set_variable = {
						which = "price_of_rural_good_mod"
						which = "price_of_rural_good"
					}
					change_variable = {
						which = "price_of_rural_good_mod"
						value = 1
					}
					divide_variable = {
						which = "price_of_rural_good_mod"
						value = 2
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
				}
				rural_infrastructure_5 = {
					set_variable = {
						which = "building_cost"
						value = 12.0
					}
					multiply_variable = {
						which = "building_cost"
						which = "innate_rural_pop_base"
					}
					change_variable = {
						which = "building_cost"
						value = 120
					}
					set_variable = {
						which = "price_of_rural_good_mod"
						which = "price_of_rural_good"
					}
					change_variable = {
						which = "price_of_rural_good_mod"
						value = 1
					}
					divide_variable = {
						which = "price_of_rural_good_mod"
						value = 2
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
				}
				rural_infrastructure_6 = {
					set_variable = {
						which = "building_cost"
						value = 16.0
					}
					multiply_variable = {
						which = "building_cost"
						which = "innate_rural_pop_base"
					}
					change_variable = {
						which = "building_cost"
						value = 160
					}
					set_variable = {
						which = "price_of_rural_good_mod"
						which = "price_of_rural_good"
					}
					change_variable = {
						which = "price_of_rural_good_mod"
						value = 1
					}
					divide_variable = {
						which = "price_of_rural_good_mod"
						value = 2
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
					multiply_variable = {
						which = "building_cost"
						which = "price_of_rural_good_mod"
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_rural_fluid
						which = building_cost
					}
				}
				province_event = {
					id = POP_province_AI.102
					days = 2
				}
			}
			set_variable = {
				which = buildCost
				value = 0
			}
			set_variable = {
				which = building_cost
				value = 0
			}
			set_variable = {
				which = buildCostOwner
				value = 0
			}
			set_variable = {
				which = buildCostCheck
				value = 0
			}
		}
	}
	option = {
		name = no_localisation
	}
}
country_event = {
	id = POP_province_AI.002
	title = "POP_province_AI.002.t"
	desc = "POP_province_AI.002.d"
	picture = CITY_DEVELOPMENT_AU_eventPicture
	is_triggered_only = yes
	hidden = yes
	trigger = {
		always = no
	}
	immediate = {
		every_owned_province = {
			limit = {
				is_city = yes
			}
			change_variable = {
				which = "wealth_urban_fluid"
				value = 100000
			}
			change_variable = {
				which = "wealth_rural_fluid"
				value = 100000
			}
		}
	}
	option = {
		name = "POP_province_AI.002.a"
		ai_chance = {
			factor = 100
		}
	}
}
province_event = {
	id = POP_province_AI.004
	title = "POP_province_AI.004.t"
	desc = "POP_province_AI.004.d"
	picture = CASTLE_eventPicture
	is_triggered_only = yes
	hidden = yes
	trigger = {
		always = no
		OR = {
			has_building = local_fortification_1
			has_building = local_fortification_2
			has_building = local_fortification_3
		}
	}
	immediate = {
		trigger_switch = {
			on_trigger = has_building
			local_fortification_1 = {
				random_list = {
					33 = {
						remove_building = local_fortification_1
					}
					67 = {}
				}
			}
			local_fortification_2 = {
				random_list = {
					33 = {
						remove_building = local_fortification_2
						add_building = local_fortification_1
					}
					67 = {}
				}
			}
			local_fortification_3 = {
				random_list = {
					33 = {
						remove_building = local_fortification_3
						add_building = local_fortification_2
					}
					67 = {}
				}
			}
		}
	}
	option = {
		name = "POP_province_AI.004.a"
		ai_chance = {
			factor = 100
		}
	}
}
province_event = {
	id = POP_province_AI.100
	title = no_localisation
	desc = no_localisation
	picture = CITY_DEVELOPMENT_eventPicture
	is_triggered_only = yes
	hidden = yes
	immediate = {
		set_variable = {
			which = metroRootAsset
			which = wealth_urban_as_asset
		}
		save_event_target_as = metroBest
		owner = {
			every_owned_province = {
				limit = {
					region = ROOT
					AND = {
						is_city = yes
						has_province_flag = infra_calc_done
						OR = {
							AND = {
								has_province_flag = mined_goods
								has_province_flag = infra_calc_done
								AND = {
									NOT = {
										has_building = mines_2
										has_building = mines_3
										has_building = mines_4
										has_building = mines_5
									}
								}
								NOT = {
									has_building = mines_1
								}
							}
							AND = {
								has_building = mines_1
								has_province_flag = infra_calc_done
								AND = {
									NOT = {
										has_building = mines_3
										has_building = mines_4
										has_building = mines_5
									}
								}
								owner = {
									adm_tech = 6
								}
								NOT = {
									has_building = mines_2
								}
							}
							AND = {
								has_building = mines_2
								has_province_flag = infra_calc_done
								AND = {
									NOT = {
										has_building = mines_4
										has_building = mines_5
									}
								}
								owner = {
									adm_tech = 11
								}
								NOT = {
									has_building = mines_3
								}
							}
							AND = {
								has_building = mines_3
								has_province_flag = infra_calc_done
								AND = {
									NOT = {
										has_building = mines_5
									}
								}
								owner = {
									adm_tech = 22
								}
								NOT = {
									has_building = mines_4
								}
							}
							AND = {
								has_building = mines_4
								has_province_flag = infra_calc_done
								AND = {
									always = yes
								}
								owner = {
									adm_tech = 37
								}
								NOT = {
									has_building = mines_5
								}
							}
							AND = {
								has_province_flag = infra_calc_done
								owner = {
									adm_tech = 1
								}
								AND = {
									NOT = {
										has_building = urban_infrastructure_1
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_building = town_hall
								}
							}
							AND = {
								has_building = town_hall
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 0.5
								}
								owner = {
									adm_tech = 1
								}
								AND = {
									NOT = {
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_building = urban_infrastructure_1
								}
							}
							AND = {
								has_building = urban_infrastructure_1
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 1.5
								}
								owner = {
									adm_tech = 1
								}
								AND = {
									NOT = {
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_building = urban_infrastructure_2
								}
							}
							AND = {
								has_building = urban_infrastructure_2
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 3
								}
								owner = {
									adm_tech = 7
								}
								AND = {
									NOT = {
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_building = urban_infrastructure_3
								}
							}
							AND = {
								has_building = urban_infrastructure_3
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 5
								}
								owner = {
									adm_tech = 18
								}
								AND = {
									NOT = {
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_building = urban_infrastructure_4
								}
							}
							AND = {
								has_building = urban_infrastructure_4
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 8
								}
								owner = {
									adm_tech = 27
								}
								AND = {
									always = yes
								}
								NOT = {
									has_building = urban_infrastructure_5
								}
							}
							AND = {
								has_province_flag = infra_calc_done
								has_port = yes
								owner = {
									dip_tech = 1
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_2
										has_building = harbour_infrastructure_3x
										has_building = harbour_infrastructure_4
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_1
								}
							}
							AND = {
								has_building = harbour_infrastructure_1
								has_province_flag = infra_calc_done
								NOT = {
									has_province_modifier = lack_of_harbour
								}
								owner = {
									dip_tech = 4
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_3x
										has_building = harbour_infrastructure_4
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_2
								}
							}
							AND = {
								has_building = harbour_infrastructure_2
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = town_hall
										has_building = urban_infrastructure_1
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_province_modifier = lack_of_harbour
								}
								NOT = {
									has_province_flag = has_delta_estuary
								}
								owner = {
									dip_tech = 6
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_4
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_3x
								}
							}
							AND = {
								has_building = harbour_infrastructure_3x
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = urban_infrastructure_1
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_province_modifier = lack_of_harbour
								}
								NOT = {
									has_province_flag = has_delta_estuary
								}
								owner = {
									dip_tech = 22
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_4
								}
							}
							AND = {
								has_building = harbour_infrastructure_4
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_building = military_harbour_4
								}
								has_province_flag = has_natural_harbour
								owner = {
									dip_tech = 40
								}
								AND = {
									NOT = {
										has_building = military_harbour_4
									}
								}
								NOT = {
									has_building = harbour_infrastructure_5
								}
							}
							AND = {
								has_province_flag = infra_calc_done
								owner = {
									dip_tech = 4
								}
								AND = {
									NOT = {
										has_building = merchant_guild
										has_building = trade_depot
										has_building = customs_house
									}
								}
								NOT = {
									has_building = marketplace
								}
							}
							AND = {
								has_building = marketplace
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 1
								}
								owner = {
									dip_tech = 5
								}
								AND = {
									NOT = {
										has_building = trade_depot
										has_building = customs_house
									}
								}
								NOT = {
									has_building = merchant_guild
								}
							}
							AND = {
								has_building = merchant_guild
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 2
								}
								owner = {
									dip_tech = 13
								}
								AND = {
									NOT = {
										has_building = customs_house
									}
								}
								NOT = {
									has_building = trade_depot
								}
							}
							AND = {
								has_building = trade_depot
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 3
								}
								owner = {
									dip_tech = 22
								}
								AND = {
									always = yes
								}
								NOT = {
									has_building = customs_house
								}
							}
							AND = {
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 4
								}
								AND = {
									OR = {
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								owner = {
									has_idea_group = trade_ideas
								}
								owner = {
									dip_tech = 23
								}
								AND = {
									always = yes
								}
								NOT = {
									has_building = bank
								}
							}
							AND = {
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 8
								}
								has_building = bank
								AND = {
									OR = {
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								owner = {
									has_idea_group = trade_ideas
								}
								owner = {
									dip_tech = 42
								}
								AND = {
									owner = {
										has_country_modifier = india_trade_co
									}
								}
								NOT = {
									has_building = stock_exchange
								}
							}
							AND = {
								has_province_flag = infra_calc_done
								NOT = {
									has_building = steam_powered_factory
								}
								check_variable = {
									which = urban_pop
									value = 1
								}
								owner = {
									adm_tech = 4
								}
								AND = {
									NOT = {
										has_building = corporation_guild
										has_building = urban_manufactory
										has_building = factory
										has_building = steam_powered_factory
									}
								}
								NOT = {
									has_building = workshop
								}
							}
							AND = {
								has_building = workshop
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 5
								}
								owner = {
									adm_tech = 5
								}
								AND = {
									NOT = {
										has_building = urban_manufactory
										has_building = factory
										has_building = steam_powered_factory
									}
								}
								NOT = {
									has_building = corporation_guild
								}
							}
							AND = {
								has_building = corporation_guild
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 9
								}
								owner = {
									adm_tech = 10
								}
								AND = {
									NOT = {
										has_building = factory
										has_building = steam_powered_factory
									}
								}
								NOT = {
									has_building = urban_manufactory
								}
							}
							AND = {
								has_building = urban_manufactory
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 9
								}
								owner = {
									adm_tech = 33
								}
								AND = {
									NOT = {
										has_building = steam_powered_factory
									}
								}
								NOT = {
									has_building = factory
								}
							}
							AND = {
								OR = {
									has_building = factory
									has_building = warehouse
									has_building = warehouse_district
								}
								has_province_flag = infra_calc_done
								owner = {
									adm_tech = 47
								}
								AND = {
									always = yes
								}
								NOT = {
									has_building = steam_powered_factory
								}
							}
							AND = {
								has_province_flag = infra_calc_done
								owner = {
									dip_tech = 4
								}
								AND = {
									NOT = {
										has_building = warehouse_district
									}
								}
								NOT = {
									has_building = warehouse
								}
							}
							AND = {
								has_building = warehouse
								has_province_flag = infra_calc_done
								check_variable = {
									which = urban_pop
									value = 4
								}
								owner = {
									dip_tech = 10
								}
								AND = {
									always = yes
								}
								NOT = {
									has_building = warehouse_district
								}
							}
							AND = {
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = urban_infrastructure_1
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								owner = {
									adm_tech = 1
								}
								AND = {
									NOT = {
										has_building = medium_university
										has_building = big_university
									}
								}
								NOT = {
									has_building = small_university
								}
							}
							AND = {
								has_building = small_university
								has_province_flag = infra_calc_done
								owner = {
									adm_tech = 1
								}
								check_variable = {
									which = art_power
									value = 5
								}
								AND = {
									NOT = {
										has_building = big_university
									}
								}
								NOT = {
									has_building = medium_university
								}
							}
							AND = {
								has_building = medium_university
								has_province_flag = infra_calc_done
								owner = {
									adm_tech = 1
								}
								check_variable = {
									which = art_power
									value = 10
								}
								AND = {
									always = yes
								}
								NOT = {
									has_building = big_university
								}
							}
							AND = {
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = urban_infrastructure_1
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								owner = {
									adm_tech = 5
								}
								AND = {
									NOT = {
										has_building = fine_arts_academy
										has_building = opera
									}
								}
								NOT = {
									has_building = art_corporation
								}
							}
							AND = {
								has_building = art_corporation
								has_province_flag = infra_calc_done
								owner = {
									adm_tech = 19
									OR = {
										has_idea = patron_of_art
										has_idea = local_traditions
									}
								}
								AND = {
									NOT = {
										has_building = opera
									}
								}
								NOT = {
									has_building = fine_arts_academy
								}
							}
							AND = {
								has_building = fine_arts_academy
								has_province_flag = infra_calc_done
								owner = {
									adm_tech = 29
									OR = {
										has_idea = patron_of_art
										has_idea = local_traditions
									}
								}
								AND = {
									always = yes
								}
								NOT = {
									has_building = opera
								}
							}
						}
					}
				}
				set_variable = {
					which = metroRootAsset
					which = ROOT
				}
				divide_variable = {
					which = metroRootAsset
					value = 3
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = wealth_urban_as_asset
								which = metroRootAsset
							}
						}
					}
					set_province_flag = metroCand
					set_variable = {
						which = metroCandWeight
						which = devPointUrbanCur
					}
					change_variable = {
						which = metroCandWeight
						which = devPointUpperCur
					}
					export_to_variable = {
						which = metroPrice
						value = modifier:local_build_cost
					}
					change_variable = {
						which = metroPrice
						value = 1.001
					}
					divide_variable = {
						which = metroCandWeight
						which = metroPrice
					}
					set_variable = {
						which = metroPrice
						value = 0
					}
				}
				set_variable = {
					which = metroRootAsset
					value = 0
				}
			}
			set_variable = {
				which = metroCandWeight
				value = -2147483
			}
			save_event_target_as = metroBest
			every_owned_province = {
				if = {
					limit = {
						AND = {
							has_province_flag = metroCand
						}
					}
					if = {
						limit = {
							check_variable = {
								which = metroCandWeight
								which = event_target:metroBest
							}
						}
						if = {
							limit = {
								always = yes
							}
							event_target:metroBest = {
								set_variable = {
									which = metroCandWeight
									value = 0
								}
							}
						}
						save_event_target_as = metroBest
					}
					else_if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = metroCandWeight
							value = 0
						}
					}
				}
				else_if = {
					limit = {
						always = yes
					}
					set_variable = {
						which = metroCandWeight
						value = 0
					}
				}
			}
			if = {
				limit = {
					always = yes
				}
				event_target:metroBest = {
					set_variable = {
						which = metroCandWeight
						value = 0
					}
				}
			}
			every_owned_province = {
				limit = {
					has_province_flag = metroCand
				}
				clr_province_flag = metroCand
			}
		}
		event_target:metroBest = {
			if = {
				limit = {
					NOT = {
						province_id = ROOT
					}
				}
				set_variable = {
					which = wealthOrig
					which = wealth_urban_fluid
				}
				set_variable = {
					which = wealth_urban_fluid
					which = ROOT
				}
				province_event = {
					id = POP_province_AI.101
				}
				subtract_variable = {
					which = wealth_urban_fluid
					which = ROOT
				}
				change_variable = {
					which = wealth_urban_fluid
					which = wealthOrig
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = wealth_urban_fluid
								value = 0
							}
						}
					}
					ROOT = {
						change_variable = {
							which = wealth_urban_fluid
							which = PREV
						}
					}
					set_variable = {
						which = wealth_urban_fluid
						value = 0
					}
				}
				set_variable = {
					which = wealthOrig
					value = 0
				}
				if = {
					limit = {
						has_province_modifier = province_built_building
					}
					remove_province_modifier = province_built_building
					ROOT = {
						add_province_modifier = {
							name = metropole_aided_others
							duration = 1095
						}
					}
					add_province_modifier = {
						name = aided_by_metropole
						duration = 1095
					}
				}
			}
		}
		set_variable = {
			which = metroRootAsset
			value = 0
		}
	}
	option = {
		name = no_localisation
	}
}
province_event = {
	id = POP_province_AI.101
	title = "POP_province_AI.101.t"
	desc = "POP_province_AI.101.d"
	picture = CITY_DEVELOPMENT_AU_eventPicture
	is_triggered_only = yes
	hidden = yes
	trigger = {
		AND = {
			is_city = yes
			has_province_flag = infra_calc_done
			OR = {
				AND = {
					has_province_flag = mined_goods
					has_province_flag = infra_calc_done
					AND = {
						NOT = {
							has_building = mines_2
							has_building = mines_3
							has_building = mines_4
							has_building = mines_5
						}
					}
					NOT = {
						has_building = mines_1
					}
				}
				AND = {
					has_building = mines_1
					has_province_flag = infra_calc_done
					AND = {
						NOT = {
							has_building = mines_3
							has_building = mines_4
							has_building = mines_5
						}
					}
					owner = {
						adm_tech = 6
					}
					NOT = {
						has_building = mines_2
					}
				}
				AND = {
					has_building = mines_2
					has_province_flag = infra_calc_done
					AND = {
						NOT = {
							has_building = mines_4
							has_building = mines_5
						}
					}
					owner = {
						adm_tech = 11
					}
					NOT = {
						has_building = mines_3
					}
				}
				AND = {
					has_building = mines_3
					has_province_flag = infra_calc_done
					AND = {
						NOT = {
							has_building = mines_5
						}
					}
					owner = {
						adm_tech = 22
					}
					NOT = {
						has_building = mines_4
					}
				}
				AND = {
					has_building = mines_4
					has_province_flag = infra_calc_done
					AND = {
						always = yes
					}
					owner = {
						adm_tech = 37
					}
					NOT = {
						has_building = mines_5
					}
				}
				AND = {
					has_province_flag = infra_calc_done
					owner = {
						adm_tech = 1
					}
					AND = {
						NOT = {
							has_building = urban_infrastructure_1
							has_building = urban_infrastructure_2
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					NOT = {
						has_building = town_hall
					}
				}
				AND = {
					has_building = town_hall
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 0.5
					}
					owner = {
						adm_tech = 1
					}
					AND = {
						NOT = {
							has_building = urban_infrastructure_2
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					NOT = {
						has_building = urban_infrastructure_1
					}
				}
				AND = {
					has_building = urban_infrastructure_1
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 1.5
					}
					owner = {
						adm_tech = 1
					}
					AND = {
						NOT = {
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					NOT = {
						has_building = urban_infrastructure_2
					}
				}
				AND = {
					has_building = urban_infrastructure_2
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 3
					}
					owner = {
						adm_tech = 7
					}
					AND = {
						NOT = {
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					NOT = {
						has_building = urban_infrastructure_3
					}
				}
				AND = {
					has_building = urban_infrastructure_3
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 5
					}
					owner = {
						adm_tech = 18
					}
					AND = {
						NOT = {
							has_building = urban_infrastructure_5
						}
					}
					NOT = {
						has_building = urban_infrastructure_4
					}
				}
				AND = {
					has_building = urban_infrastructure_4
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 8
					}
					owner = {
						adm_tech = 27
					}
					AND = {
						always = yes
					}
					NOT = {
						has_building = urban_infrastructure_5
					}
				}
				AND = {
					has_province_flag = infra_calc_done
					has_port = yes
					owner = {
						dip_tech = 1
					}
					AND = {
						NOT = {
							has_building = harbour_infrastructure_2
							has_building = harbour_infrastructure_3x
							has_building = harbour_infrastructure_4
							has_building = harbour_infrastructure_5
						}
					}
					NOT = {
						has_building = harbour_infrastructure_1
					}
				}
				AND = {
					has_building = harbour_infrastructure_1
					has_province_flag = infra_calc_done
					NOT = {
						has_province_modifier = lack_of_harbour
					}
					owner = {
						dip_tech = 4
					}
					AND = {
						NOT = {
							has_building = harbour_infrastructure_3x
							has_building = harbour_infrastructure_4
							has_building = harbour_infrastructure_5
						}
					}
					NOT = {
						has_building = harbour_infrastructure_2
					}
				}
				AND = {
					has_building = harbour_infrastructure_2
					has_province_flag = infra_calc_done
					AND = {
						OR = {
							has_building = town_hall
							has_building = urban_infrastructure_1
							has_building = urban_infrastructure_2
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					NOT = {
						has_province_modifier = lack_of_harbour
					}
					NOT = {
						has_province_flag = has_delta_estuary
					}
					owner = {
						dip_tech = 6
					}
					AND = {
						NOT = {
							has_building = harbour_infrastructure_4
							has_building = harbour_infrastructure_5
						}
					}
					NOT = {
						has_building = harbour_infrastructure_3x
					}
				}
				AND = {
					has_building = harbour_infrastructure_3x
					has_province_flag = infra_calc_done
					AND = {
						OR = {
							has_building = urban_infrastructure_1
							has_building = urban_infrastructure_2
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					NOT = {
						has_province_modifier = lack_of_harbour
					}
					NOT = {
						has_province_flag = has_delta_estuary
					}
					owner = {
						dip_tech = 22
					}
					AND = {
						NOT = {
							has_building = harbour_infrastructure_5
						}
					}
					NOT = {
						has_building = harbour_infrastructure_4
					}
				}
				AND = {
					has_building = harbour_infrastructure_4
					has_province_flag = infra_calc_done
					AND = {
						OR = {
							has_building = urban_infrastructure_2
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					NOT = {
						has_building = military_harbour_4
					}
					has_province_flag = has_natural_harbour
					owner = {
						dip_tech = 40
					}
					AND = {
						NOT = {
							has_building = military_harbour_4
						}
					}
					NOT = {
						has_building = harbour_infrastructure_5
					}
				}
				AND = {
					has_province_flag = infra_calc_done
					owner = {
						dip_tech = 4
					}
					AND = {
						NOT = {
							has_building = merchant_guild
							has_building = trade_depot
							has_building = customs_house
						}
					}
					NOT = {
						has_building = marketplace
					}
				}
				AND = {
					has_building = marketplace
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 1
					}
					owner = {
						dip_tech = 5
					}
					AND = {
						NOT = {
							has_building = trade_depot
							has_building = customs_house
						}
					}
					NOT = {
						has_building = merchant_guild
					}
				}
				AND = {
					has_building = merchant_guild
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 2
					}
					owner = {
						dip_tech = 13
					}
					AND = {
						NOT = {
							has_building = customs_house
						}
					}
					NOT = {
						has_building = trade_depot
					}
				}
				AND = {
					has_building = trade_depot
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 3
					}
					owner = {
						dip_tech = 22
					}
					AND = {
						always = yes
					}
					NOT = {
						has_building = customs_house
					}
				}
				AND = {
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 4
					}
					AND = {
						OR = {
							has_building = urban_infrastructure_2
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					owner = {
						has_idea_group = trade_ideas
					}
					owner = {
						dip_tech = 23
					}
					AND = {
						always = yes
					}
					NOT = {
						has_building = bank
					}
				}
				AND = {
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 8
					}
					has_building = bank
					AND = {
						OR = {
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					owner = {
						has_idea_group = trade_ideas
					}
					owner = {
						dip_tech = 42
					}
					AND = {
						owner = {
							has_country_modifier = india_trade_co
						}
					}
					NOT = {
						has_building = stock_exchange
					}
				}
				AND = {
					has_province_flag = infra_calc_done
					NOT = {
						has_building = steam_powered_factory
					}
					check_variable = {
						which = urban_pop
						value = 1
					}
					owner = {
						adm_tech = 4
					}
					AND = {
						NOT = {
							has_building = corporation_guild
							has_building = urban_manufactory
							has_building = factory
							has_building = steam_powered_factory
						}
					}
					NOT = {
						has_building = workshop
					}
				}
				AND = {
					has_building = workshop
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 5
					}
					owner = {
						adm_tech = 5
					}
					AND = {
						NOT = {
							has_building = urban_manufactory
							has_building = factory
							has_building = steam_powered_factory
						}
					}
					NOT = {
						has_building = corporation_guild
					}
				}
				AND = {
					has_building = corporation_guild
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 9
					}
					owner = {
						adm_tech = 10
					}
					AND = {
						NOT = {
							has_building = factory
							has_building = steam_powered_factory
						}
					}
					NOT = {
						has_building = urban_manufactory
					}
				}
				AND = {
					has_building = urban_manufactory
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 9
					}
					owner = {
						adm_tech = 33
					}
					AND = {
						NOT = {
							has_building = steam_powered_factory
						}
					}
					NOT = {
						has_building = factory
					}
				}
				AND = {
					OR = {
						has_building = factory
						has_building = warehouse
						has_building = warehouse_district
					}
					has_province_flag = infra_calc_done
					owner = {
						adm_tech = 47
					}
					AND = {
						always = yes
					}
					NOT = {
						has_building = steam_powered_factory
					}
				}
				AND = {
					has_province_flag = infra_calc_done
					owner = {
						dip_tech = 4
					}
					AND = {
						NOT = {
							has_building = warehouse_district
						}
					}
					NOT = {
						has_building = warehouse
					}
				}
				AND = {
					has_building = warehouse
					has_province_flag = infra_calc_done
					check_variable = {
						which = urban_pop
						value = 4
					}
					owner = {
						dip_tech = 10
					}
					AND = {
						always = yes
					}
					NOT = {
						has_building = warehouse_district
					}
				}
				AND = {
					has_province_flag = infra_calc_done
					AND = {
						OR = {
							has_building = urban_infrastructure_1
							has_building = urban_infrastructure_2
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					owner = {
						adm_tech = 1
					}
					AND = {
						NOT = {
							has_building = medium_university
							has_building = big_university
						}
					}
					NOT = {
						has_building = small_university
					}
				}
				AND = {
					has_building = small_university
					has_province_flag = infra_calc_done
					owner = {
						adm_tech = 1
					}
					check_variable = {
						which = art_power
						value = 5
					}
					AND = {
						NOT = {
							has_building = big_university
						}
					}
					NOT = {
						has_building = medium_university
					}
				}
				AND = {
					has_building = medium_university
					has_province_flag = infra_calc_done
					owner = {
						adm_tech = 1
					}
					check_variable = {
						which = art_power
						value = 10
					}
					AND = {
						always = yes
					}
					NOT = {
						has_building = big_university
					}
				}
				AND = {
					has_province_flag = infra_calc_done
					AND = {
						OR = {
							has_building = urban_infrastructure_1
							has_building = urban_infrastructure_2
							has_building = urban_infrastructure_3
							has_building = urban_infrastructure_4
							has_building = urban_infrastructure_5
						}
					}
					owner = {
						adm_tech = 5
					}
					AND = {
						NOT = {
							has_building = fine_arts_academy
							has_building = opera
						}
					}
					NOT = {
						has_building = art_corporation
					}
				}
				AND = {
					has_building = art_corporation
					has_province_flag = infra_calc_done
					owner = {
						adm_tech = 19
						OR = {
							has_idea = patron_of_art
							has_idea = local_traditions
						}
					}
					AND = {
						NOT = {
							has_building = opera
						}
					}
					NOT = {
						has_building = fine_arts_academy
					}
				}
				AND = {
					has_building = fine_arts_academy
					has_province_flag = infra_calc_done
					owner = {
						adm_tech = 29
						OR = {
							has_idea = patron_of_art
							has_idea = local_traditions
						}
					}
					AND = {
						always = yes
					}
					NOT = {
						has_building = opera
					}
				}
			}
		}
	}
	immediate = {
		if = {
			limit = {
				AND = {
					is_city = yes
					has_province_flag = infra_calc_done
					OR = {
						AND = {
							has_province_flag = mined_goods
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_2
									has_building = mines_3
									has_building = mines_4
									has_building = mines_5
								}
							}
							NOT = {
								has_building = mines_1
							}
						}
						AND = {
							has_building = mines_1
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_3
									has_building = mines_4
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 6
							}
							NOT = {
								has_building = mines_2
							}
						}
						AND = {
							has_building = mines_2
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_4
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 11
							}
							NOT = {
								has_building = mines_3
							}
						}
						AND = {
							has_building = mines_3
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 22
							}
							NOT = {
								has_building = mines_4
							}
						}
						AND = {
							has_building = mines_4
							has_province_flag = infra_calc_done
							AND = {
								always = yes
							}
							owner = {
								adm_tech = 37
							}
							NOT = {
								has_building = mines_5
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = town_hall
							}
						}
						AND = {
							has_building = town_hall
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 0.5
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_1
							}
						}
						AND = {
							has_building = urban_infrastructure_1
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 1.5
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_2
							}
						}
						AND = {
							has_building = urban_infrastructure_2
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 3
							}
							owner = {
								adm_tech = 7
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_3
							}
						}
						AND = {
							has_building = urban_infrastructure_3
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 5
							}
							owner = {
								adm_tech = 18
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_4
							}
						}
						AND = {
							has_building = urban_infrastructure_4
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 8
							}
							owner = {
								adm_tech = 27
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = urban_infrastructure_5
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							has_port = yes
							owner = {
								dip_tech = 1
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_1
							}
						}
						AND = {
							has_building = harbour_infrastructure_1
							has_province_flag = infra_calc_done
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_2
							}
						}
						AND = {
							has_building = harbour_infrastructure_2
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = town_hall
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							NOT = {
								has_province_flag = has_delta_estuary
							}
							owner = {
								dip_tech = 6
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_3x
							}
						}
						AND = {
							has_building = harbour_infrastructure_3x
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							NOT = {
								has_province_flag = has_delta_estuary
							}
							owner = {
								dip_tech = 22
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_4
							}
						}
						AND = {
							has_building = harbour_infrastructure_4
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = military_harbour_4
							}
							has_province_flag = has_natural_harbour
							owner = {
								dip_tech = 40
							}
							AND = {
								NOT = {
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = harbour_infrastructure_5
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = merchant_guild
									has_building = trade_depot
									has_building = customs_house
								}
							}
							NOT = {
								has_building = marketplace
							}
						}
						AND = {
							has_building = marketplace
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 1
							}
							owner = {
								dip_tech = 5
							}
							AND = {
								NOT = {
									has_building = trade_depot
									has_building = customs_house
								}
							}
							NOT = {
								has_building = merchant_guild
							}
						}
						AND = {
							has_building = merchant_guild
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 2
							}
							owner = {
								dip_tech = 13
							}
							AND = {
								NOT = {
									has_building = customs_house
								}
							}
							NOT = {
								has_building = trade_depot
							}
						}
						AND = {
							has_building = trade_depot
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 3
							}
							owner = {
								dip_tech = 22
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = customs_house
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 4
							}
							AND = {
								OR = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								has_idea_group = trade_ideas
							}
							owner = {
								dip_tech = 23
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = bank
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 8
							}
							has_building = bank
							AND = {
								OR = {
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								has_idea_group = trade_ideas
							}
							owner = {
								dip_tech = 42
							}
							AND = {
								owner = {
									has_country_modifier = india_trade_co
								}
							}
							NOT = {
								has_building = stock_exchange
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							NOT = {
								has_building = steam_powered_factory
							}
							check_variable = {
								which = urban_pop
								value = 1
							}
							owner = {
								adm_tech = 4
							}
							AND = {
								NOT = {
									has_building = corporation_guild
									has_building = urban_manufactory
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = workshop
							}
						}
						AND = {
							has_building = workshop
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 5
							}
							owner = {
								adm_tech = 5
							}
							AND = {
								NOT = {
									has_building = urban_manufactory
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = corporation_guild
							}
						}
						AND = {
							has_building = corporation_guild
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 9
							}
							owner = {
								adm_tech = 10
							}
							AND = {
								NOT = {
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = urban_manufactory
							}
						}
						AND = {
							has_building = urban_manufactory
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 9
							}
							owner = {
								adm_tech = 33
							}
							AND = {
								NOT = {
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = factory
							}
						}
						AND = {
							OR = {
								has_building = factory
								has_building = warehouse
								has_building = warehouse_district
							}
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 47
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = steam_powered_factory
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = warehouse_district
								}
							}
							NOT = {
								has_building = warehouse
							}
						}
						AND = {
							has_building = warehouse
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 4
							}
							owner = {
								dip_tech = 10
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = warehouse_district
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = medium_university
									has_building = big_university
								}
							}
							NOT = {
								has_building = small_university
							}
						}
						AND = {
							has_building = small_university
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							check_variable = {
								which = art_power
								value = 5
							}
							AND = {
								NOT = {
									has_building = big_university
								}
							}
							NOT = {
								has_building = medium_university
							}
						}
						AND = {
							has_building = medium_university
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							check_variable = {
								which = art_power
								value = 10
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = big_university
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								adm_tech = 5
							}
							AND = {
								NOT = {
									has_building = fine_arts_academy
									has_building = opera
								}
							}
							NOT = {
								has_building = art_corporation
							}
						}
						AND = {
							has_building = art_corporation
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 19
								OR = {
									has_idea = patron_of_art
									has_idea = local_traditions
								}
							}
							AND = {
								NOT = {
									has_building = opera
								}
							}
							NOT = {
								has_building = fine_arts_academy
							}
						}
						AND = {
							has_building = fine_arts_academy
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 29
								OR = {
									has_idea = patron_of_art
									has_idea = local_traditions
								}
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = opera
							}
						}
					}
				}
			}
			export_to_variable = {
				which = getBestBuildingCost
				value = modifier:local_build_cost
			}
			export_to_variable = {
				which = getBestBuildingCostOwner
				value = modifier:build_cost
				who = owner
			}
			change_variable = {
				which = getBestBuildingCost
				value = 1
			}
			change_variable = {
				which = getBestBuildingCost
				which = getBestBuildingCostOwner
			}
			set_variable = {
				which = getBestBuildingFood
				which = regional_food_factor
			}
			multiply_variable = {
				which = getBestBuildingFood
				value = 2
			}
			set_variable = {
				which = getBestBuildingWeight
				value = -1
			}
			set_variable = {
				which = getBestBuildingBuildInd
				value = 0
			}
			set_variable = {
				which = getBestBuildingBuildPrice
				value = 0
			}
			set_variable = {
				which = getBestBuildingBudget
				which = wealth_urban_fluid
			}
			if = {
				limit = {
					OR = {
						always = yes
						always = no
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = mined_goods
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_2
									has_building = mines_3
									has_building = mines_4
									has_building = mines_5
								}
							}
							NOT = {
								has_building = mines_1
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0.6
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 0.1
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 100
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 1
						}
						set_variable = {
							which = "building_cost"
							value = 100
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = mines_1
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_3
									has_building = mines_4
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 6
							}
							NOT = {
								has_building = mines_2
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 1.2
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 0.6
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 0.6
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 2
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = mines_2
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_4
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 11
							}
							NOT = {
								has_building = mines_3
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 1.8
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 1.2
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 1.2
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 200
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 3
						}
						set_variable = {
							which = "building_cost"
							value = 200
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = mines_3
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 22
							}
							NOT = {
								has_building = mines_4
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 2.4
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 1.8
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 1.8
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 4
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = mines_4
							has_province_flag = infra_calc_done
							AND = {
								always = yes
							}
							owner = {
								adm_tech = 37
							}
							NOT = {
								has_building = mines_5
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 3
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 2.4
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 2.4
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 400
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 5
						}
						set_variable = {
							which = "building_cost"
							value = 400
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
			}
			if = {
				limit = {
					always = yes
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = town_hall
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 6
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = town_hall
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 0.5
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_1
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 225
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 7
						}
						set_variable = {
							which = "building_cost"
							value = 225
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_infrastructure_1
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 1.5
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_2
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 8
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_infrastructure_2
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 3
							}
							owner = {
								adm_tech = 7
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_3
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 9
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_infrastructure_3
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 5
							}
							owner = {
								adm_tech = 18
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_4
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 10
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_infrastructure_4
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 8
							}
							owner = {
								adm_tech = 27
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = urban_infrastructure_5
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 900
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 11
						}
						set_variable = {
							which = "building_cost"
							value = 900
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							has_port = yes
							owner = {
								dip_tech = 1
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_1
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 12
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = harbour_infrastructure_1
							has_province_flag = infra_calc_done
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_2
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.15
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.2
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 225
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 13
						}
						set_variable = {
							which = "building_cost"
							value = 225
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = harbour_infrastructure_2
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = town_hall
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							NOT = {
								has_province_flag = has_delta_estuary
							}
							owner = {
								dip_tech = 6
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_3x
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 14
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = harbour_infrastructure_3x
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							NOT = {
								has_province_flag = has_delta_estuary
							}
							owner = {
								dip_tech = 22
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_4
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 15
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = harbour_infrastructure_4
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = military_harbour_4
							}
							has_province_flag = has_natural_harbour
							owner = {
								dip_tech = 40
							}
							AND = {
								NOT = {
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = harbour_infrastructure_5
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 16
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = merchant_guild
									has_building = trade_depot
									has_building = customs_house
								}
							}
							NOT = {
								has_building = marketplace
							}
						}
					}
					set_variable = {
						which = tempPrevTradePowerValue
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevTradePowerValue
						value = 0.2
					}
					change_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 4
							}
						}
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempNewTradePowerValue
							value = 1.2
						}
					}
					else = {
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.5
						}
					}
					change_variable = {
						which = tempNewTradePowerValue
						value = 0.25
					}
					change_variable = {
						which = tempNewTradePowerMult
						value = 0.15
					}
					set_variable = {
						which = tempChangeTradeVal
						which = tempNewTradePowerValue
					}
					set_variable = {
						which = tempChangeTradeMult
						which = tempNewTradePowerMult
					}
					subtract_variable = {
						which = tempChangeTradeVal
						which = tempPrevTradePowerValue
					}
					subtract_variable = {
						which = tempChangeTradeMult
						which = tempPrevTradePowerMult
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 17
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = marketplace
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 1
							}
							owner = {
								dip_tech = 5
							}
							AND = {
								NOT = {
									has_building = trade_depot
									has_building = customs_house
								}
							}
							NOT = {
								has_building = merchant_guild
							}
						}
					}
					set_variable = {
						which = tempPrevTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 4
							}
						}
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempPrevTradePowerValue
							value = 1.2
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.5
						}
					}
					change_variable = {
						which = tempPrevTradePowerValue
						value = 0.25
					}
					change_variable = {
						which = tempPrevTradePowerMult
						value = 0.15
					}
					set_variable = {
						which = tempNewTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 8
							}
						}
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempNewTradePowerValue
							value = 3.2
						}
					}
					else = {
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.6
						}
					}
					change_variable = {
						which = tempNewTradePowerValue
						value = 0.35
					}
					change_variable = {
						which = tempNewTradePowerMult
						value = 0.2
					}
					set_variable = {
						which = tempChangeTradeVal
						which = tempNewTradePowerValue
					}
					set_variable = {
						which = tempChangeTradeMult
						which = tempNewTradePowerMult
					}
					subtract_variable = {
						which = tempChangeTradeVal
						which = tempPrevTradePowerValue
					}
					subtract_variable = {
						which = tempChangeTradeMult
						which = tempPrevTradePowerMult
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.15
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 225
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 18
						}
						set_variable = {
							which = "building_cost"
							value = 225
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = merchant_guild
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 2
							}
							owner = {
								dip_tech = 13
							}
							AND = {
								NOT = {
									has_building = customs_house
								}
							}
							NOT = {
								has_building = trade_depot
							}
						}
					}
					set_variable = {
						which = tempPrevTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 8
							}
						}
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempPrevTradePowerValue
							value = 3.2
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.6
						}
					}
					change_variable = {
						which = tempPrevTradePowerValue
						value = 0.35
					}
					change_variable = {
						which = tempPrevTradePowerMult
						value = 0.2
					}
					set_variable = {
						which = tempNewTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 12
							}
						}
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempNewTradePowerValue
							value = 7.2
						}
					}
					else = {
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.8
						}
					}
					change_variable = {
						which = tempNewTradePowerValue
						value = 0.5
					}
					change_variable = {
						which = tempNewTradePowerMult
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeVal
						which = tempNewTradePowerValue
					}
					set_variable = {
						which = tempChangeTradeMult
						which = tempNewTradePowerMult
					}
					subtract_variable = {
						which = tempChangeTradeVal
						which = tempPrevTradePowerValue
					}
					subtract_variable = {
						which = tempChangeTradeMult
						which = tempPrevTradePowerMult
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 19
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = trade_depot
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 3
							}
							owner = {
								dip_tech = 22
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = customs_house
							}
						}
					}
					set_variable = {
						which = tempPrevTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 12
							}
						}
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempPrevTradePowerValue
							value = 7.2
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.8
						}
					}
					change_variable = {
						which = tempPrevTradePowerValue
						value = 0.5
					}
					change_variable = {
						which = tempPrevTradePowerMult
						value = 0.25
					}
					set_variable = {
						which = tempNewTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 16
							}
						}
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempNewTradePowerValue
							value = 12.8
						}
					}
					else = {
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 1
						}
					}
					change_variable = {
						which = tempNewTradePowerValue
						value = 0.75
					}
					change_variable = {
						which = tempNewTradePowerMult
						value = 0.3
					}
					set_variable = {
						which = tempChangeTradeVal
						which = tempNewTradePowerValue
					}
					set_variable = {
						which = tempChangeTradeMult
						which = tempNewTradePowerMult
					}
					subtract_variable = {
						which = tempChangeTradeVal
						which = tempPrevTradePowerValue
					}
					subtract_variable = {
						which = tempChangeTradeMult
						which = tempPrevTradePowerMult
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 20
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 4
							}
							AND = {
								OR = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								has_idea_group = trade_ideas
							}
							owner = {
								dip_tech = 23
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = bank
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.2
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 21
						}
						set_variable = {
							which = "building_cost"
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 8
							}
							has_building = bank
							AND = {
								OR = {
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								has_idea_group = trade_ideas
							}
							owner = {
								dip_tech = 42
							}
							AND = {
								owner = {
									has_country_modifier = india_trade_co
								}
							}
							NOT = {
								has_building = stock_exchange
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 1000
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 22
						}
						set_variable = {
							which = "building_cost"
							value = 1000
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							NOT = {
								has_building = steam_powered_factory
							}
							check_variable = {
								which = urban_pop
								value = 1
							}
							owner = {
								adm_tech = 4
							}
							AND = {
								NOT = {
									has_building = corporation_guild
									has_building = urban_manufactory
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = workshop
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdValue
						value = 0.05
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 4
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.05
						}
						change_variable = {
							which = tempNewProdValue
							value = 3.4
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 0.9
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.2
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 200
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 23
						}
						set_variable = {
							which = "building_cost"
							value = 200
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = workshop
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 5
							}
							owner = {
								adm_tech = 5
							}
							AND = {
								NOT = {
									has_building = urban_manufactory
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = corporation_guild
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 4
							}
						}
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.05
						}
						change_variable = {
							which = tempPrevProdValue
							value = 3.4
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.9
						}
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 8
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.1
						}
						change_variable = {
							which = tempNewProdValue
							value = 6.8
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 0.95
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 24
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = corporation_guild
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 9
							}
							owner = {
								adm_tech = 10
							}
							AND = {
								NOT = {
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = urban_manufactory
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 8
							}
						}
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.1
						}
						change_variable = {
							which = tempPrevProdValue
							value = 6.8
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.95
						}
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 16
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.2
						}
						change_variable = {
							which = tempNewProdValue
							value = 12.8
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 1
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.7
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 400
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 25
						}
						set_variable = {
							which = "building_cost"
							value = 400
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_manufactory
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 9
							}
							owner = {
								adm_tech = 33
							}
							AND = {
								NOT = {
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = factory
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 16
							}
						}
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.2
						}
						change_variable = {
							which = tempPrevProdValue
							value = 12.8
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevProdValue
							value = 1
						}
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 20
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.3
						}
						change_variable = {
							which = tempNewProdValue
							value = 19
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 1.25
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 26
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							OR = {
								has_building = factory
								has_building = warehouse
								has_building = warehouse_district
							}
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 47
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = steam_powered_factory
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 20
							}
						}
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.3
						}
						change_variable = {
							which = tempPrevProdValue
							value = 19
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevProdValue
							value = 1.25
						}
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 20
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.5
						}
						change_variable = {
							which = tempNewProdValue
							value = 20
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 1.5
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 800
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 27
						}
						set_variable = {
							which = "building_cost"
							value = 800
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = warehouse_district
								}
							}
							NOT = {
								has_building = warehouse
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.15
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.075
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 28
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = warehouse
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 4
							}
							owner = {
								dip_tech = 10
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = warehouse_district
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.15
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.075
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 29
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = medium_university
									has_building = big_university
								}
							}
							NOT = {
								has_building = small_university
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 200
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 30
						}
						set_variable = {
							which = "building_cost"
							value = 200
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = small_university
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							check_variable = {
								which = art_power
								value = 5
							}
							AND = {
								NOT = {
									has_building = big_university
								}
							}
							NOT = {
								has_building = medium_university
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 200
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 31
						}
						set_variable = {
							which = "building_cost"
							value = 200
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = medium_university
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							check_variable = {
								which = art_power
								value = 10
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = big_university
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.15
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 32
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								adm_tech = 5
							}
							AND = {
								NOT = {
									has_building = fine_arts_academy
									has_building = opera
								}
							}
							NOT = {
								has_building = art_corporation
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 33
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = art_corporation
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 19
								OR = {
									has_idea = patron_of_art
									has_idea = local_traditions
								}
							}
							AND = {
								NOT = {
									has_building = opera
								}
							}
							NOT = {
								has_building = fine_arts_academy
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 34
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fine_arts_academy
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 29
								OR = {
									has_idea = patron_of_art
									has_idea = local_traditions
								}
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = opera
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 35
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
			}
			if = {
				limit = {
					always = no
				}
				set_variable = {
					which = getBestBuildingCost
					value = 1
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_2
									has_building = rural_infrastructure_3
									has_building = rural_infrastructure_4
									has_building = rural_infrastructure_5
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_1
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 1
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.55
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 1.5
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 15
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 38
						}
						set_variable = {
							which = "building_cost"
							value = 1.5
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 15
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_3
									has_building = rural_infrastructure_4
									has_building = rural_infrastructure_5
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_2
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 1.55
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 1.55
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.283
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 2.5
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 25
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 39
						}
						set_variable = {
							which = "building_cost"
							value = 2.5
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 25
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_4
									has_building = rural_infrastructure_5
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_3
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 1.833
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 1.833
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.267
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 4.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 40
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 40
						}
						set_variable = {
							which = "building_cost"
							value = 4.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 40
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_5
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_4
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 2.1
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 2.1
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.15
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 6.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 60
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 41
						}
						set_variable = {
							which = "building_cost"
							value = 6.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 60
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_5
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 2.25
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 2.25
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.133
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 8.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 42
						}
						set_variable = {
							which = "building_cost"
							value = 8.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_6
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 2.383
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 2.383
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.067
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 12.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 43
						}
						set_variable = {
							which = "building_cost"
							value = 12.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								always = yes
							}
							NOT = {
								has_building = rural_infrastructure_7
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 2.45
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 2.45
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.083
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 16.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 160
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 44
						}
						set_variable = {
							which = "building_cost"
							value = 16.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 160
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							always = yes
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0.2
					}
					set_variable = {
						which = Prov
						which = Prov
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 45
						}
						set_variable = {
							which = building_cost
							value = 0.1
						}
						multiply_variable = {
							which = building_cost
							which = farm_efficiency_ducats_invested
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							owner = {
								adm_tech = 5
							}
							NOT = {
								has_province_modifier = canal_is_building
							}
							AND = {
								NOT = {
									has_building = canal_level_2
									has_building = canal_level_3
								}
							}
							NOT = {
								has_building = canal_level_1
							}
						}
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0.05
					}
					set_variable = {
						which = nothing0
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = farm_efficiency
					}
					multiply_variable = {
						which = tempPrev
						which = nothing1
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeFarmVal
					}
					set_variable = {
						which = tempNewMult
						which = nothing0
					}
					change_variable = {
						which = tempNewValue
						which = farm_efficiency
					}
					change_variable = {
						which = tempNewMult
						which = nothing1
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseFarm
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseFarm
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseFarm
						value = 1
					}
					divide_variable = {
						which = tempIncreaseFarm
						value = 1.25
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = farm_efficiency
							value = 0
						}
						set_variable = {
							which = nothing1
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeFarmVal
							value = 0
						}
						set_variable = {
							which = nothing0
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						which = tempIncomeFarm
					}
					multiply_variable = {
						which = tempIncreaseFarm
						which = tempIncomeFarm
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 3
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0.15
					}
					set_variable = {
						which = tempPrevInnateVal
						which = innate_rural_pop_base
					}
					change_variable = {
						which = tempPrevInnateVal
						value = 0
					}
					export_to_variable = {
						which = tempADM
						value = adm_tech
						who = owner
					}
					export_to_variable = {
						which = tempDIP
						value = dip_tech
						who = owner
					}
					set_variable = {
						which = tempPrevInnateMult
						which = tempADM
					}
					change_variable = {
						which = tempPrevInnateMult
						which = tempDIP
					}
					divide_variable = {
						which = tempPrevInnateMult
						value = 150
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 1
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = tempPrevInnateVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeInnateVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeInnateMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevInnateVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseInnate
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseInnate
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseInnate
						value = 1
					}
					divide_variable = {
						which = tempIncreaseInnate
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevInnateVal
							value = 0
						}
						set_variable = {
							which = tempPrevInnateMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeInnateVal
							value = 0
						}
						set_variable = {
							which = tempChangeInnateMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						which = tempIncomeRural
					}
					multiply_variable = {
						which = tempIncreaseInnate
						which = tempIncomeRural
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseFarm
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseInnate
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					set_variable = {
						which = building_cost
						which = innate_rural_pop_base
					}
					multiply_variable = {
						which = building_cost
						value = 0.1
					}
					multiply_variable = {
						which = building_cost
						value = 100
					}
					change_variable = {
						which = building_cost
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 0
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						value = 0
					}
					set_variable = {
						which = tempPrevInnateMult
						value = 0
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 0
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						value = 0
					}
					set_variable = {
						which = tempIncreaseFarm
						value = 0
					}
					set_variable = {
						which = tempIncreaseInnate
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 60
						}
						set_variable = {
							which = building_cost
							which = innate_rural_pop_base
						}
						multiply_variable = {
							which = building_cost
							value = 0.1
						}
						multiply_variable = {
							which = building_cost
							value = 100
						}
						change_variable = {
							which = building_cost
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = canal_level_1
							owner = {
								adm_tech = 16
							}
							NOT = {
								has_province_modifier = canal_is_building
							}
							AND = {
								NOT = {
									has_building = canal_level_3
								}
							}
							NOT = {
								has_building = canal_level_2
							}
						}
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0.1
					}
					set_variable = {
						which = nothing0
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = farm_efficiency
					}
					multiply_variable = {
						which = tempPrev
						which = nothing1
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeFarmVal
					}
					set_variable = {
						which = tempNewMult
						which = nothing0
					}
					change_variable = {
						which = tempNewValue
						which = farm_efficiency
					}
					change_variable = {
						which = tempNewMult
						which = nothing1
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseFarm
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseFarm
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseFarm
						value = 1
					}
					divide_variable = {
						which = tempIncreaseFarm
						value = 1.25
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = farm_efficiency
							value = 0
						}
						set_variable = {
							which = nothing1
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeFarmVal
							value = 0
						}
						set_variable = {
							which = nothing0
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						which = tempIncomeFarm
					}
					multiply_variable = {
						which = tempIncreaseFarm
						which = tempIncomeFarm
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 3
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0.1
					}
					set_variable = {
						which = tempPrevInnateVal
						which = innate_rural_pop_base
					}
					change_variable = {
						which = tempPrevInnateVal
						value = 3
					}
					export_to_variable = {
						which = tempADM
						value = adm_tech
						who = owner
					}
					export_to_variable = {
						which = tempDIP
						value = dip_tech
						who = owner
					}
					set_variable = {
						which = tempPrevInnateMult
						which = tempADM
					}
					change_variable = {
						which = tempPrevInnateMult
						which = tempDIP
					}
					divide_variable = {
						which = tempPrevInnateMult
						value = 150
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 1
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 0.15
					}
					set_variable = {
						which = tempPrev
						which = tempPrevInnateVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeInnateVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeInnateMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevInnateVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseInnate
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseInnate
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseInnate
						value = 1
					}
					divide_variable = {
						which = tempIncreaseInnate
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevInnateVal
							value = 0
						}
						set_variable = {
							which = tempPrevInnateMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeInnateVal
							value = 0
						}
						set_variable = {
							which = tempChangeInnateMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						which = tempIncomeRural
					}
					multiply_variable = {
						which = tempIncreaseInnate
						which = tempIncomeRural
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseFarm
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseInnate
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					set_variable = {
						which = building_cost
						which = innate_rural_pop_base
					}
					multiply_variable = {
						which = building_cost
						value = 0.1
					}
					multiply_variable = {
						which = building_cost
						value = 150
					}
					change_variable = {
						which = building_cost
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 0
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						value = 0
					}
					set_variable = {
						which = tempPrevInnateMult
						value = 0
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 0
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						value = 0
					}
					set_variable = {
						which = tempIncreaseFarm
						value = 0
					}
					set_variable = {
						which = tempIncreaseInnate
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 61
						}
						set_variable = {
							which = building_cost
							which = innate_rural_pop_base
						}
						multiply_variable = {
							which = building_cost
							value = 0.1
						}
						multiply_variable = {
							which = building_cost
							value = 150
						}
						change_variable = {
							which = building_cost
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = canal_level_2
							owner = {
								adm_tech = 40
							}
							NOT = {
								has_province_modifier = canal_is_building
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = canal_level_3
							}
						}
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0.1
					}
					set_variable = {
						which = nothing0
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = farm_efficiency
					}
					multiply_variable = {
						which = tempPrev
						which = nothing1
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeFarmVal
					}
					set_variable = {
						which = tempNewMult
						which = nothing0
					}
					change_variable = {
						which = tempNewValue
						which = farm_efficiency
					}
					change_variable = {
						which = tempNewMult
						which = nothing1
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseFarm
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseFarm
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseFarm
						value = 1
					}
					divide_variable = {
						which = tempIncreaseFarm
						value = 1.25
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = farm_efficiency
							value = 0
						}
						set_variable = {
							which = nothing1
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeFarmVal
							value = 0
						}
						set_variable = {
							which = nothing0
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						which = tempIncomeFarm
					}
					multiply_variable = {
						which = tempIncreaseFarm
						which = tempIncomeFarm
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 2
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0.1
					}
					set_variable = {
						which = tempPrevInnateVal
						which = innate_rural_pop_base
					}
					change_variable = {
						which = tempPrevInnateVal
						value = 6
					}
					export_to_variable = {
						which = tempADM
						value = adm_tech
						who = owner
					}
					export_to_variable = {
						which = tempDIP
						value = dip_tech
						who = owner
					}
					set_variable = {
						which = tempPrevInnateMult
						which = tempADM
					}
					change_variable = {
						which = tempPrevInnateMult
						which = tempDIP
					}
					divide_variable = {
						which = tempPrevInnateMult
						value = 150
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 1
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = tempPrevInnateVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeInnateVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeInnateMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevInnateVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseInnate
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseInnate
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseInnate
						value = 1
					}
					divide_variable = {
						which = tempIncreaseInnate
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevInnateVal
							value = 0
						}
						set_variable = {
							which = tempPrevInnateMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeInnateVal
							value = 0
						}
						set_variable = {
							which = tempChangeInnateMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						which = tempIncomeRural
					}
					multiply_variable = {
						which = tempIncreaseInnate
						which = tempIncomeRural
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseFarm
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseInnate
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					set_variable = {
						which = building_cost
						which = innate_rural_pop_base
					}
					multiply_variable = {
						which = building_cost
						value = 0.1
					}
					multiply_variable = {
						which = building_cost
						value = 200
					}
					change_variable = {
						which = building_cost
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 0
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						value = 0
					}
					set_variable = {
						which = tempPrevInnateMult
						value = 0
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 0
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						value = 0
					}
					set_variable = {
						which = tempIncreaseFarm
						value = 0
					}
					set_variable = {
						which = tempIncreaseInnate
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 62
						}
						set_variable = {
							which = building_cost
							which = innate_rural_pop_base
						}
						multiply_variable = {
							which = building_cost
							value = 0.1
						}
						multiply_variable = {
							which = building_cost
							value = 200
						}
						change_variable = {
							which = building_cost
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
			}
			if = {
				limit = {
					always = no
				}
				set_variable = {
					which = getBestBuildingCost
					value = 1
				}
				if = {
					limit = {
						AND = {
							owner = {
								mil_tech = 3
							}
							AND = {
								NOT = {
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
							NOT = {
								has_building = fort_14th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -10
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.1
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 46
						}
						set_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fort_14th
							owner = {
								mil_tech = 15
							}
							AND = {
								NOT = {
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
							NOT = {
								has_building = fort_15th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.05
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 47
						}
						set_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fort_15th
							owner = {
								mil_tech = 26
							}
							AND = {
								NOT = {
									has_building = fort_17th
									has_building = fort_18th
								}
							}
							NOT = {
								has_building = fort_16th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.05
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 180
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 48
						}
						set_variable = {
							which = "building_cost"
							value = 180
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fort_16th
							owner = {
								mil_tech = 35
							}
							AND = {
								NOT = {
									has_building = fort_18th
								}
							}
							NOT = {
								has_building = fort_17th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.05
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 260
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 49
						}
						set_variable = {
							which = "building_cost"
							value = 260
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fort_17th
							owner = {
								mil_tech = 41
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = fort_18th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.05
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 360
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 50
						}
						set_variable = {
							which = "building_cost"
							value = 360
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = paved_road_network
									has_building = highway_network
									has_building = road_and_rail_network
								}
							}
							NOT = {
								has_building = road_network
							}
							NOT = {
								has_province_modifier = road_is_building
							}
						}
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.05
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.2
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightRoad
					}
					set_variable = {
						which = "building_cost"
						value = 80
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					change_variable = {
						which = road_price_multiplier
						which = urban_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 2
					}
					change_variable = {
						which = road_price_multiplier
						which = rural_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 0.01
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						which = prov_radius
					}
					divide_variable = {
						which = road_province_size_multiplier
						value = 2.5
					}
					set_variable = {
						which = road_price_total_mult
						value = 1
					}
					change_variable = {
						which = road_price_total_mult
						which = road_price_multiplier
					}
					change_variable = {
						which = road_price_total_mult
						which = road_terrain_cost
					}
					change_variable = {
						which = road_price_total_mult
						which = road_province_size_multiplier
					}
					multiply_variable = {
						which = building_cost
						which = road_price_total_mult
					}
					multiply_variable = {
						which = building_cost
						value = 0.001
					}
					multiply_variable = {
						which = building_cost
						value = 1000
					}
					set_variable = {
						which = road_price_total_mult
						value = 0
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 51
						}
						set_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						change_variable = {
							which = road_price_multiplier
							which = urban_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 2
						}
						change_variable = {
							which = road_price_multiplier
							which = rural_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 0.01
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							which = prov_radius
						}
						divide_variable = {
							which = road_province_size_multiplier
							value = 2.5
						}
						set_variable = {
							which = road_price_total_mult
							value = 1
						}
						change_variable = {
							which = road_price_total_mult
							which = road_price_multiplier
						}
						change_variable = {
							which = road_price_total_mult
							which = road_terrain_cost
						}
						change_variable = {
							which = road_price_total_mult
							which = road_province_size_multiplier
						}
						multiply_variable = {
							which = building_cost
							which = road_price_total_mult
						}
						multiply_variable = {
							which = building_cost
							value = 0.001
						}
						multiply_variable = {
							which = building_cost
							value = 1000
						}
						set_variable = {
							which = road_price_total_mult
							value = 0
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = road_network
							owner = {
								dip_tech = 13
							}
							AND = {
								NOT = {
									has_building = highway_network
									has_building = road_and_rail_network
								}
							}
							NOT = {
								has_building = paved_road_network
							}
							NOT = {
								has_province_modifier = road_is_building
							}
						}
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.05
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightRoad
					}
					set_variable = {
						which = "building_cost"
						value = 120
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					change_variable = {
						which = road_price_multiplier
						which = urban_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 2
					}
					change_variable = {
						which = road_price_multiplier
						which = rural_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 0.01
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						which = prov_radius
					}
					divide_variable = {
						which = road_province_size_multiplier
						value = 2.5
					}
					set_variable = {
						which = road_price_total_mult
						value = 1
					}
					change_variable = {
						which = road_price_total_mult
						which = road_price_multiplier
					}
					change_variable = {
						which = road_price_total_mult
						which = road_terrain_cost
					}
					change_variable = {
						which = road_price_total_mult
						which = road_province_size_multiplier
					}
					multiply_variable = {
						which = building_cost
						which = road_price_total_mult
					}
					multiply_variable = {
						which = building_cost
						value = 0.001
					}
					multiply_variable = {
						which = building_cost
						value = 1000
					}
					set_variable = {
						which = road_price_total_mult
						value = 0
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 52
						}
						set_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						change_variable = {
							which = road_price_multiplier
							which = urban_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 2
						}
						change_variable = {
							which = road_price_multiplier
							which = rural_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 0.01
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							which = prov_radius
						}
						divide_variable = {
							which = road_province_size_multiplier
							value = 2.5
						}
						set_variable = {
							which = road_price_total_mult
							value = 1
						}
						change_variable = {
							which = road_price_total_mult
							which = road_price_multiplier
						}
						change_variable = {
							which = road_price_total_mult
							which = road_terrain_cost
						}
						change_variable = {
							which = road_price_total_mult
							which = road_province_size_multiplier
						}
						multiply_variable = {
							which = building_cost
							which = road_price_total_mult
						}
						multiply_variable = {
							which = building_cost
							value = 0.001
						}
						multiply_variable = {
							which = building_cost
							value = 1000
						}
						set_variable = {
							which = road_price_total_mult
							value = 0
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = paved_road_network
							owner = {
								dip_tech = 33
							}
							AND = {
								NOT = {
									has_building = road_and_rail_network
								}
							}
							NOT = {
								has_building = highway_network
							}
							NOT = {
								has_province_modifier = road_is_building
							}
						}
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.05
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.15
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightRoad
					}
					set_variable = {
						which = "building_cost"
						value = 180
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					change_variable = {
						which = road_price_multiplier
						which = urban_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 2
					}
					change_variable = {
						which = road_price_multiplier
						which = rural_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 0.01
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						which = prov_radius
					}
					divide_variable = {
						which = road_province_size_multiplier
						value = 2.5
					}
					set_variable = {
						which = road_price_total_mult
						value = 1
					}
					change_variable = {
						which = road_price_total_mult
						which = road_price_multiplier
					}
					change_variable = {
						which = road_price_total_mult
						which = road_terrain_cost
					}
					change_variable = {
						which = road_price_total_mult
						which = road_province_size_multiplier
					}
					multiply_variable = {
						which = building_cost
						which = road_price_total_mult
					}
					multiply_variable = {
						which = building_cost
						value = 0.001
					}
					multiply_variable = {
						which = building_cost
						value = 1000
					}
					set_variable = {
						which = road_price_total_mult
						value = 0
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 53
						}
						set_variable = {
							which = "building_cost"
							value = 180
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						change_variable = {
							which = road_price_multiplier
							which = urban_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 2
						}
						change_variable = {
							which = road_price_multiplier
							which = rural_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 0.01
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							which = prov_radius
						}
						divide_variable = {
							which = road_province_size_multiplier
							value = 2.5
						}
						set_variable = {
							which = road_price_total_mult
							value = 1
						}
						change_variable = {
							which = road_price_total_mult
							which = road_price_multiplier
						}
						change_variable = {
							which = road_price_total_mult
							which = road_terrain_cost
						}
						change_variable = {
							which = road_price_total_mult
							which = road_province_size_multiplier
						}
						multiply_variable = {
							which = building_cost
							which = road_price_total_mult
						}
						multiply_variable = {
							which = building_cost
							value = 0.001
						}
						multiply_variable = {
							which = building_cost
							value = 1000
						}
						set_variable = {
							which = road_price_total_mult
							value = 0
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = highway_network
							owner = {
								dip_tech = 50
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = road_and_rail_network
							}
							NOT = {
								has_province_modifier = road_is_building
							}
						}
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.25
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.15
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightRoad
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					change_variable = {
						which = road_price_multiplier
						which = urban_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 2
					}
					change_variable = {
						which = road_price_multiplier
						which = rural_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 0.01
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						which = prov_radius
					}
					divide_variable = {
						which = road_province_size_multiplier
						value = 2.5
					}
					set_variable = {
						which = road_price_total_mult
						value = 1
					}
					change_variable = {
						which = road_price_total_mult
						which = road_price_multiplier
					}
					change_variable = {
						which = road_price_total_mult
						which = road_terrain_cost
					}
					change_variable = {
						which = road_price_total_mult
						which = road_province_size_multiplier
					}
					multiply_variable = {
						which = building_cost
						which = road_price_total_mult
					}
					multiply_variable = {
						which = building_cost
						value = 0.001
					}
					multiply_variable = {
						which = building_cost
						value = 1000
					}
					set_variable = {
						which = road_price_total_mult
						value = 0
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 54
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						change_variable = {
							which = road_price_multiplier
							which = urban_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 2
						}
						change_variable = {
							which = road_price_multiplier
							which = rural_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 0.01
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							which = prov_radius
						}
						divide_variable = {
							which = road_province_size_multiplier
							value = 2.5
						}
						set_variable = {
							which = road_price_total_mult
							value = 1
						}
						change_variable = {
							which = road_price_total_mult
							which = road_price_multiplier
						}
						change_variable = {
							which = road_price_total_mult
							which = road_terrain_cost
						}
						change_variable = {
							which = road_price_total_mult
							which = road_province_size_multiplier
						}
						multiply_variable = {
							which = building_cost
							which = road_price_total_mult
						}
						multiply_variable = {
							which = building_cost
							value = 0.001
						}
						multiply_variable = {
							which = building_cost
							value = 1000
						}
						set_variable = {
							which = road_price_total_mult
							value = 0
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 2
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = bureaucracy_2
									has_building = bureaucracy_3
									has_building = bureaucracy_4
									has_building = bureaucracy_5
								}
							}
							NOT = {
								has_building = bureaucracy_1
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 1500
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 55
						}
						set_variable = {
							which = "building_cost"
							value = 1500
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 4
							}
							has_building = bureaucracy_1
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = bureaucracy_3
									has_building = bureaucracy_4
									has_building = bureaucracy_5
								}
							}
							NOT = {
								has_building = bureaucracy_2
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 2500
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 56
						}
						set_variable = {
							which = "building_cost"
							value = 2500
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 6
							}
							has_building = bureaucracy_2
							owner = {
								adm_tech = 14
							}
							AND = {
								NOT = {
									has_building = bureaucracy_4
									has_building = bureaucracy_5
								}
							}
							NOT = {
								has_building = bureaucracy_3
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.15
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 4000
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 57
						}
						set_variable = {
							which = "building_cost"
							value = 4000
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 8
							}
							has_building = bureaucracy_3
							owner = {
								adm_tech = 14
							}
							AND = {
								NOT = {
									has_building = bureaucracy_5
								}
							}
							NOT = {
								has_building = bureaucracy_4
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 7000
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 58
						}
						set_variable = {
							which = "building_cost"
							value = 7000
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 10
							}
							has_building = bureaucracy_4
							owner = {
								adm_tech = 23
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = bureaucracy_5
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 15000
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 59
						}
						set_variable = {
							which = "building_cost"
							value = 15000
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				export_to_variable = {
					which = getBestBuildingCost
					value = modifier:local_build_cost
				}
				export_to_variable = {
					which = getBestBuildingCostOwner
					value = modifier:build_cost
					who = owner
				}
				change_variable = {
					which = getBestBuildingCost
					value = 1
				}
				change_variable = {
					which = getBestBuildingCost
					which = getBestBuildingCostOwner
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_province_flag = infra_calc_done
								has_port = yes
								owner = {
									dip_tech = 1
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_2
										has_building = harbour_infrastructure_3x
										has_building = harbour_infrastructure_4
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_1
								}
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_flag = has_great_natural_harbour
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = harbour_infrastructure_2
									has_province_flag = large_port_present
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 63
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_building = harbour_infrastructure_1
								has_province_flag = infra_calc_done
								NOT = {
									has_province_modifier = lack_of_harbour
								}
								owner = {
									dip_tech = 4
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_3x
										has_building = harbour_infrastructure_4
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_2
								}
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_flag = has_great_natural_harbour
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = harbour_infrastructure_2
									has_province_flag = large_port_present
								}
							}
						}
						set_variable = {
							which = aiWeightPort
							value = 0
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.15
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.2
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 225
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 64
						}
						set_variable = {
							which = "building_cost"
							value = 225
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_building = harbour_infrastructure_2
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = town_hall
										has_building = urban_infrastructure_1
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_province_modifier = lack_of_harbour
								}
								NOT = {
									has_province_flag = has_delta_estuary
								}
								owner = {
									dip_tech = 6
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_4
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_3x
								}
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 65
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_building = harbour_infrastructure_3x
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = urban_infrastructure_1
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_province_modifier = lack_of_harbour
								}
								NOT = {
									has_province_flag = has_delta_estuary
								}
								owner = {
									dip_tech = 22
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_4
								}
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 66
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_building = harbour_infrastructure_4
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_building = military_harbour_4
								}
								has_province_flag = has_natural_harbour
								owner = {
									dip_tech = 40
								}
								AND = {
									NOT = {
										has_building = military_harbour_4
									}
								}
								NOT = {
									has_building = harbour_infrastructure_5
								}
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 67
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								OR = {
									has_building = harbour_infrastructure_1
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							has_province_flag = infra_calc_done
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							owner = {
								dip_tech = 3
							}
							AND = {
								NOT = {
									has_building = military_harbour_2
									has_building = military_harbour_3
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = military_harbour_1
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.025
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightShipyard
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 68
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								OR = {
									has_building = harbour_infrastructure_1
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							has_building = military_harbour_1
							has_province_flag = infra_calc_done
							has_province_flag = has_natural_harbour
							owner = {
								dip_tech = 6
							}
							AND = {
								NOT = {
									has_building = military_harbour_3
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = military_harbour_2
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.025
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightShipyard
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 69
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								OR = {
									has_building = harbour_infrastructure_1
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							has_building = military_harbour_2
							has_province_flag = infra_calc_done
							has_province_flag = has_natural_harbour
							owner = {
								dip_tech = 19
							}
							AND = {
								NOT = {
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = military_harbour_3
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.025
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightShipyard
					}
					set_variable = {
						which = "building_cost"
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 70
						}
						set_variable = {
							which = "building_cost"
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								OR = {
									has_building = harbour_infrastructure_1
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							has_building = military_harbour_3
							has_province_flag = infra_calc_done
							NOT = {
								has_building = harbour_infrastructure_5
							}
							has_province_flag = has_great_natural_harbour
							owner = {
								dip_tech = 40
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = military_harbour_4
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.025
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightShipyard
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 71
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
			}
			set_variable = {
				which = provAIBuildInd
				which = getBestBuildingBuildInd
			}
			set_variable = {
				which = provAIBuildPrice
				which = getBestBuildingBuildPrice
			}
			set_variable = {
				which = provAIBuildWeight
				which = getBestBuildingWeight
			}
			set_variable = {
				which = getBestBuildingWeight
				value = 0
			}
			set_variable = {
				which = getBestBuildingBuildInd
				value = 0
			}
			set_variable = {
				which = getBestBuildingBuildPrice
				value = 0
			}
			set_variable = {
				which = getBestBuildingFood
				value = 0
			}
			set_variable = {
				which = getBestBuildingCost
				value = 0
			}
			set_variable = {
				which = getBestBuildingCostOwner
				value = 0
			}
			set_variable = {
				which = getBestBuildingBudget
				value = 0
			}
		}
		if = {
			limit = {
				check_variable = {
					which = provAIBuildInd
					value = 1
				}
				check_variable = {
					which = wealth_urban_fluid
					which = provAIBuildPrice
				}
			}
			subtract_variable = {
				which = wealth_urban_fluid
				which = provAIBuildPrice
			}
			add_province_modifier = {
				name = "province_built_building"
				duration = 800
			}
			if = {
				limit = {
					NOT = {
						is_variable_equal = {
							which = provAIBuildInd
							value = 0
						}
					}
				}
				if = {
					limit = {
						owner = {
							ai = no
						}
					}
					add_province_modifier = {
						name = something_built
						duration = 1
					}
				}
				if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 68
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = ai_built_shipyard
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = ai_built_shipyard
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 63
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = built_harbour
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = built_harbour
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 60
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = built_canal
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = built_canal
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 55
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = ai_built_bureau
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = ai_built_bureau
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 51
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = road_built_recently
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = road_built_recently
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 46
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = built_fort
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = built_fort
							duration = 1825
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 36
						}
					}
					if = {
						limit = {
							check_variable = {
								which = provAIBuildInd
								value = 54
							}
						}
						if = {
							limit = {
								check_variable = {
									which = provAIBuildInd
									value = 63
								}
							}
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 67
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 69
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 70
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 71
												}
											}
											add_building = military_harbour_4
										}
										else = {
											add_building = military_harbour_3
										}
									}
									else = {
										add_building = military_harbour_2
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 68
											}
										}
										add_building = military_harbour_1
									}
									else = {
										add_building = harbour_infrastructure_5
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 65
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 66
											}
										}
										add_building = harbour_infrastructure_4
									}
									else = {
										add_building = harbour_infrastructure_3x
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 64
											}
										}
										add_building = harbour_infrastructure_2
									}
									else = {
										add_building = harbour_infrastructure_1
									}
								}
							}
						}
						else = {
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 58
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 60
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 61
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 62
												}
											}
											province_event = {
												id = POP_dev_button_interactions.408
											}
										}
										else = {
											province_event = {
												id = POP_dev_button_interactions.408
											}
										}
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.408
										}
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 59
											}
										}
										add_building = bureaucracy_5
										remove_building = bureaucracy_4
									}
									else = {
										add_building = bureaucracy_4
										remove_building = bureaucracy_3
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 56
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 57
											}
										}
										add_building = bureaucracy_3
										remove_building = bureaucracy_2
									}
									else = {
										add_building = bureaucracy_2
										remove_building = bureaucracy_1
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 55
											}
										}
										add_building = bureaucracy_1
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.006
										}
									}
								}
							}
						}
					}
					else = {
						if = {
							limit = {
								check_variable = {
									which = provAIBuildInd
									value = 45
								}
							}
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 49
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 51
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 52
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 53
												}
											}
											province_event = {
												id = POP_dev_button_interactions.006
											}
										}
										else = {
											province_event = {
												id = POP_dev_button_interactions.006
											}
										}
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.006
										}
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 50
											}
										}
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 47
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 48
											}
										}
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 46
											}
										}
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
									else = {
										multiply_variable = {
											which = farm_efficiency_ducats_invested
											value = 1.1
										}
									}
								}
							}
						}
						else = {
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 40
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 42
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 43
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 44
												}
											}
											add_building = rural_infrastructure_7
										}
										else = {
											add_building = rural_infrastructure_6
										}
									}
									else = {
										add_building = rural_infrastructure_5
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 41
											}
										}
										add_building = rural_infrastructure_4
									}
									else = {
										add_building = rural_infrastructure_3
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 38
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 39
											}
										}
										add_building = rural_infrastructure_2
									}
									else = {
										add_building = rural_infrastructure_1
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 37
											}
										}
										add_building = great_temple
									}
									else = {
										add_building = temple
									}
								}
							}
						}
					}
				}
				else = {
					if = {
						limit = {
							check_variable = {
								which = provAIBuildInd
								value = 18
							}
						}
						if = {
							limit = {
								check_variable = {
									which = provAIBuildInd
									value = 27
								}
							}
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 31
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 33
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 34
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 35
												}
											}
											add_building = opera
										}
										else = {
											add_building = fine_arts_academy
										}
									}
									else = {
										add_building = art_corporation
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 32
											}
										}
										add_building = big_university
									}
									else = {
										add_building = medium_university
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 29
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 30
											}
										}
										add_building = small_university
									}
									else = {
										add_building = warehouse_district
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 28
											}
										}
										add_building = warehouse
									}
									else = {
										add_building = steam_powered_factory
									}
								}
							}
						}
						else = {
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 22
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 24
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 25
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 26
												}
											}
											add_building = factory
										}
										else = {
											add_building = urban_manufactory
										}
									}
									else = {
										add_building = corporation_guild
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 23
											}
										}
										add_building = workshop
									}
									else = {
										add_building = stock_exchange
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 20
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 21
											}
										}
										add_building = bank
									}
									else = {
										add_building = customs_house
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 19
											}
										}
										add_building = trade_depot
									}
									else = {
										add_building = merchant_guild
									}
								}
							}
						}
					}
					else = {
						if = {
							limit = {
								check_variable = {
									which = provAIBuildInd
									value = 9
								}
							}
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 13
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 15
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 16
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 17
												}
											}
											add_building = marketplace
										}
										else = {
											add_building = harbour_infrastructure_5
										}
									}
									else = {
										add_building = harbour_infrastructure_4
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 14
											}
										}
										add_building = harbour_infrastructure_3x
									}
									else = {
										add_building = harbour_infrastructure_2
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 11
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 12
											}
										}
										add_building = harbour_infrastructure_1
									}
									else = {
										add_building = urban_infrastructure_5
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 10
											}
										}
										add_building = urban_infrastructure_4
									}
									else = {
										add_building = urban_infrastructure_3
									}
								}
							}
						}
						else = {
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 5
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 7
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 8
											}
										}
										add_building = urban_infrastructure_2
									}
									else = {
										add_building = urban_infrastructure_1
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 6
											}
										}
										add_building = town_hall
									}
									else = {
										add_building = mines_5
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 3
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 4
											}
										}
										add_building = mines_4
									}
									else = {
										add_building = mines_3
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 2
											}
										}
										add_building = mines_2
									}
									else = {
										add_building = mines_1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						owner = {
							ai = no
							has_country_flag = build_info_events
						}
					}
					if = {
						limit = {
							is_variable_equal = {
								which = provAIBuildInd
								which = estateBuildInd
							}
						}
						set_variable = {
							which = prov_built
							which = estateBuildInd
						}
						set_variable = {
							which = prov_built_cost
							which = estateBuildPrice
						}
						set_variable = {
							which = prov_built_event
							value = 2
						}
						province_event = {
							id = MT_general_fixes.102
						}
					}
					else_if = {
						limit = {
							is_variable_equal = {
								which = provAIBuildInd
								which = provAIBuildInd
							}
						}
						set_variable = {
							which = prov_built
							which = provAIBuildInd
						}
						set_variable = {
							which = prov_built_cost
							which = provAIBuildPrice
						}
						set_variable = {
							which = prov_built_event
							value = 1
						}
						province_event = {
							id = MT_general_fixes.101
						}
					}
					else_if = {
						limit = {
							is_variable_equal = {
								which = provAIBuildInd
								which = aiDoSpendingInd
							}
						}
						set_variable = {
							which = prov_built
							which = aiDoSpendingInd
						}
						set_variable = {
							which = prov_built_cost
							which = aiDoSpendingPrice
						}
						set_variable = {
							which = prov_built_event
							value = 4
						}
						province_event = {
							id = MT_general_fixes.104
						}
					}
				}
			}
		}
		set_variable = {
			which = provAIBuildWeight
			value = 0
		}
		set_variable = {
			which = provAIBuildInd
			value = 0
		}
		set_variable = {
			which = provAIBuildPrice
			value = 0
		}
	}
	option = {
		name = "POP_province_AI.101.a"
		ai_chance = {
			factor = 100
		}
	}
}
province_event = {
	id = POP_province_AI.102
	title = "POP_province_AI.102.t"
	desc = "POP_province_AI.102.d"
	picture = CITY_DEVELOPMENT_AU_eventPicture
	is_triggered_only = yes
	hidden = yes
	trigger = {
		AND = {
			is_city = yes
			OR = {
				AND = {
					AND = {
						NOT = {
							has_building = rural_infrastructure_2
							has_building = rural_infrastructure_3
							has_building = rural_infrastructure_4
							has_building = rural_infrastructure_5
							has_building = rural_infrastructure_6
							has_building = rural_infrastructure_7
						}
					}
					NOT = {
						has_building = rural_infrastructure_1
					}
				}
				AND = {
					AND = {
						NOT = {
							has_building = rural_infrastructure_3
							has_building = rural_infrastructure_4
							has_building = rural_infrastructure_5
							has_building = rural_infrastructure_6
							has_building = rural_infrastructure_7
						}
					}
					NOT = {
						has_building = rural_infrastructure_2
					}
				}
				AND = {
					AND = {
						NOT = {
							has_building = rural_infrastructure_4
							has_building = rural_infrastructure_5
							has_building = rural_infrastructure_6
							has_building = rural_infrastructure_7
						}
					}
					NOT = {
						has_building = rural_infrastructure_3
					}
				}
				AND = {
					AND = {
						NOT = {
							has_building = rural_infrastructure_5
							has_building = rural_infrastructure_6
							has_building = rural_infrastructure_7
						}
					}
					NOT = {
						has_building = rural_infrastructure_4
					}
				}
				AND = {
					AND = {
						NOT = {
							has_building = rural_infrastructure_6
							has_building = rural_infrastructure_7
						}
					}
					NOT = {
						has_building = rural_infrastructure_5
					}
				}
				AND = {
					AND = {
						NOT = {
							has_building = rural_infrastructure_7
						}
					}
					NOT = {
						has_building = rural_infrastructure_6
					}
				}
				AND = {
					AND = {
						always = yes
					}
					NOT = {
						has_building = rural_infrastructure_7
					}
				}
				OR = {
					AND = {
						has_province_flag = mined_goods
						has_province_flag = infra_calc_done
						AND = {
							NOT = {
								has_building = mines_2
								has_building = mines_3
								has_building = mines_4
								has_building = mines_5
							}
						}
						NOT = {
							has_building = mines_1
						}
					}
					AND = {
						has_building = mines_1
						has_province_flag = infra_calc_done
						AND = {
							NOT = {
								has_building = mines_3
								has_building = mines_4
								has_building = mines_5
							}
						}
						owner = {
							adm_tech = 6
						}
						NOT = {
							has_building = mines_2
						}
					}
					AND = {
						has_building = mines_2
						has_province_flag = infra_calc_done
						AND = {
							NOT = {
								has_building = mines_4
								has_building = mines_5
							}
						}
						owner = {
							adm_tech = 11
						}
						NOT = {
							has_building = mines_3
						}
					}
					AND = {
						has_building = mines_3
						has_province_flag = infra_calc_done
						AND = {
							NOT = {
								has_building = mines_5
							}
						}
						owner = {
							adm_tech = 22
						}
						NOT = {
							has_building = mines_4
						}
					}
					AND = {
						has_building = mines_4
						has_province_flag = infra_calc_done
						AND = {
							always = yes
						}
						owner = {
							adm_tech = 37
						}
						NOT = {
							has_building = mines_5
						}
					}
				}
			}
		}
	}
	immediate = {
		if = {
			limit = {
				AND = {
					is_city = yes
					has_province_flag = infra_calc_done
					OR = {
						AND = {
							has_province_flag = mined_goods
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_2
									has_building = mines_3
									has_building = mines_4
									has_building = mines_5
								}
							}
							NOT = {
								has_building = mines_1
							}
						}
						AND = {
							has_building = mines_1
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_3
									has_building = mines_4
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 6
							}
							NOT = {
								has_building = mines_2
							}
						}
						AND = {
							has_building = mines_2
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_4
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 11
							}
							NOT = {
								has_building = mines_3
							}
						}
						AND = {
							has_building = mines_3
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 22
							}
							NOT = {
								has_building = mines_4
							}
						}
						AND = {
							has_building = mines_4
							has_province_flag = infra_calc_done
							AND = {
								always = yes
							}
							owner = {
								adm_tech = 37
							}
							NOT = {
								has_building = mines_5
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = town_hall
							}
						}
						AND = {
							has_building = town_hall
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 0.5
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_1
							}
						}
						AND = {
							has_building = urban_infrastructure_1
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 1.5
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_2
							}
						}
						AND = {
							has_building = urban_infrastructure_2
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 3
							}
							owner = {
								adm_tech = 7
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_3
							}
						}
						AND = {
							has_building = urban_infrastructure_3
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 5
							}
							owner = {
								adm_tech = 18
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_4
							}
						}
						AND = {
							has_building = urban_infrastructure_4
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 8
							}
							owner = {
								adm_tech = 27
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = urban_infrastructure_5
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							has_port = yes
							owner = {
								dip_tech = 1
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_1
							}
						}
						AND = {
							has_building = harbour_infrastructure_1
							has_province_flag = infra_calc_done
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_2
							}
						}
						AND = {
							has_building = harbour_infrastructure_2
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = town_hall
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							NOT = {
								has_province_flag = has_delta_estuary
							}
							owner = {
								dip_tech = 6
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_3x
							}
						}
						AND = {
							has_building = harbour_infrastructure_3x
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							NOT = {
								has_province_flag = has_delta_estuary
							}
							owner = {
								dip_tech = 22
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_4
							}
						}
						AND = {
							has_building = harbour_infrastructure_4
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = military_harbour_4
							}
							has_province_flag = has_natural_harbour
							owner = {
								dip_tech = 40
							}
							AND = {
								NOT = {
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = harbour_infrastructure_5
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = merchant_guild
									has_building = trade_depot
									has_building = customs_house
								}
							}
							NOT = {
								has_building = marketplace
							}
						}
						AND = {
							has_building = marketplace
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 1
							}
							owner = {
								dip_tech = 5
							}
							AND = {
								NOT = {
									has_building = trade_depot
									has_building = customs_house
								}
							}
							NOT = {
								has_building = merchant_guild
							}
						}
						AND = {
							has_building = merchant_guild
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 2
							}
							owner = {
								dip_tech = 13
							}
							AND = {
								NOT = {
									has_building = customs_house
								}
							}
							NOT = {
								has_building = trade_depot
							}
						}
						AND = {
							has_building = trade_depot
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 3
							}
							owner = {
								dip_tech = 22
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = customs_house
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 4
							}
							AND = {
								OR = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								has_idea_group = trade_ideas
							}
							owner = {
								dip_tech = 23
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = bank
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 8
							}
							has_building = bank
							AND = {
								OR = {
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								has_idea_group = trade_ideas
							}
							owner = {
								dip_tech = 42
							}
							AND = {
								owner = {
									has_country_modifier = india_trade_co
								}
							}
							NOT = {
								has_building = stock_exchange
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							NOT = {
								has_building = steam_powered_factory
							}
							check_variable = {
								which = urban_pop
								value = 1
							}
							owner = {
								adm_tech = 4
							}
							AND = {
								NOT = {
									has_building = corporation_guild
									has_building = urban_manufactory
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = workshop
							}
						}
						AND = {
							has_building = workshop
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 5
							}
							owner = {
								adm_tech = 5
							}
							AND = {
								NOT = {
									has_building = urban_manufactory
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = corporation_guild
							}
						}
						AND = {
							has_building = corporation_guild
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 9
							}
							owner = {
								adm_tech = 10
							}
							AND = {
								NOT = {
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = urban_manufactory
							}
						}
						AND = {
							has_building = urban_manufactory
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 9
							}
							owner = {
								adm_tech = 33
							}
							AND = {
								NOT = {
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = factory
							}
						}
						AND = {
							OR = {
								has_building = factory
								has_building = warehouse
								has_building = warehouse_district
							}
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 47
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = steam_powered_factory
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = warehouse_district
								}
							}
							NOT = {
								has_building = warehouse
							}
						}
						AND = {
							has_building = warehouse
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 4
							}
							owner = {
								dip_tech = 10
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = warehouse_district
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = medium_university
									has_building = big_university
								}
							}
							NOT = {
								has_building = small_university
							}
						}
						AND = {
							has_building = small_university
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							check_variable = {
								which = art_power
								value = 5
							}
							AND = {
								NOT = {
									has_building = big_university
								}
							}
							NOT = {
								has_building = medium_university
							}
						}
						AND = {
							has_building = medium_university
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							check_variable = {
								which = art_power
								value = 10
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = big_university
							}
						}
						AND = {
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								adm_tech = 5
							}
							AND = {
								NOT = {
									has_building = fine_arts_academy
									has_building = opera
								}
							}
							NOT = {
								has_building = art_corporation
							}
						}
						AND = {
							has_building = art_corporation
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 19
								OR = {
									has_idea = patron_of_art
									has_idea = local_traditions
								}
							}
							AND = {
								NOT = {
									has_building = opera
								}
							}
							NOT = {
								has_building = fine_arts_academy
							}
						}
						AND = {
							has_building = fine_arts_academy
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 29
								OR = {
									has_idea = patron_of_art
									has_idea = local_traditions
								}
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = opera
							}
						}
					}
				}
			}
			export_to_variable = {
				which = getBestBuildingCost
				value = modifier:local_build_cost
			}
			export_to_variable = {
				which = getBestBuildingCostOwner
				value = modifier:build_cost
				who = owner
			}
			change_variable = {
				which = getBestBuildingCost
				value = 1
			}
			change_variable = {
				which = getBestBuildingCost
				which = getBestBuildingCostOwner
			}
			set_variable = {
				which = getBestBuildingFood
				which = regional_food_factor
			}
			multiply_variable = {
				which = getBestBuildingFood
				value = 2
			}
			set_variable = {
				which = getBestBuildingWeight
				value = -1
			}
			set_variable = {
				which = getBestBuildingBuildInd
				value = 0
			}
			set_variable = {
				which = getBestBuildingBuildPrice
				value = 0
			}
			set_variable = {
				which = getBestBuildingBudget
				which = wealth_rural_fluid
			}
			if = {
				limit = {
					OR = {
						always = no
						always = yes
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = mined_goods
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_2
									has_building = mines_3
									has_building = mines_4
									has_building = mines_5
								}
							}
							NOT = {
								has_building = mines_1
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0.6
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 0.1
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 100
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 1
						}
						set_variable = {
							which = "building_cost"
							value = 100
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = mines_1
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_3
									has_building = mines_4
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 6
							}
							NOT = {
								has_building = mines_2
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 1.2
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 0.6
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 0.6
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 2
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = mines_2
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_4
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 11
							}
							NOT = {
								has_building = mines_3
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 1.8
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 1.2
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 1.2
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 200
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 3
						}
						set_variable = {
							which = "building_cost"
							value = 200
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = mines_3
							has_province_flag = infra_calc_done
							AND = {
								NOT = {
									has_building = mines_5
								}
							}
							owner = {
								adm_tech = 22
							}
							NOT = {
								has_building = mines_4
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 2.4
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 1.8
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 1.8
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 4
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = mines_4
							has_province_flag = infra_calc_done
							AND = {
								always = yes
							}
							owner = {
								adm_tech = 37
							}
							NOT = {
								has_building = mines_5
							}
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 3
					}
					subtract_variable = {
						which = assessBuildingWeight
						value = 2.4
					}
					set_variable = {
						which = tempIncomeMine
						which = wealth_from_mines
					}
					multiply_variable = {
						which = assessBuildingWeight
						which = tempIncomeMine
					}
					divide_variable = {
						which = assessBuildingWeight
						value = 2.4
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 400
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeMine
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 5
						}
						set_variable = {
							which = "building_cost"
							value = 400
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
			}
			if = {
				limit = {
					always = no
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = town_hall
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 6
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = town_hall
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 0.5
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_1
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 225
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 7
						}
						set_variable = {
							which = "building_cost"
							value = 225
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_infrastructure_1
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 1.5
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_2
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 8
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_infrastructure_2
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 3
							}
							owner = {
								adm_tech = 7
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_3
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 9
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_infrastructure_3
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 5
							}
							owner = {
								adm_tech = 18
							}
							AND = {
								NOT = {
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = urban_infrastructure_4
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 10
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_infrastructure_4
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 8
							}
							owner = {
								adm_tech = 27
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = urban_infrastructure_5
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 900
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 11
						}
						set_variable = {
							which = "building_cost"
							value = 900
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							has_port = yes
							owner = {
								dip_tech = 1
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_1
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 12
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = harbour_infrastructure_1
							has_province_flag = infra_calc_done
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_2
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.15
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.2
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 225
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 13
						}
						set_variable = {
							which = "building_cost"
							value = 225
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = harbour_infrastructure_2
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = town_hall
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							NOT = {
								has_province_flag = has_delta_estuary
							}
							owner = {
								dip_tech = 6
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_3x
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 14
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = harbour_infrastructure_3x
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							NOT = {
								has_province_flag = has_delta_estuary
							}
							owner = {
								dip_tech = 22
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = harbour_infrastructure_4
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 15
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = harbour_infrastructure_4
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							NOT = {
								has_building = military_harbour_4
							}
							has_province_flag = has_natural_harbour
							owner = {
								dip_tech = 40
							}
							AND = {
								NOT = {
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = harbour_infrastructure_5
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 16
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = merchant_guild
									has_building = trade_depot
									has_building = customs_house
								}
							}
							NOT = {
								has_building = marketplace
							}
						}
					}
					set_variable = {
						which = tempPrevTradePowerValue
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevTradePowerValue
						value = 0.2
					}
					change_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 4
							}
						}
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempNewTradePowerValue
							value = 1.2
						}
					}
					else = {
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.5
						}
					}
					change_variable = {
						which = tempNewTradePowerValue
						value = 0.25
					}
					change_variable = {
						which = tempNewTradePowerMult
						value = 0.15
					}
					set_variable = {
						which = tempChangeTradeVal
						which = tempNewTradePowerValue
					}
					set_variable = {
						which = tempChangeTradeMult
						which = tempNewTradePowerMult
					}
					subtract_variable = {
						which = tempChangeTradeVal
						which = tempPrevTradePowerValue
					}
					subtract_variable = {
						which = tempChangeTradeMult
						which = tempPrevTradePowerMult
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 17
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = marketplace
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 1
							}
							owner = {
								dip_tech = 5
							}
							AND = {
								NOT = {
									has_building = trade_depot
									has_building = customs_house
								}
							}
							NOT = {
								has_building = merchant_guild
							}
						}
					}
					set_variable = {
						which = tempPrevTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 4
							}
						}
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempPrevTradePowerValue
							value = 1.2
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.5
						}
					}
					change_variable = {
						which = tempPrevTradePowerValue
						value = 0.25
					}
					change_variable = {
						which = tempPrevTradePowerMult
						value = 0.15
					}
					set_variable = {
						which = tempNewTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 8
							}
						}
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempNewTradePowerValue
							value = 3.2
						}
					}
					else = {
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.6
						}
					}
					change_variable = {
						which = tempNewTradePowerValue
						value = 0.35
					}
					change_variable = {
						which = tempNewTradePowerMult
						value = 0.2
					}
					set_variable = {
						which = tempChangeTradeVal
						which = tempNewTradePowerValue
					}
					set_variable = {
						which = tempChangeTradeMult
						which = tempNewTradePowerMult
					}
					subtract_variable = {
						which = tempChangeTradeVal
						which = tempPrevTradePowerValue
					}
					subtract_variable = {
						which = tempChangeTradeMult
						which = tempPrevTradePowerMult
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.15
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 225
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 18
						}
						set_variable = {
							which = "building_cost"
							value = 225
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = merchant_guild
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 2
							}
							owner = {
								dip_tech = 13
							}
							AND = {
								NOT = {
									has_building = customs_house
								}
							}
							NOT = {
								has_building = trade_depot
							}
						}
					}
					set_variable = {
						which = tempPrevTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 8
							}
						}
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempPrevTradePowerValue
							value = 3.2
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.6
						}
					}
					change_variable = {
						which = tempPrevTradePowerValue
						value = 0.35
					}
					change_variable = {
						which = tempPrevTradePowerMult
						value = 0.2
					}
					set_variable = {
						which = tempNewTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 12
							}
						}
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempNewTradePowerValue
							value = 7.2
						}
					}
					else = {
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.8
						}
					}
					change_variable = {
						which = tempNewTradePowerValue
						value = 0.5
					}
					change_variable = {
						which = tempNewTradePowerMult
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeVal
						which = tempNewTradePowerValue
					}
					set_variable = {
						which = tempChangeTradeMult
						which = tempNewTradePowerMult
					}
					subtract_variable = {
						which = tempChangeTradeVal
						which = tempPrevTradePowerValue
					}
					subtract_variable = {
						which = tempChangeTradeMult
						which = tempPrevTradePowerMult
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 19
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = trade_depot
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 3
							}
							owner = {
								dip_tech = 22
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = customs_house
							}
						}
					}
					set_variable = {
						which = tempPrevTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 12
							}
						}
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempPrevTradePowerValue
							value = 7.2
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevTradePowerValue
							value = 0.8
						}
					}
					change_variable = {
						which = tempPrevTradePowerValue
						value = 0.5
					}
					change_variable = {
						which = tempPrevTradePowerMult
						value = 0.25
					}
					set_variable = {
						which = tempNewTradePowerValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 16
							}
						}
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 0.2
						}
						change_variable = {
							which = tempNewTradePowerValue
							value = 12.8
						}
					}
					else = {
						multiply_variable = {
							which = tempNewTradePowerValue
							value = 1
						}
					}
					change_variable = {
						which = tempNewTradePowerValue
						value = 0.75
					}
					change_variable = {
						which = tempNewTradePowerMult
						value = 0.3
					}
					set_variable = {
						which = tempChangeTradeVal
						which = tempNewTradePowerValue
					}
					set_variable = {
						which = tempChangeTradeMult
						which = tempNewTradePowerMult
					}
					subtract_variable = {
						which = tempChangeTradeVal
						which = tempPrevTradePowerValue
					}
					subtract_variable = {
						which = tempChangeTradeMult
						which = tempPrevTradePowerMult
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempPrevTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerValue
						value = 0
					}
					set_variable = {
						which = tempNewTradePowerMult
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 20
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 4
							}
							AND = {
								OR = {
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								has_idea_group = trade_ideas
							}
							owner = {
								dip_tech = 23
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = bank
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.2
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 21
						}
						set_variable = {
							which = "building_cost"
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 8
							}
							has_building = bank
							AND = {
								OR = {
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								has_idea_group = trade_ideas
							}
							owner = {
								dip_tech = 42
							}
							AND = {
								owner = {
									has_country_modifier = india_trade_co
								}
							}
							NOT = {
								has_building = stock_exchange
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 1000
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 22
						}
						set_variable = {
							which = "building_cost"
							value = 1000
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							NOT = {
								has_building = steam_powered_factory
							}
							check_variable = {
								which = urban_pop
								value = 1
							}
							owner = {
								adm_tech = 4
							}
							AND = {
								NOT = {
									has_building = corporation_guild
									has_building = urban_manufactory
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = workshop
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdValue
						value = 0.05
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 4
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.05
						}
						change_variable = {
							which = tempNewProdValue
							value = 3.4
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 0.9
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.2
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 200
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 23
						}
						set_variable = {
							which = "building_cost"
							value = 200
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = workshop
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 5
							}
							owner = {
								adm_tech = 5
							}
							AND = {
								NOT = {
									has_building = urban_manufactory
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = corporation_guild
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 4
							}
						}
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.05
						}
						change_variable = {
							which = tempPrevProdValue
							value = 3.4
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.9
						}
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 8
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.1
						}
						change_variable = {
							which = tempNewProdValue
							value = 6.8
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 0.95
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 24
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = corporation_guild
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 9
							}
							owner = {
								adm_tech = 10
							}
							AND = {
								NOT = {
									has_building = factory
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = urban_manufactory
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 8
							}
						}
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.1
						}
						change_variable = {
							which = tempPrevProdValue
							value = 6.8
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.95
						}
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 16
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.2
						}
						change_variable = {
							which = tempNewProdValue
							value = 12.8
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 1
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.7
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 400
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 25
						}
						set_variable = {
							which = "building_cost"
							value = 400
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = urban_manufactory
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 9
							}
							owner = {
								adm_tech = 33
							}
							AND = {
								NOT = {
									has_building = steam_powered_factory
								}
							}
							NOT = {
								has_building = factory
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 16
							}
						}
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.2
						}
						change_variable = {
							which = tempPrevProdValue
							value = 12.8
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevProdValue
							value = 1
						}
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 20
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.3
						}
						change_variable = {
							which = tempNewProdValue
							value = 19
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 1.25
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 26
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							OR = {
								has_building = factory
								has_building = warehouse
								has_building = warehouse_district
							}
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 47
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = steam_powered_factory
							}
						}
					}
					set_variable = {
						which = tempPrevProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 20
							}
						}
						multiply_variable = {
							which = tempPrevProdValue
							value = 0.3
						}
						change_variable = {
							which = tempPrevProdValue
							value = 19
						}
					}
					else = {
						multiply_variable = {
							which = tempPrevProdValue
							value = 1.25
						}
					}
					set_variable = {
						which = tempNewProdValue
						which = urban_pop
					}
					if = {
						limit = {
							check_variable = {
								which = urban_pop
								value = 20
							}
						}
						multiply_variable = {
							which = tempNewProdValue
							value = 0.5
						}
						change_variable = {
							which = tempNewProdValue
							value = 20
						}
					}
					else = {
						multiply_variable = {
							which = tempNewProdValue
							value = 1.5
						}
					}
					set_variable = {
						which = tempChangeProdValue
						which = tempNewProdValue
					}
					subtract_variable = {
						which = tempChangeProdValue
						which = tempPrevProdValue
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdValue
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdValue
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeProdValue
					}
					set_variable = {
						which = tempNewMult
						which = nothing
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeProdValue
							value = 0
						}
						set_variable = {
							which = nothing
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					set_variable = {
						which = "building_cost"
						value = 800
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdValue
						value = 0
					}
					set_variable = {
						which = tempNewProdValue
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 27
						}
						set_variable = {
							which = "building_cost"
							value = 800
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = warehouse_district
								}
							}
							NOT = {
								has_building = warehouse
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.15
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.075
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 28
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = warehouse
							has_province_flag = infra_calc_done
							check_variable = {
								which = urban_pop
								value = 4
							}
							owner = {
								dip_tech = 10
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = warehouse_district
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.15
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.075
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 29
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = medium_university
									has_building = big_university
								}
							}
							NOT = {
								has_building = small_university
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 200
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 30
						}
						set_variable = {
							which = "building_cost"
							value = 200
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = small_university
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							check_variable = {
								which = art_power
								value = 5
							}
							AND = {
								NOT = {
									has_building = big_university
								}
							}
							NOT = {
								has_building = medium_university
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 200
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 31
						}
						set_variable = {
							which = "building_cost"
							value = 200
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = medium_university
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 1
							}
							check_variable = {
								which = art_power
								value = 10
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = big_university
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.15
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 32
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_province_flag = infra_calc_done
							AND = {
								OR = {
									has_building = urban_infrastructure_1
									has_building = urban_infrastructure_2
									has_building = urban_infrastructure_3
									has_building = urban_infrastructure_4
									has_building = urban_infrastructure_5
								}
							}
							owner = {
								adm_tech = 5
							}
							AND = {
								NOT = {
									has_building = fine_arts_academy
									has_building = opera
								}
							}
							NOT = {
								has_building = art_corporation
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 33
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = art_corporation
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 19
								OR = {
									has_idea = patron_of_art
									has_idea = local_traditions
								}
							}
							AND = {
								NOT = {
									has_building = opera
								}
							}
							NOT = {
								has_building = fine_arts_academy
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 34
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fine_arts_academy
							has_province_flag = infra_calc_done
							owner = {
								adm_tech = 29
								OR = {
									has_idea = patron_of_art
									has_idea = local_traditions
								}
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = opera
							}
						}
					}
					set_variable = {
						which = misc
						value = 0
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = misc
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tmpUpper
						which = devPointUpperCur
					}
					divide_variable = {
						which = tmpUpper
						value = 20
					}
					change_variable = {
						which = assessBuildingWeight
						which = tmpUpper
					}
					set_variable = {
						which = tmpUpper
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 35
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
			}
			if = {
				limit = {
					always = yes
				}
				set_variable = {
					which = getBestBuildingCost
					value = 1
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_2
									has_building = rural_infrastructure_3
									has_building = rural_infrastructure_4
									has_building = rural_infrastructure_5
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_1
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 1
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.55
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 1.5
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 15
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 38
						}
						set_variable = {
							which = "building_cost"
							value = 1.5
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 15
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_3
									has_building = rural_infrastructure_4
									has_building = rural_infrastructure_5
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_2
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 1.55
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 1.55
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.283
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 2.5
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 25
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 39
						}
						set_variable = {
							which = "building_cost"
							value = 2.5
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 25
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_4
									has_building = rural_infrastructure_5
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_3
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 1.833
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 1.833
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.267
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 4.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 40
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 40
						}
						set_variable = {
							which = "building_cost"
							value = 4.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 40
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_5
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_4
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 2.1
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 2.1
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.15
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 6.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 60
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 41
						}
						set_variable = {
							which = "building_cost"
							value = 6.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 60
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_6
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_5
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 2.25
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 2.25
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.133
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 8.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 42
						}
						set_variable = {
							which = "building_cost"
							value = 8.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								NOT = {
									has_building = rural_infrastructure_7
								}
							}
							NOT = {
								has_building = rural_infrastructure_6
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 2.383
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 2.383
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.067
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 12.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 43
						}
						set_variable = {
							which = "building_cost"
							value = 12.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								always = yes
							}
							NOT = {
								has_building = rural_infrastructure_7
							}
						}
					}
					set_variable = {
						which = food_price_bonus_local
						value = 1.3
					}
					set_variable = {
						which = food_price_bonus_region
						value = 1.15
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 1
					}
					set_variable = {
						which = exam_close
						which = food_price_local
					}
					if = {
						limit = {
							check_variable = {
								which = surplus_food_save
								value = 0
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_region
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = surplus_food_save
									value = 0
								}
							}
						}
						multiply_variable = {
							which = exam_close
							which = food_price_bonus_local
						}
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0.15
					}
					if = {
						limit = {
							OR = {
								trade_goods = wheat
								trade_goods = millet
								trade_goods = rice
								trade_goods = maize
								trade_goods = fish
								trade_goods = potatoes
								trade_goods = livestock
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 1
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cheese
								trade_goods = olive
								trade_goods = palm_date
								trade_goods = wine
								trade_goods = tea
								trade_goods = clove
								trade_goods = pepper
								trade_goods = coffee
								trade_goods = cotton
								trade_goods = sugar
								trade_goods = tobacco
								trade_goods = opium
								trade_goods = cacao
								trade_goods = hemp
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.5
						}
					}
					else_if = {
						limit = {
							OR = {
								trade_goods = cinnamon
								trade_goods = carmine
								trade_goods = nutmeg
								trade_goods = indigo
								trade_goods = incense
							}
						}
						set_variable = {
							which = export_food_transfer_value
							value = 0.25
						}
					}
					set_variable = {
						which = exam_far
						which = food_price_cont
					}
					subtract_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					multiply_variable = {
						which = exam_far
						which = export_food_transfer_value
					}
					change_variable = {
						which = exam_far
						value = 1
					}
					multiply_variable = {
						which = exam_far
						value = 0.45
					}
					multiply_variable = {
						which = exam_far
						which = food_price_bonus_cont
					}
					multiply_variable = {
						which = exam_far
						which = price_of_rural_good
					}
					set_variable = {
						which = export_food_transfer_value
						value = 0
					}
					set_variable = {
						which = food_price_bonus_local
						value = 0
					}
					set_variable = {
						which = food_price_bonus_region
						value = 0
					}
					set_variable = {
						which = food_price_bonus_cont
						value = 0
					}
					divide_variable = {
						which = exam_far
						value = 2.45
					}
					multiply_variable = {
						which = exam_far
						value = $new$
					}
					if = {
						limit = {
							check_variable = {
								which = exam_far
								which = exam_close
							}
						}
						set_variable = {
							which = assessBuildingWeight
							which = wealth_rural_from_production
						}
						divide_variable = {
							which = assessBuildingWeight
							value = 2.45
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 0.083
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = exam_far
						}
						divide_variable = {
							which = assessBuildingWeight
							which = exam_close
						}
						set_variable = {
							which = "building_cost"
							value = 16.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 160
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					else = {
						set_variable = {
							which = assessBuildingWeight
							value = 0
						}
					}
					set_variable = {
						which = exam_far
						value = 0
					}
					set_variable = {
						which = exam_close
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 44
						}
						set_variable = {
							which = "building_cost"
							value = 16.0
						}
						multiply_variable = {
							which = "building_cost"
							which = "innate_rural_pop_base"
						}
						change_variable = {
							which = "building_cost"
							value = 160
						}
						set_variable = {
							which = "price_of_rural_good_mod"
							which = "price_of_rural_good"
						}
						change_variable = {
							which = "price_of_rural_good_mod"
							value = 1
						}
						divide_variable = {
							which = "price_of_rural_good_mod"
							value = 2
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = "building_cost"
							which = "price_of_rural_good_mod"
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							always = yes
						}
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0.2
					}
					set_variable = {
						which = Prov
						which = Prov
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 45
						}
						set_variable = {
							which = building_cost
							value = 0.1
						}
						multiply_variable = {
							which = building_cost
							which = farm_efficiency_ducats_invested
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							owner = {
								adm_tech = 5
							}
							NOT = {
								has_province_modifier = canal_is_building
							}
							AND = {
								NOT = {
									has_building = canal_level_2
									has_building = canal_level_3
								}
							}
							NOT = {
								has_building = canal_level_1
							}
						}
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0.05
					}
					set_variable = {
						which = nothing0
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = farm_efficiency
					}
					multiply_variable = {
						which = tempPrev
						which = nothing1
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeFarmVal
					}
					set_variable = {
						which = tempNewMult
						which = nothing0
					}
					change_variable = {
						which = tempNewValue
						which = farm_efficiency
					}
					change_variable = {
						which = tempNewMult
						which = nothing1
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseFarm
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseFarm
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseFarm
						value = 1
					}
					divide_variable = {
						which = tempIncreaseFarm
						value = 1.25
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = farm_efficiency
							value = 0
						}
						set_variable = {
							which = nothing1
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeFarmVal
							value = 0
						}
						set_variable = {
							which = nothing0
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						which = tempIncomeFarm
					}
					multiply_variable = {
						which = tempIncreaseFarm
						which = tempIncomeFarm
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 3
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0.15
					}
					set_variable = {
						which = tempPrevInnateVal
						which = innate_rural_pop_base
					}
					change_variable = {
						which = tempPrevInnateVal
						value = 0
					}
					export_to_variable = {
						which = tempADM
						value = adm_tech
						who = owner
					}
					export_to_variable = {
						which = tempDIP
						value = dip_tech
						who = owner
					}
					set_variable = {
						which = tempPrevInnateMult
						which = tempADM
					}
					change_variable = {
						which = tempPrevInnateMult
						which = tempDIP
					}
					divide_variable = {
						which = tempPrevInnateMult
						value = 150
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 1
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = tempPrevInnateVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeInnateVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeInnateMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevInnateVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseInnate
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseInnate
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseInnate
						value = 1
					}
					divide_variable = {
						which = tempIncreaseInnate
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevInnateVal
							value = 0
						}
						set_variable = {
							which = tempPrevInnateMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeInnateVal
							value = 0
						}
						set_variable = {
							which = tempChangeInnateMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						which = tempIncomeRural
					}
					multiply_variable = {
						which = tempIncreaseInnate
						which = tempIncomeRural
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseFarm
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseInnate
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					set_variable = {
						which = building_cost
						which = innate_rural_pop_base
					}
					multiply_variable = {
						which = building_cost
						value = 0.1
					}
					multiply_variable = {
						which = building_cost
						value = 100
					}
					change_variable = {
						which = building_cost
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 0
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						value = 0
					}
					set_variable = {
						which = tempPrevInnateMult
						value = 0
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 0
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						value = 0
					}
					set_variable = {
						which = tempIncreaseFarm
						value = 0
					}
					set_variable = {
						which = tempIncreaseInnate
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 60
						}
						set_variable = {
							which = building_cost
							which = innate_rural_pop_base
						}
						multiply_variable = {
							which = building_cost
							value = 0.1
						}
						multiply_variable = {
							which = building_cost
							value = 100
						}
						change_variable = {
							which = building_cost
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = canal_level_1
							owner = {
								adm_tech = 16
							}
							NOT = {
								has_province_modifier = canal_is_building
							}
							AND = {
								NOT = {
									has_building = canal_level_3
								}
							}
							NOT = {
								has_building = canal_level_2
							}
						}
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0.1
					}
					set_variable = {
						which = nothing0
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = farm_efficiency
					}
					multiply_variable = {
						which = tempPrev
						which = nothing1
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeFarmVal
					}
					set_variable = {
						which = tempNewMult
						which = nothing0
					}
					change_variable = {
						which = tempNewValue
						which = farm_efficiency
					}
					change_variable = {
						which = tempNewMult
						which = nothing1
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseFarm
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseFarm
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseFarm
						value = 1
					}
					divide_variable = {
						which = tempIncreaseFarm
						value = 1.25
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = farm_efficiency
							value = 0
						}
						set_variable = {
							which = nothing1
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeFarmVal
							value = 0
						}
						set_variable = {
							which = nothing0
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						which = tempIncomeFarm
					}
					multiply_variable = {
						which = tempIncreaseFarm
						which = tempIncomeFarm
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 3
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0.1
					}
					set_variable = {
						which = tempPrevInnateVal
						which = innate_rural_pop_base
					}
					change_variable = {
						which = tempPrevInnateVal
						value = 3
					}
					export_to_variable = {
						which = tempADM
						value = adm_tech
						who = owner
					}
					export_to_variable = {
						which = tempDIP
						value = dip_tech
						who = owner
					}
					set_variable = {
						which = tempPrevInnateMult
						which = tempADM
					}
					change_variable = {
						which = tempPrevInnateMult
						which = tempDIP
					}
					divide_variable = {
						which = tempPrevInnateMult
						value = 150
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 1
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 0.15
					}
					set_variable = {
						which = tempPrev
						which = tempPrevInnateVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeInnateVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeInnateMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevInnateVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseInnate
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseInnate
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseInnate
						value = 1
					}
					divide_variable = {
						which = tempIncreaseInnate
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevInnateVal
							value = 0
						}
						set_variable = {
							which = tempPrevInnateMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeInnateVal
							value = 0
						}
						set_variable = {
							which = tempChangeInnateMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						which = tempIncomeRural
					}
					multiply_variable = {
						which = tempIncreaseInnate
						which = tempIncomeRural
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseFarm
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseInnate
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					set_variable = {
						which = building_cost
						which = innate_rural_pop_base
					}
					multiply_variable = {
						which = building_cost
						value = 0.1
					}
					multiply_variable = {
						which = building_cost
						value = 150
					}
					change_variable = {
						which = building_cost
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 0
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						value = 0
					}
					set_variable = {
						which = tempPrevInnateMult
						value = 0
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 0
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						value = 0
					}
					set_variable = {
						which = tempIncreaseFarm
						value = 0
					}
					set_variable = {
						which = tempIncreaseInnate
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 61
						}
						set_variable = {
							which = building_cost
							which = innate_rural_pop_base
						}
						multiply_variable = {
							which = building_cost
							value = 0.1
						}
						multiply_variable = {
							which = building_cost
							value = 150
						}
						change_variable = {
							which = building_cost
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = canal_level_2
							owner = {
								adm_tech = 40
							}
							NOT = {
								has_province_modifier = canal_is_building
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = canal_level_3
							}
						}
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0.1
					}
					set_variable = {
						which = nothing0
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = farm_efficiency
					}
					multiply_variable = {
						which = tempPrev
						which = nothing1
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeFarmVal
					}
					set_variable = {
						which = tempNewMult
						which = nothing0
					}
					change_variable = {
						which = tempNewValue
						which = farm_efficiency
					}
					change_variable = {
						which = tempNewMult
						which = nothing1
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseFarm
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseFarm
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseFarm
						value = 1
					}
					divide_variable = {
						which = tempIncreaseFarm
						value = 1.25
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = farm_efficiency
							value = 0
						}
						set_variable = {
							which = nothing1
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeFarmVal
							value = 0
						}
						set_variable = {
							which = nothing0
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						which = tempIncomeFarm
					}
					multiply_variable = {
						which = tempIncreaseFarm
						which = tempIncomeFarm
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 2
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0.1
					}
					set_variable = {
						which = tempPrevInnateVal
						which = innate_rural_pop_base
					}
					change_variable = {
						which = tempPrevInnateVal
						value = 6
					}
					export_to_variable = {
						which = tempADM
						value = adm_tech
						who = owner
					}
					export_to_variable = {
						which = tempDIP
						value = dip_tech
						who = owner
					}
					set_variable = {
						which = tempPrevInnateMult
						which = tempADM
					}
					change_variable = {
						which = tempPrevInnateMult
						which = tempDIP
					}
					divide_variable = {
						which = tempPrevInnateMult
						value = 150
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 1
					}
					change_variable = {
						which = tempPrevInnateMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = tempPrevInnateVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeInnateVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeInnateMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevInnateVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevInnateMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseInnate
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseInnate
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseInnate
						value = 1
					}
					divide_variable = {
						which = tempIncreaseInnate
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevInnateVal
							value = 0
						}
						set_variable = {
							which = tempPrevInnateMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeInnateVal
							value = 0
						}
						set_variable = {
							which = tempChangeInnateMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						which = tempIncomeRural
					}
					multiply_variable = {
						which = tempIncreaseInnate
						which = tempIncomeRural
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseFarm
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseInnate
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					divide_variable = {
						which = assessBuildingWeight
						which = getBestBuildingFood
					}
					set_variable = {
						which = building_cost
						which = innate_rural_pop_base
					}
					multiply_variable = {
						which = building_cost
						value = 0.1
					}
					multiply_variable = {
						which = building_cost
						value = 200
					}
					change_variable = {
						which = building_cost
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = nothing1
						value = 0
					}
					set_variable = {
						which = tempChangeFarmVal
						value = 0
					}
					set_variable = {
						which = tempIncomeFarm
						value = 0
					}
					set_variable = {
						which = tempPrevInnateMult
						value = 0
					}
					set_variable = {
						which = tempChangeInnateVal
						value = 0
					}
					set_variable = {
						which = tempChangeInnateMult
						value = 0
					}
					set_variable = {
						which = tempIncomeRural
						value = 0
					}
					set_variable = {
						which = tempIncreaseFarm
						value = 0
					}
					set_variable = {
						which = tempIncreaseInnate
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 62
						}
						set_variable = {
							which = building_cost
							which = innate_rural_pop_base
						}
						multiply_variable = {
							which = building_cost
							value = 0.1
						}
						multiply_variable = {
							which = building_cost
							value = 200
						}
						change_variable = {
							which = building_cost
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
			}
			if = {
				limit = {
					always = no
				}
				set_variable = {
					which = getBestBuildingCost
					value = 1
				}
				if = {
					limit = {
						AND = {
							owner = {
								mil_tech = 3
							}
							AND = {
								NOT = {
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
							NOT = {
								has_building = fort_14th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -10
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.1
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 46
						}
						set_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fort_14th
							owner = {
								mil_tech = 15
							}
							AND = {
								NOT = {
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
							NOT = {
								has_building = fort_15th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.05
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 47
						}
						set_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fort_15th
							owner = {
								mil_tech = 26
							}
							AND = {
								NOT = {
									has_building = fort_17th
									has_building = fort_18th
								}
							}
							NOT = {
								has_building = fort_16th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.05
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 180
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 48
						}
						set_variable = {
							which = "building_cost"
							value = 180
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fort_16th
							owner = {
								mil_tech = 35
							}
							AND = {
								NOT = {
									has_building = fort_18th
								}
							}
							NOT = {
								has_building = fort_17th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.05
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 260
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 49
						}
						set_variable = {
							which = "building_cost"
							value = 260
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = fort_17th
							owner = {
								mil_tech = 41
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = fort_18th
							}
							NOT = {
								has_province_modifier = fort_is_building
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_building = fort_14th
								has_building = fort_15th
								has_building = fort_16th
								has_building = fort_17th
								has_building = fort_18th
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = fort_14th
									has_building = fort_15th
									has_building = fort_16th
									has_building = fort_17th
									has_building = fort_18th
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					else = {
						set_variable = {
							which = tempChangeGravVal
							value = 0.1
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0.05
						}
						set_variable = {
							which = tempPrev
							which = urban_gravity_base
						}
						multiply_variable = {
							which = tempPrev
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNewValue
							which = tempChangeGravVal
						}
						set_variable = {
							which = tempNewMult
							which = tempChangeGravMult
						}
						change_variable = {
							which = tempNewValue
							which = urban_gravity_base
						}
						change_variable = {
							which = tempNewMult
							which = urban_gravity_percentage
						}
						set_variable = {
							which = tempNew
							which = tempNewValue
						}
						multiply_variable = {
							which = tempNew
							which = tempNewMult
						}
						set_variable = {
							which = tempIncreaseGrav
							which = tempNew
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tempPrev
										value = 0.001
									}
								}
							}
							set_variable = {
								which = tempPrev
								value = 0.001
							}
						}
						divide_variable = {
							which = tempIncreaseGrav
							which = tempPrev
						}
						subtract_variable = {
							which = tempIncreaseGrav
							value = 1
						}
						divide_variable = {
							which = tempIncreaseGrav
							value = 2
						}
						if = {
							limit = {
								always = no
							}
							set_variable = {
								which = urban_gravity_base
								value = 0
							}
							set_variable = {
								which = urban_gravity_percentage
								value = 0
							}
						}
						if = {
							limit = {
								always = yes
							}
							set_variable = {
								which = tempChangeGravVal
								value = 0
							}
							set_variable = {
								which = tempChangeGravMult
								value = 0
							}
						}
						set_variable = {
							which = tempPrev
							value = 0
						}
						set_variable = {
							which = tempNewValue
							value = 0
						}
						set_variable = {
							which = tempNewMult
							value = 0
						}
						set_variable = {
							which = tempNew
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							which = wealth_urban_from_pop
						}
						set_variable = {
							which = tmpUrbanTradeProv
							which = wealth_urban_from_trade
						}
						if = {
							limit = {
								check_variable = {
									which = urban_production_power
									value = 0.004
								}
							}
							set_variable = {
								which = statProdUrban
								value = 0
							}
							change_variable = {
								which = statProdUrban
								which = urban_production_power
							}
							if = {
								limit = {
									has_province_flag = urban_goods_rank_3
								}
								multiply_variable = {
									which = statProdUrban
									value = 3.6
								}
							}
							else_if = {
								limit = {
									has_province_flag = urban_goods_rank_2
								}
								multiply_variable = {
									which = statProdUrban
									value = 3
								}
							}
							else = {
								multiply_variable = {
									which = statProdUrban
									value = 2.4
								}
							}
							multiply_variable = {
								which = statProdUrban
								value = 1.2
							}
							multiply_variable = {
								which = statProdUrban
								value = 0.1
							}
						}
						else = {
							set_variable = {
								which = statProdUrban
								value = 0
							}
						}
						set_variable = {
							which = tmpUrbanProdProv
							which = statProdUrban
						}
						multiply_variable = {
							which = tmpUrbanProdProv
							value = 1.5
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanTradeProv
						}
						change_variable = {
							which = tempIncomeUrban
							which = tmpUrbanProdProv
						}
						set_variable = {
							which = tmpUrbanTradeProv
							value = 0
						}
						set_variable = {
							which = tmpUrbanProdProv
							value = 0
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = getBestBuildingFood
						}
						multiply_variable = {
							which = tempIncreaseGrav
							which = tempIncomeUrban
						}
						set_variable = {
							which = assessBuildingWeight
							which = tempIncreaseGrav
						}
						change_variable = {
							which = assessBuildingWeight
							which = aiWeightFort
						}
						set_variable = {
							which = "building_cost"
							value = 360
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = assessBuildingWeight
							value = 1000
						}
						divide_variable = {
							which = assessBuildingWeight
							which = building_cost
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = getBestBuildingBudget
										which = building_cost
									}
								}
							}
							set_variable = {
								which = multiplier
								which = getBestBuildingBudget
							}
							divide_variable = {
								which = multiplier
								which = building_cost
							}
							multiply_variable = {
								which = multiplier
								value = 0.6
							}
							change_variable = {
								which = multiplier
								value = 0.4
							}
							multiply_variable = {
								which = assessBuildingWeight
								which = multiplier
							}
							set_variable = {
								which = multiplier
								value = 0
							}
						}
						set_variable = {
							which = building_cost
							value = 0
						}
						set_variable = {
							which = tempIncomeUrban
							value = 0
						}
						set_variable = {
							which = tempIncreaseGrav
							value = 0
						}
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 50
						}
						set_variable = {
							which = "building_cost"
							value = 360
						}
						set_variable = {
							which = tmpMult
							which = road_terrain_cost
						}
						change_variable = {
							which = tmpMult
							value = 1
						}
						multiply_variable = {
							which = building_cost
							which = tmpMult
						}
						set_variable = {
							which = tmpMult
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							owner = {
								dip_tech = 4
							}
							AND = {
								NOT = {
									has_building = paved_road_network
									has_building = highway_network
									has_building = road_and_rail_network
								}
							}
							NOT = {
								has_building = road_network
							}
							NOT = {
								has_province_modifier = road_is_building
							}
						}
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.05
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.2
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightRoad
					}
					set_variable = {
						which = "building_cost"
						value = 80
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					change_variable = {
						which = road_price_multiplier
						which = urban_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 2
					}
					change_variable = {
						which = road_price_multiplier
						which = rural_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 0.01
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						which = prov_radius
					}
					divide_variable = {
						which = road_province_size_multiplier
						value = 2.5
					}
					set_variable = {
						which = road_price_total_mult
						value = 1
					}
					change_variable = {
						which = road_price_total_mult
						which = road_price_multiplier
					}
					change_variable = {
						which = road_price_total_mult
						which = road_terrain_cost
					}
					change_variable = {
						which = road_price_total_mult
						which = road_province_size_multiplier
					}
					multiply_variable = {
						which = building_cost
						which = road_price_total_mult
					}
					multiply_variable = {
						which = building_cost
						value = 0.001
					}
					multiply_variable = {
						which = building_cost
						value = 1000
					}
					set_variable = {
						which = road_price_total_mult
						value = 0
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 51
						}
						set_variable = {
							which = "building_cost"
							value = 80
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						change_variable = {
							which = road_price_multiplier
							which = urban_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 2
						}
						change_variable = {
							which = road_price_multiplier
							which = rural_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 0.01
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							which = prov_radius
						}
						divide_variable = {
							which = road_province_size_multiplier
							value = 2.5
						}
						set_variable = {
							which = road_price_total_mult
							value = 1
						}
						change_variable = {
							which = road_price_total_mult
							which = road_price_multiplier
						}
						change_variable = {
							which = road_price_total_mult
							which = road_terrain_cost
						}
						change_variable = {
							which = road_price_total_mult
							which = road_province_size_multiplier
						}
						multiply_variable = {
							which = building_cost
							which = road_price_total_mult
						}
						multiply_variable = {
							which = building_cost
							value = 0.001
						}
						multiply_variable = {
							which = building_cost
							value = 1000
						}
						set_variable = {
							which = road_price_total_mult
							value = 0
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = road_network
							owner = {
								dip_tech = 13
							}
							AND = {
								NOT = {
									has_building = highway_network
									has_building = road_and_rail_network
								}
							}
							NOT = {
								has_building = paved_road_network
							}
							NOT = {
								has_province_modifier = road_is_building
							}
						}
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.05
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightRoad
					}
					set_variable = {
						which = "building_cost"
						value = 120
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					change_variable = {
						which = road_price_multiplier
						which = urban_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 2
					}
					change_variable = {
						which = road_price_multiplier
						which = rural_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 0.01
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						which = prov_radius
					}
					divide_variable = {
						which = road_province_size_multiplier
						value = 2.5
					}
					set_variable = {
						which = road_price_total_mult
						value = 1
					}
					change_variable = {
						which = road_price_total_mult
						which = road_price_multiplier
					}
					change_variable = {
						which = road_price_total_mult
						which = road_terrain_cost
					}
					change_variable = {
						which = road_price_total_mult
						which = road_province_size_multiplier
					}
					multiply_variable = {
						which = building_cost
						which = road_price_total_mult
					}
					multiply_variable = {
						which = building_cost
						value = 0.001
					}
					multiply_variable = {
						which = building_cost
						value = 1000
					}
					set_variable = {
						which = road_price_total_mult
						value = 0
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 52
						}
						set_variable = {
							which = "building_cost"
							value = 120
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						change_variable = {
							which = road_price_multiplier
							which = urban_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 2
						}
						change_variable = {
							which = road_price_multiplier
							which = rural_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 0.01
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							which = prov_radius
						}
						divide_variable = {
							which = road_province_size_multiplier
							value = 2.5
						}
						set_variable = {
							which = road_price_total_mult
							value = 1
						}
						change_variable = {
							which = road_price_total_mult
							which = road_price_multiplier
						}
						change_variable = {
							which = road_price_total_mult
							which = road_terrain_cost
						}
						change_variable = {
							which = road_price_total_mult
							which = road_province_size_multiplier
						}
						multiply_variable = {
							which = building_cost
							which = road_price_total_mult
						}
						multiply_variable = {
							which = building_cost
							value = 0.001
						}
						multiply_variable = {
							which = building_cost
							value = 1000
						}
						set_variable = {
							which = road_price_total_mult
							value = 0
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = paved_road_network
							owner = {
								dip_tech = 33
							}
							AND = {
								NOT = {
									has_building = road_and_rail_network
								}
							}
							NOT = {
								has_building = highway_network
							}
							NOT = {
								has_province_modifier = road_is_building
							}
						}
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.05
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.15
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightRoad
					}
					set_variable = {
						which = "building_cost"
						value = 180
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					change_variable = {
						which = road_price_multiplier
						which = urban_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 2
					}
					change_variable = {
						which = road_price_multiplier
						which = rural_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 0.01
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						which = prov_radius
					}
					divide_variable = {
						which = road_province_size_multiplier
						value = 2.5
					}
					set_variable = {
						which = road_price_total_mult
						value = 1
					}
					change_variable = {
						which = road_price_total_mult
						which = road_price_multiplier
					}
					change_variable = {
						which = road_price_total_mult
						which = road_terrain_cost
					}
					change_variable = {
						which = road_price_total_mult
						which = road_province_size_multiplier
					}
					multiply_variable = {
						which = building_cost
						which = road_price_total_mult
					}
					multiply_variable = {
						which = building_cost
						value = 0.001
					}
					multiply_variable = {
						which = building_cost
						value = 1000
					}
					set_variable = {
						which = road_price_total_mult
						value = 0
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 53
						}
						set_variable = {
							which = "building_cost"
							value = 180
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						change_variable = {
							which = road_price_multiplier
							which = urban_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 2
						}
						change_variable = {
							which = road_price_multiplier
							which = rural_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 0.01
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							which = prov_radius
						}
						divide_variable = {
							which = road_province_size_multiplier
							value = 2.5
						}
						set_variable = {
							which = road_price_total_mult
							value = 1
						}
						change_variable = {
							which = road_price_total_mult
							which = road_price_multiplier
						}
						change_variable = {
							which = road_price_total_mult
							which = road_terrain_cost
						}
						change_variable = {
							which = road_price_total_mult
							which = road_province_size_multiplier
						}
						multiply_variable = {
							which = building_cost
							which = road_price_total_mult
						}
						multiply_variable = {
							which = building_cost
							value = 0.001
						}
						multiply_variable = {
							which = building_cost
							value = 1000
						}
						set_variable = {
							which = road_price_total_mult
							value = 0
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							has_building = highway_network
							owner = {
								dip_tech = 50
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = road_and_rail_network
							}
							NOT = {
								has_province_modifier = road_is_building
							}
						}
					}
					set_variable = {
						which = tempChangeProdMult
						value = 0.25
					}
					set_variable = {
						which = nothing
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						which = urban_pop
					}
					multiply_variable = {
						which = tempPrevProdVal
						value = 0.05
					}
					trigger_switch = {
						on_trigger = has_building
						workshop = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 4
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.05
								}
								change_variable = {
									which = tempPrevProdVal
									value = 3.4
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.9
								}
							}
						}
						corporation_guild = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 8
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.1
								}
								change_variable = {
									which = tempPrevProdVal
									value = 6.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.95
								}
							}
						}
						urban_manufactory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 16
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.2
								}
								change_variable = {
									which = tempPrevProdVal
									value = 12.8
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1
								}
							}
						}
						factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.3
								}
								change_variable = {
									which = tempPrevProdVal
									value = 19
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.25
								}
							}
						}
						steam_powered_factory = {
							set_variable = {
								which = tempPrevProdVal
								which = urban_pop
							}
							if = {
								limit = {
									check_variable = {
										which = urban_pop
										value = 20
									}
								}
								multiply_variable = {
									which = tempPrevProdVal
									value = 0.5
								}
								change_variable = {
									which = tempPrevProdVal
									value = 20
								}
							}
							else = {
								multiply_variable = {
									which = tempPrevProdVal
									value = 1.5
								}
							}
						}
					}
					set_variable = {
						which = tempPrevProdMult
						which = urban_production_power
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrevProdVal
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrevProdVal
							value = 0.001
						}
					}
					divide_variable = {
						which = tempPrevProdMult
						which = tempPrevProdVal
					}
					set_variable = {
						which = tempPrev
						which = urban_production_power
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNewValue
						which = nothing
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeProdMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_production_power
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevProdMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseProd
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseProd
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseProd
						value = 1
					}
					divide_variable = {
						which = tempIncreaseProd
						value = 1
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_production_power
							value = 0
						}
						set_variable = {
							which = tempPrevProdMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = nothing
							value = 0
						}
						set_variable = {
							which = tempChangeProdMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tempIncomeProd
						which = statProdUrban
					}
					multiply_variable = {
						which = tempIncomeProd
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseProd
						which = tempIncomeProd
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.15
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.15
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseProd
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightRoad
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					change_variable = {
						which = road_price_multiplier
						which = urban_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 2
					}
					change_variable = {
						which = road_price_multiplier
						which = rural_pop
					}
					multiply_variable = {
						which = road_price_multiplier
						value = 0.01
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						which = prov_radius
					}
					divide_variable = {
						which = road_province_size_multiplier
						value = 2.5
					}
					set_variable = {
						which = road_price_total_mult
						value = 1
					}
					change_variable = {
						which = road_price_total_mult
						which = road_price_multiplier
					}
					change_variable = {
						which = road_price_total_mult
						which = road_terrain_cost
					}
					change_variable = {
						which = road_price_total_mult
						which = road_province_size_multiplier
					}
					multiply_variable = {
						which = building_cost
						which = road_price_total_mult
					}
					multiply_variable = {
						which = building_cost
						value = 0.001
					}
					multiply_variable = {
						which = building_cost
						value = 1000
					}
					set_variable = {
						which = road_price_total_mult
						value = 0
					}
					set_variable = {
						which = road_price_multiplier
						value = 0
					}
					set_variable = {
						which = road_province_size_multiplier
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempPrevProdVal
						value = 0
					}
					set_variable = {
						which = tempPrevProdMult
						value = 0
					}
					set_variable = {
						which = tempIncreaseProd
						value = 0
					}
					set_variable = {
						which = tempIncomeProd
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 54
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						change_variable = {
							which = road_price_multiplier
							which = urban_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 2
						}
						change_variable = {
							which = road_price_multiplier
							which = rural_pop
						}
						multiply_variable = {
							which = road_price_multiplier
							value = 0.01
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							which = prov_radius
						}
						divide_variable = {
							which = road_province_size_multiplier
							value = 2.5
						}
						set_variable = {
							which = road_price_total_mult
							value = 1
						}
						change_variable = {
							which = road_price_total_mult
							which = road_price_multiplier
						}
						change_variable = {
							which = road_price_total_mult
							which = road_terrain_cost
						}
						change_variable = {
							which = road_price_total_mult
							which = road_province_size_multiplier
						}
						multiply_variable = {
							which = building_cost
							which = road_price_total_mult
						}
						multiply_variable = {
							which = building_cost
							value = 0.001
						}
						multiply_variable = {
							which = building_cost
							value = 1000
						}
						set_variable = {
							which = road_price_total_mult
							value = 0
						}
						set_variable = {
							which = road_price_multiplier
							value = 0
						}
						set_variable = {
							which = road_province_size_multiplier
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 2
							}
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = bureaucracy_2
									has_building = bureaucracy_3
									has_building = bureaucracy_4
									has_building = bureaucracy_5
								}
							}
							NOT = {
								has_building = bureaucracy_1
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 1500
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 55
						}
						set_variable = {
							which = "building_cost"
							value = 1500
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 4
							}
							has_building = bureaucracy_1
							owner = {
								adm_tech = 1
							}
							AND = {
								NOT = {
									has_building = bureaucracy_3
									has_building = bureaucracy_4
									has_building = bureaucracy_5
								}
							}
							NOT = {
								has_building = bureaucracy_2
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 2500
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 56
						}
						set_variable = {
							which = "building_cost"
							value = 2500
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 6
							}
							has_building = bureaucracy_2
							owner = {
								adm_tech = 14
							}
							AND = {
								NOT = {
									has_building = bureaucracy_4
									has_building = bureaucracy_5
								}
							}
							NOT = {
								has_building = bureaucracy_3
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.15
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 4000
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 57
						}
						set_variable = {
							which = "building_cost"
							value = 4000
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 8
							}
							has_building = bureaucracy_3
							owner = {
								adm_tech = 14
							}
							AND = {
								NOT = {
									has_building = bureaucracy_5
								}
							}
							NOT = {
								has_building = bureaucracy_4
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 7000
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 58
						}
						set_variable = {
							which = "building_cost"
							value = 7000
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							check_variable = {
								which = urban_pop
								value = 10
							}
							has_building = bureaucracy_4
							owner = {
								adm_tech = 23
							}
							AND = {
								always = yes
							}
							NOT = {
								has_building = bureaucracy_5
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = -0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.25
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightBureau
					}
					set_variable = {
						which = "building_cost"
						value = 15000
					}
					set_variable = {
						which = capital_num
						which = owner
					}
					multiply_variable = {
						which = capital_num
						value = 500
					}
					change_variable = {
						which = building_cost
						which = capital_num
					}
					set_variable = {
						which = capital_num
						value = 0
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 59
						}
						set_variable = {
							which = "building_cost"
							value = 15000
						}
						set_variable = {
							which = capital_num
							which = owner
						}
						multiply_variable = {
							which = capital_num
							value = 500
						}
						change_variable = {
							which = building_cost
							which = capital_num
						}
						set_variable = {
							which = capital_num
							value = 0
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				export_to_variable = {
					which = getBestBuildingCost
					value = modifier:local_build_cost
				}
				export_to_variable = {
					which = getBestBuildingCostOwner
					value = modifier:build_cost
					who = owner
				}
				change_variable = {
					which = getBestBuildingCost
					value = 1
				}
				change_variable = {
					which = getBestBuildingCost
					which = getBestBuildingCostOwner
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_province_flag = infra_calc_done
								has_port = yes
								owner = {
									dip_tech = 1
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_2
										has_building = harbour_infrastructure_3x
										has_building = harbour_infrastructure_4
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_1
								}
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_flag = has_great_natural_harbour
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = harbour_infrastructure_2
									has_province_flag = large_port_present
								}
							}
						}
						set_variable = {
							which = assessBuildingWeight
							value = -1
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.05
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 150
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 63
						}
						set_variable = {
							which = "building_cost"
							value = 150
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_building = harbour_infrastructure_1
								has_province_flag = infra_calc_done
								NOT = {
									has_province_modifier = lack_of_harbour
								}
								owner = {
									dip_tech = 4
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_3x
										has_building = harbour_infrastructure_4
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_2
								}
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_flag = has_great_natural_harbour
							}
							any_neighbor_province = {
								owned_by = PREV
								OR = {
									has_building = harbour_infrastructure_2
									has_province_flag = large_port_present
								}
							}
						}
						set_variable = {
							which = aiWeightPort
							value = 0
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.15
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.1
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.2
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 225
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 64
						}
						set_variable = {
							which = "building_cost"
							value = 225
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_building = harbour_infrastructure_2
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = town_hall
										has_building = urban_infrastructure_1
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_province_modifier = lack_of_harbour
								}
								NOT = {
									has_province_flag = has_delta_estuary
								}
								owner = {
									dip_tech = 6
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_4
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_3x
								}
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 300
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 65
						}
						set_variable = {
							which = "building_cost"
							value = 300
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_building = harbour_infrastructure_3x
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = urban_infrastructure_1
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_province_modifier = lack_of_harbour
								}
								NOT = {
									has_province_flag = has_delta_estuary
								}
								owner = {
									dip_tech = 22
								}
								AND = {
									NOT = {
										has_building = harbour_infrastructure_5
									}
								}
								NOT = {
									has_building = harbour_infrastructure_4
								}
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.05
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.05
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 450
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 66
						}
						set_variable = {
							which = "building_cost"
							value = 450
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								has_building = harbour_infrastructure_4
								has_province_flag = infra_calc_done
								AND = {
									OR = {
										has_building = urban_infrastructure_2
										has_building = urban_infrastructure_3
										has_building = urban_infrastructure_4
										has_building = urban_infrastructure_5
									}
								}
								NOT = {
									has_building = military_harbour_4
								}
								has_province_flag = has_natural_harbour
								owner = {
									dip_tech = 40
								}
								AND = {
									NOT = {
										has_building = military_harbour_4
									}
								}
								NOT = {
									has_building = harbour_infrastructure_5
								}
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.1
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.2
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0.1
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightPort
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 67
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								OR = {
									has_building = harbour_infrastructure_1
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							has_province_flag = infra_calc_done
							NOT = {
								has_province_modifier = lack_of_harbour
							}
							owner = {
								dip_tech = 3
							}
							AND = {
								NOT = {
									has_building = military_harbour_2
									has_building = military_harbour_3
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = military_harbour_1
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.025
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightShipyard
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 68
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								OR = {
									has_building = harbour_infrastructure_1
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							has_building = military_harbour_1
							has_province_flag = infra_calc_done
							has_province_flag = has_natural_harbour
							owner = {
								dip_tech = 6
							}
							AND = {
								NOT = {
									has_building = military_harbour_3
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = military_harbour_2
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.025
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.25
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightShipyard
					}
					set_variable = {
						which = "building_cost"
						value = 250
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 69
						}
						set_variable = {
							which = "building_cost"
							value = 250
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								OR = {
									has_building = harbour_infrastructure_1
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							has_building = military_harbour_2
							has_province_flag = infra_calc_done
							has_province_flag = has_natural_harbour
							owner = {
								dip_tech = 19
							}
							AND = {
								NOT = {
									has_building = military_harbour_4
								}
							}
							NOT = {
								has_building = military_harbour_3
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.025
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightShipyard
					}
					set_variable = {
						which = "building_cost"
						value = 500
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 70
						}
						set_variable = {
							which = "building_cost"
							value = 500
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
				if = {
					limit = {
						AND = {
							AND = {
								OR = {
									has_building = harbour_infrastructure_1
									has_building = harbour_infrastructure_2
									has_building = harbour_infrastructure_3x
									has_building = harbour_infrastructure_4
									has_building = harbour_infrastructure_5
								}
							}
							has_building = military_harbour_3
							has_province_flag = infra_calc_done
							NOT = {
								has_building = harbour_infrastructure_5
							}
							has_province_flag = has_great_natural_harbour
							owner = {
								dip_tech = 40
							}
							AND = {
								NOT = {
									has_building = harbour_infrastructure_5
								}
							}
							NOT = {
								has_building = military_harbour_4
							}
						}
					}
					set_variable = {
						which = tempChangeTradeVal
						value = 0
					}
					set_variable = {
						which = tempChangeTradeMult
						value = 0.025
					}
					export_to_variable = {
						which = tempPrevTradeVal
						value = modifier:province_trade_power_value
					}
					export_to_variable = {
						which = tempPrevTradeMult
						value = modifier:province_trade_power_modifier
					}
					change_variable = {
						which = tempPrevTradeMult
						value = 1
					}
					set_variable = {
						which = tempPrev
						which = tempPrevTradeVal
					}
					multiply_variable = {
						which = tempPrev
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeTradeVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeTradeMult
					}
					change_variable = {
						which = tempNewValue
						which = tempPrevTradeVal
					}
					change_variable = {
						which = tempNewMult
						which = tempPrevTradeMult
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseTrade
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseTrade
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseTrade
						value = 1
					}
					divide_variable = {
						which = tempIncreaseTrade
						value = 1.5
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempPrevTradeVal
							value = 0
						}
						set_variable = {
							which = tempPrevTradeMult
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeTradeVal
							value = 0
						}
						set_variable = {
							which = tempChangeTradeMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						which = wealth_urban_from_trade
					}
					multiply_variable = {
						which = tempIncreaseTrade
						which = tempIncomeTrade
					}
					set_variable = {
						which = tempChangeGravVal
						value = 0.5
					}
					set_variable = {
						which = tempChangeGravMult
						value = 0
					}
					set_variable = {
						which = tempPrev
						which = urban_gravity_base
					}
					multiply_variable = {
						which = tempPrev
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNewValue
						which = tempChangeGravVal
					}
					set_variable = {
						which = tempNewMult
						which = tempChangeGravMult
					}
					change_variable = {
						which = tempNewValue
						which = urban_gravity_base
					}
					change_variable = {
						which = tempNewMult
						which = urban_gravity_percentage
					}
					set_variable = {
						which = tempNew
						which = tempNewValue
					}
					multiply_variable = {
						which = tempNew
						which = tempNewMult
					}
					set_variable = {
						which = tempIncreaseGrav
						which = tempNew
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tempPrev
									value = 0.001
								}
							}
						}
						set_variable = {
							which = tempPrev
							value = 0.001
						}
					}
					divide_variable = {
						which = tempIncreaseGrav
						which = tempPrev
					}
					subtract_variable = {
						which = tempIncreaseGrav
						value = 1
					}
					divide_variable = {
						which = tempIncreaseGrav
						value = 2
					}
					if = {
						limit = {
							always = no
						}
						set_variable = {
							which = urban_gravity_base
							value = 0
						}
						set_variable = {
							which = urban_gravity_percentage
							value = 0
						}
					}
					if = {
						limit = {
							always = yes
						}
						set_variable = {
							which = tempChangeGravVal
							value = 0
						}
						set_variable = {
							which = tempChangeGravMult
							value = 0
						}
					}
					set_variable = {
						which = tempPrev
						value = 0
					}
					set_variable = {
						which = tempNewValue
						value = 0
					}
					set_variable = {
						which = tempNewMult
						value = 0
					}
					set_variable = {
						which = tempNew
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						which = wealth_urban_from_pop
					}
					set_variable = {
						which = tmpUrbanTradeProv
						which = wealth_urban_from_trade
					}
					if = {
						limit = {
							check_variable = {
								which = urban_production_power
								value = 0.004
							}
						}
						set_variable = {
							which = statProdUrban
							value = 0
						}
						change_variable = {
							which = statProdUrban
							which = urban_production_power
						}
						if = {
							limit = {
								has_province_flag = urban_goods_rank_3
							}
							multiply_variable = {
								which = statProdUrban
								value = 3.6
							}
						}
						else_if = {
							limit = {
								has_province_flag = urban_goods_rank_2
							}
							multiply_variable = {
								which = statProdUrban
								value = 3
							}
						}
						else = {
							multiply_variable = {
								which = statProdUrban
								value = 2.4
							}
						}
						multiply_variable = {
							which = statProdUrban
							value = 1.2
						}
						multiply_variable = {
							which = statProdUrban
							value = 0.1
						}
					}
					else = {
						set_variable = {
							which = statProdUrban
							value = 0
						}
					}
					set_variable = {
						which = tmpUrbanProdProv
						which = statProdUrban
					}
					multiply_variable = {
						which = tmpUrbanProdProv
						value = 1.5
					}
					set_variable = {
						which = statProdUrban
						value = 0
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanTradeProv
					}
					change_variable = {
						which = tempIncomeUrban
						which = tmpUrbanProdProv
					}
					set_variable = {
						which = tmpUrbanTradeProv
						value = 0
					}
					set_variable = {
						which = tmpUrbanProdProv
						value = 0
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = getBestBuildingFood
					}
					multiply_variable = {
						which = tempIncreaseGrav
						which = tempIncomeUrban
					}
					set_variable = {
						which = assessBuildingWeight
						which = tempIncreaseTrade
					}
					change_variable = {
						which = assessBuildingWeight
						which = tempIncreaseGrav
					}
					change_variable = {
						which = assessBuildingWeight
						which = aiWeightShipyard
					}
					set_variable = {
						which = "building_cost"
						value = 600
					}
					multiply_variable = {
						which = assessBuildingWeight
						value = 1000
					}
					divide_variable = {
						which = assessBuildingWeight
						which = building_cost
					}
					multiply_variable = {
						which = building_cost
						which = getBestBuildingCost
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = getBestBuildingBudget
									which = building_cost
								}
							}
						}
						set_variable = {
							which = multiplier
							which = getBestBuildingBudget
						}
						divide_variable = {
							which = multiplier
							which = building_cost
						}
						multiply_variable = {
							which = multiplier
							value = 0.6
						}
						change_variable = {
							which = multiplier
							value = 0.4
						}
						multiply_variable = {
							which = assessBuildingWeight
							which = multiplier
						}
						set_variable = {
							which = multiplier
							value = 0
						}
					}
					set_variable = {
						which = building_cost
						value = 0
					}
					set_variable = {
						which = tempIncreaseTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeTrade
						value = 0
					}
					set_variable = {
						which = tempIncomeUrban
						value = 0
					}
					set_variable = {
						which = tempIncreaseGrav
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = assessBuildingWeight
								which = getBestBuildingWeight
							}
						}
						set_variable = {
							which = getBestBuildingWeight
							which = assessBuildingWeight
						}
						set_variable = {
							which = getBestBuildingBuildInd
							value = 71
						}
						set_variable = {
							which = "building_cost"
							value = 600
						}
						multiply_variable = {
							which = building_cost
							which = getBestBuildingCost
						}
						set_variable = {
							which = getBestBuildingBuildPrice
							which = building_cost
						}
						set_variable = {
							which = building_cost
							value = 0
						}
					}
					set_variable = {
						which = assessBuildingPrice
						value = 0
					}
					set_variable = {
						which = assessBuildingWeight
						value = 0
					}
				}
			}
			set_variable = {
				which = provAIBuildInd
				which = getBestBuildingBuildInd
			}
			set_variable = {
				which = provAIBuildPrice
				which = getBestBuildingBuildPrice
			}
			set_variable = {
				which = provAIBuildWeight
				which = getBestBuildingWeight
			}
			set_variable = {
				which = getBestBuildingWeight
				value = 0
			}
			set_variable = {
				which = getBestBuildingBuildInd
				value = 0
			}
			set_variable = {
				which = getBestBuildingBuildPrice
				value = 0
			}
			set_variable = {
				which = getBestBuildingFood
				value = 0
			}
			set_variable = {
				which = getBestBuildingCost
				value = 0
			}
			set_variable = {
				which = getBestBuildingCostOwner
				value = 0
			}
			set_variable = {
				which = getBestBuildingBudget
				value = 0
			}
		}
		if = {
			limit = {
				check_variable = {
					which = provAIBuildInd
					value = 1
				}
				check_variable = {
					which = wealth_rural_fluid
					which = provAIBuildPrice
				}
			}
			subtract_variable = {
				which = wealth_rural_fluid
				which = provAIBuildPrice
			}
			add_province_modifier = {
				name = "province_built_building"
				duration = 800
			}
			if = {
				limit = {
					NOT = {
						is_variable_equal = {
							which = provAIBuildInd
							value = 0
						}
					}
				}
				if = {
					limit = {
						owner = {
							ai = no
						}
					}
					add_province_modifier = {
						name = something_built
						duration = 1
					}
				}
				if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 68
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = ai_built_shipyard
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = ai_built_shipyard
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 63
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = built_harbour
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = built_harbour
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 60
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = built_canal
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = built_canal
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 55
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = ai_built_bureau
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = ai_built_bureau
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 51
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = road_built_recently
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = road_built_recently
							duration = 1825
						}
					}
				}
				else_if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 46
						}
					}
					if = {
						limit = {
							has_global_flag = aiTesting
						}
						add_permanent_province_modifier = {
							name = built_fort
							duration = -1
						}
					}
					else = {
						add_province_modifier = {
							name = built_fort
							duration = 1825
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = provAIBuildInd
							value = 36
						}
					}
					if = {
						limit = {
							check_variable = {
								which = provAIBuildInd
								value = 54
							}
						}
						if = {
							limit = {
								check_variable = {
									which = provAIBuildInd
									value = 63
								}
							}
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 67
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 69
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 70
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 71
												}
											}
											add_building = military_harbour_4
										}
										else = {
											add_building = military_harbour_3
										}
									}
									else = {
										add_building = military_harbour_2
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 68
											}
										}
										add_building = military_harbour_1
									}
									else = {
										add_building = harbour_infrastructure_5
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 65
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 66
											}
										}
										add_building = harbour_infrastructure_4
									}
									else = {
										add_building = harbour_infrastructure_3x
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 64
											}
										}
										add_building = harbour_infrastructure_2
									}
									else = {
										add_building = harbour_infrastructure_1
									}
								}
							}
						}
						else = {
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 58
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 60
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 61
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 62
												}
											}
											province_event = {
												id = POP_dev_button_interactions.408
											}
										}
										else = {
											province_event = {
												id = POP_dev_button_interactions.408
											}
										}
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.408
										}
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 59
											}
										}
										add_building = bureaucracy_5
										remove_building = bureaucracy_4
									}
									else = {
										add_building = bureaucracy_4
										remove_building = bureaucracy_3
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 56
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 57
											}
										}
										add_building = bureaucracy_3
										remove_building = bureaucracy_2
									}
									else = {
										add_building = bureaucracy_2
										remove_building = bureaucracy_1
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 55
											}
										}
										add_building = bureaucracy_1
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.006
										}
									}
								}
							}
						}
					}
					else = {
						if = {
							limit = {
								check_variable = {
									which = provAIBuildInd
									value = 45
								}
							}
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 49
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 51
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 52
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 53
												}
											}
											province_event = {
												id = POP_dev_button_interactions.006
											}
										}
										else = {
											province_event = {
												id = POP_dev_button_interactions.006
											}
										}
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.006
										}
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 50
											}
										}
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 47
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 48
											}
										}
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
									else = {
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 46
											}
										}
										province_event = {
											id = POP_dev_button_interactions.106
										}
									}
									else = {
										multiply_variable = {
											which = farm_efficiency_ducats_invested
											value = 1.1
										}
									}
								}
							}
						}
						else = {
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 40
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 42
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 43
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 44
												}
											}
											add_building = rural_infrastructure_7
										}
										else = {
											add_building = rural_infrastructure_6
										}
									}
									else = {
										add_building = rural_infrastructure_5
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 41
											}
										}
										add_building = rural_infrastructure_4
									}
									else = {
										add_building = rural_infrastructure_3
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 38
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 39
											}
										}
										add_building = rural_infrastructure_2
									}
									else = {
										add_building = rural_infrastructure_1
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 37
											}
										}
										add_building = great_temple
									}
									else = {
										add_building = temple
									}
								}
							}
						}
					}
				}
				else = {
					if = {
						limit = {
							check_variable = {
								which = provAIBuildInd
								value = 18
							}
						}
						if = {
							limit = {
								check_variable = {
									which = provAIBuildInd
									value = 27
								}
							}
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 31
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 33
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 34
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 35
												}
											}
											add_building = opera
										}
										else = {
											add_building = fine_arts_academy
										}
									}
									else = {
										add_building = art_corporation
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 32
											}
										}
										add_building = big_university
									}
									else = {
										add_building = medium_university
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 29
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 30
											}
										}
										add_building = small_university
									}
									else = {
										add_building = warehouse_district
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 28
											}
										}
										add_building = warehouse
									}
									else = {
										add_building = steam_powered_factory
									}
								}
							}
						}
						else = {
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 22
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 24
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 25
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 26
												}
											}
											add_building = factory
										}
										else = {
											add_building = urban_manufactory
										}
									}
									else = {
										add_building = corporation_guild
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 23
											}
										}
										add_building = workshop
									}
									else = {
										add_building = stock_exchange
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 20
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 21
											}
										}
										add_building = bank
									}
									else = {
										add_building = customs_house
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 19
											}
										}
										add_building = trade_depot
									}
									else = {
										add_building = merchant_guild
									}
								}
							}
						}
					}
					else = {
						if = {
							limit = {
								check_variable = {
									which = provAIBuildInd
									value = 9
								}
							}
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 13
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 15
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 16
											}
										}
										if = {
											limit = {
												check_variable = {
													which = provAIBuildInd
													value = 17
												}
											}
											add_building = marketplace
										}
										else = {
											add_building = harbour_infrastructure_5
										}
									}
									else = {
										add_building = harbour_infrastructure_4
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 14
											}
										}
										add_building = harbour_infrastructure_3x
									}
									else = {
										add_building = harbour_infrastructure_2
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 11
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 12
											}
										}
										add_building = harbour_infrastructure_1
									}
									else = {
										add_building = urban_infrastructure_5
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 10
											}
										}
										add_building = urban_infrastructure_4
									}
									else = {
										add_building = urban_infrastructure_3
									}
								}
							}
						}
						else = {
							if = {
								limit = {
									check_variable = {
										which = provAIBuildInd
										value = 5
									}
								}
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 7
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 8
											}
										}
										add_building = urban_infrastructure_2
									}
									else = {
										add_building = urban_infrastructure_1
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 6
											}
										}
										add_building = town_hall
									}
									else = {
										add_building = mines_5
									}
								}
							}
							else = {
								if = {
									limit = {
										check_variable = {
											which = provAIBuildInd
											value = 3
										}
									}
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 4
											}
										}
										add_building = mines_4
									}
									else = {
										add_building = mines_3
									}
								}
								else = {
									if = {
										limit = {
											check_variable = {
												which = provAIBuildInd
												value = 2
											}
										}
										add_building = mines_2
									}
									else = {
										add_building = mines_1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						owner = {
							ai = no
							has_country_flag = build_info_events
						}
					}
					if = {
						limit = {
							is_variable_equal = {
								which = provAIBuildInd
								which = estateBuildInd
							}
						}
						set_variable = {
							which = prov_built
							which = estateBuildInd
						}
						set_variable = {
							which = prov_built_cost
							which = estateBuildPrice
						}
						set_variable = {
							which = prov_built_event
							value = 2
						}
						province_event = {
							id = MT_general_fixes.102
						}
					}
					else_if = {
						limit = {
							is_variable_equal = {
								which = provAIBuildInd
								which = provAIBuildInd
							}
						}
						set_variable = {
							which = prov_built
							which = provAIBuildInd
						}
						set_variable = {
							which = prov_built_cost
							which = provAIBuildPrice
						}
						set_variable = {
							which = prov_built_event
							value = 1
						}
						province_event = {
							id = MT_general_fixes.101
						}
					}
					else_if = {
						limit = {
							is_variable_equal = {
								which = provAIBuildInd
								which = aiDoSpendingInd
							}
						}
						set_variable = {
							which = prov_built
							which = aiDoSpendingInd
						}
						set_variable = {
							which = prov_built_cost
							which = aiDoSpendingPrice
						}
						set_variable = {
							which = prov_built_event
							value = 4
						}
						province_event = {
							id = MT_general_fixes.104
						}
					}
				}
			}
		}
		set_variable = {
			which = provAIBuildWeight
			value = 0
		}
		set_variable = {
			which = provAIBuildInd
			value = 0
		}
		set_variable = {
			which = provAIBuildPrice
			value = 0
		}
	}
	option = {
		name = "POP_province_AI.101.a"
		ai_chance = {
			factor = 100
		}
	}
}
