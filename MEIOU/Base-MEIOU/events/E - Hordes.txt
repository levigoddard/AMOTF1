namespace = horde_events
country_event = {
	id = horde_events.20
	title = horde_events.20.t
	desc = horde_events.20.d
	picture = KING_SICK_IN_BED_eventPicture
	fire_only_once = yes
	trigger = {
		has_heir = yes
		tag = WHI
		has_ruler = "Jani Beg"
		NOT = {
			is_year = 1360
		}
		has_any_disaster = no
		NOT = {
			war_with = CHU
		}
	}
	mean_time_to_happen = {
		months = 2
	}
	option = {
		name = "OPT.OHNO"
		kill_ruler = yes
		add_horde_unity = -50
		hidden_effect = {
			set_country_flag = white_horde_murdered_ruler
			define_heir = {
				name = "Qulpa"
				dynasty = ROOT
				culture = mongol
				age = 18
				ADM = 1
				DIP = 1
				MIL = 1
			}
			add_horde_unity = -5
		}
		random_list = {
			30 = {}
			50 = {
				custom_tooltip = stability_points_lost_50
				hidden_effect = {
					subtract_variable = {
						which = stability_points
						value = 50
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = stability_points
									value = 0
								}
							}
						}
						add_stability = -1
						country_event = {
							id = POP_Stability.003
						}
						if = {
							limit = {
								is_emperor_of_china = yes
							}
							add_mandate = -5
						}
					}
				}
			}
			20 = {
				add_stability = -1
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -5
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					check_variable = {
						which = estate_tribals_wealth
						value = 10
					}
				}
				multiply_variable = {
					which = estate_tribals_wealth
					value = 0.5
				}
			}
			CHU = {
				add_stability = 2
				if = {
					limit = {
						check_variable = {
							which = estate_greater_nobles_weight_share
							value = 0.01
						}
					}
					tooltip = {
						add_estate_loyalty = {
							estate = estate_greater_nobles
							loyalty = 30
						}
					}
					hidden_effect = {
						set_variable = {
							which = greater_nobles_loyalty_added
							value = 30
						}
						if = {
							limit = {
								check_variable = {
									which = greater_nobles_loyalty_added
									value = 64
								}
							}
							add_estate_loyalty = {
								estate = estate_greater_nobles
								loyalty = 64
							}
							change_variable = {
								which = estate_greater_nobles_loyalty
								value = 0.64
							}
							subtract_variable = {
								which = greater_nobles_loyalty_added
								value = 64
							}
						}
						if = {
							limit = {
								check_variable = {
									which = greater_nobles_loyalty_added
									value = 32
								}
							}
							add_estate_loyalty = {
								estate = estate_greater_nobles
								loyalty = 32
							}
							change_variable = {
								which = estate_greater_nobles_loyalty
								value = 0.32
							}
							subtract_variable = {
								which = greater_nobles_loyalty_added
								value = 32
							}
						}
						if = {
							limit = {
								check_variable = {
									which = greater_nobles_loyalty_added
									value = 16
								}
							}
							add_estate_loyalty = {
								estate = estate_greater_nobles
								loyalty = 16
							}
							change_variable = {
								which = estate_greater_nobles_loyalty
								value = 0.16
							}
							subtract_variable = {
								which = greater_nobles_loyalty_added
								value = 16
							}
						}
						if = {
							limit = {
								check_variable = {
									which = greater_nobles_loyalty_added
									value = 8
								}
							}
							add_estate_loyalty = {
								estate = estate_greater_nobles
								loyalty = 8
							}
							change_variable = {
								which = estate_greater_nobles_loyalty
								value = 0.08
							}
							subtract_variable = {
								which = greater_nobles_loyalty_added
								value = 8
							}
						}
						if = {
							limit = {
								check_variable = {
									which = greater_nobles_loyalty_added
									value = 4
								}
							}
							add_estate_loyalty = {
								estate = estate_greater_nobles
								loyalty = 4
							}
							change_variable = {
								which = estate_greater_nobles_loyalty
								value = 0.04
							}
							subtract_variable = {
								which = greater_nobles_loyalty_added
								value = 4
							}
						}
						if = {
							limit = {
								check_variable = {
									which = greater_nobles_loyalty_added
									value = 2
								}
							}
							add_estate_loyalty = {
								estate = estate_greater_nobles
								loyalty = 2
							}
							change_variable = {
								which = estate_greater_nobles_loyalty
								value = 0.02
							}
							subtract_variable = {
								which = greater_nobles_loyalty_added
								value = 2
							}
						}
						if = {
							limit = {
								check_variable = {
									which = greater_nobles_loyalty_added
									value = 1
								}
							}
							add_estate_loyalty = {
								estate = estate_greater_nobles
								loyalty = 1
							}
							change_variable = {
								which = estate_greater_nobles_loyalty
								value = 0.01
							}
							subtract_variable = {
								which = greater_nobles_loyalty_added
								value = 1
							}
						}
						if = {
							limit = {
								check_variable = {
									which = estate_greater_nobles_loyalty
									value = 1
								}
							}
							set_variable = {
								which = estate_greater_nobles_loyalty
								value = 1
							}
						}
						every_owned_province = {
							limit = {
								has_province_flag = greater_nobles_control_province
							}
							hidden_effect = {
								set_variable = {
									which = estate_greater_nobles_loyalty
									which = owner
								}
								set_variable = {
									which = EstateProv_UnrestSave
									which = EstateProv_Unrest
								}
								set_variable = {
									which = EstateProv_Unrest
									which = estate_greater_nobles_loyalty
								}
								set_variable = {
									which = estate_greater_nobles_loyalty
									value = 0
								}
								if = {
									limit = {
										check_variable = {
											which = EstateProv_Unrest
											value = 0.6
										}
									}
									set_province_flag = loss
									subtract_variable = {
										which = EstateProv_Unrest
										value = 0.6
									}
								}
								else_if = {
									limit = {
										NOT = {
											check_variable = {
												which = EstateProv_Unrest
												value = 0.401
											}
										}
									}
									set_province_flag = gain
									subtract_variable = {
										which = EstateProv_Unrest
										value = 0.4
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = -1
									}
								}
								else = {
									set_variable = {
										which = EstateProv_Unrest
										value = 0
									}
								}
								multiply_variable = {
									which = EstateProv_Unrest
									value = 16.62
								}
								set_variable = {
									which = inp_m_exp
									which = EstateProv_Unrest
								}
								if = {
									limit = {
										NOT = {
											check_variable = {
												which = inp_m_exp
												value = 0
											}
										}
									}
									set_variable = {
										which = exp_val
										value = 0
									}
									change_variable = {
										which = err.math.exp.undef
										value = 1
									}
								}
								else_if = {
									limit = {
										is_variable_equal = {
											which = inp_m_exp
											value = 0
										}
									}
									set_variable = {
										which = exp_val
										value = 0
									}
								}
								else = {
									set_variable = {
										which = exp_m_exp
										value = 1.7
									}
									set_variable = {
										which = int_m_exp
										which = exp_m_exp
									}
									multiply_variable = {
										which = int_m_exp
										value = 0.001
									}
									multiply_variable = {
										which = int_m_exp
										value = 1000
									}
									set_variable = {
										which = dec_m_exp
										which = exp_m_exp
									}
									subtract_variable = {
										which = dec_m_exp
										which = int_m_exp
									}
									set_variable = {
										which = inp
										which = inp_m_exp
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = inp
													value = 0.001
												}
											}
										}
										set_variable = {
											which = ln_val
											value = 0
										}
										change_variable = {
											which = err.math.ln.undef
											value = 1
										}
									}
									else = {
										set_variable = {
											which = ln_val
											value = 0
										}
										set_variable = {
											which = scale
											value = 10000
										}
										set_variable = {
											which = k
											value = 0
										}
										set_variable = {
											which = k_div
											which = scale
										}
										while = {
											limit = {
												check_variable = {
													which = inp
													value = 2.001
												}
											}
											multiply_variable = {
												which = inp
												value = 0.5
											}
											change_variable = {
												which = ln_val
												value = 6931.472
											}
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = inp
														value = 1
													}
												}
											}
											multiply_variable = {
												which = inp
												value = 2
											}
											subtract_variable = {
												which = ln_val
												value = 6931.472
											}
										}
										multiply_variable = {
											which = inp
											which = scale
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = k
														value = 10
													}
												}
											}
											change_variable = {
												which = k
												value = 1
											}
											multiply_variable = {
												which = k_div
												value = 0.5
											}
											set_variable = {
												which = t_m_ln
												which = scale
											}
											change_variable = {
												which = t_m_ln
												which = k_div
											}
											if = {
												limit = {
													check_variable = {
														which = inp
														which = t_m_ln
													}
												}
												divide_variable = {
													which = inp
													which = t_m_ln
												}
												multiply_variable = {
													which = inp
													which = scale
												}
												set_variable = {
													which = lt_ind
													which = k
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 6
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 8
															}
														}
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 9
																}
															}
															if = {
																limit = {
																	check_variable = {
																		which = lt_ind
																		value = 10
																	}
																}
																set_variable = {
																	which = lt_val
																	value = 9.761
																}
															}
															else = {
																set_variable = {
																	which = lt_val
																	value = 19.512
																}
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 38.986
															}
														}
													}
													else = {
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 7
																}
															}
															set_variable = {
																which = lt_val
																value = 77.821
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 155.042
															}
														}
													}
												}
												else = {
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 3
															}
														}
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 4
																}
															}
															if = {
																limit = {
																	check_variable = {
																		which = lt_ind
																		value = 5
																	}
																}
																set_variable = {
																	which = lt_val
																	value = 307.717
																}
															}
															else = {
																set_variable = {
																	which = lt_val
																	value = 606.246
																}
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 1177.83
															}
														}
													}
													else = {
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 2
																}
															}
															set_variable = {
																which = lt_val
																value = 2231.436
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 4054.651
															}
														}
													}
												}
												set_variable = {
													which = lt_ind
													value = 0
												}
												change_variable = {
													which = ln_val
													which = lt_val
												}
											}
											set_variable = {
												which = t_m_ln
												value = 0
											}
										}
										divide_variable = {
											which = ln_val
											value = 10000
										}
										set_variable = {
											which = scale
											value = 0
										}
										set_variable = {
											which = k
											value = 0
										}
										set_variable = {
											which = k_div
											value = 0
										}
										set_variable = {
											which = lt_val
											value = 0
										}
									}
									set_variable = {
										which = inp
										value = 0
									}
									multiply_variable = {
										which = dec_m_exp
										which = ln_val
									}
									set_variable = {
										which = math.e.expnt
										which = dec_m_exp
									}
									set_variable = {
										which = math.e.return
										value = 1
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = math.e.expnt
													value = -6.999
												}
											}
										}
										set_variable = {
											which = exp_val
											value = 0
										}
									}
									else = {
										while = {
											limit = {
												check_variable = {
													which = math.e.expnt
													value = 1
												}
											}
											subtract_variable = {
												which = math.e.expnt
												value = 1
											}
											multiply_variable = {
												which = math.e.return
												value = 2.718
											}
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = math.e.expnt
														value = 0
													}
												}
											}
											change_variable = {
												which = math.e.expnt
												value = 1
											}
											divide_variable = {
												which = math.e.return
												value = 2.718
											}
										}
										set_variable = {
											which = math.e.sm
											value = 1
										}
										if = {
											limit = {
												NOT = {
													is_variable_equal = {
														which = math.e.expnt
														value = 0
													}
												}
											}
											set_variable = {
												which = math.e.sq
												which = math.e.expnt
											}
											multiply_variable = {
												which = math.e.sq
												which = math.e.expnt
											}
											set_variable = {
												which = math.e.fct
												value = 2
											}
											set_variable = {
												which = math.e.fctl
												value = 2
											}
											set_variable = {
												which = math.e.a1
												which = math.e.sq
											}
											set_variable = {
												which = math.e.a2
												which = math.e.expnt
											}
											set_variable = {
												which = math.e.a3
												value = 2
											}
											set_variable = {
												which = math.e.tmp
												which = math.e.a2
											}
											multiply_variable = {
												which = math.e.tmp
												which = math.e.a3
											}
											change_variable = {
												which = math.e.tmp
												which = math.e.a1
											}
											divide_variable = {
												which = math.e.tmp
												which = math.e.fct
											}
											change_variable = {
												which = math.e.sm
												which = math.e.tmp
											}
											set_variable = {
												which = math.e.prec
												value = 3
											}
											subtract_variable = {
												which = math.e.prec
												value = 1
											}
											while = {
												limit = {
													check_variable = {
														which = math.e.prec
														value = 1
													}
												}
												subtract_variable = {
													which = math.e.prec
													value = 1
												}
												change_variable = {
													which = math.e.fctl
													value = 1
												}
												multiply_variable = {
													which = math.e.fct
													which = math.e.fctl
												}
												change_variable = {
													which = math.e.fctl
													value = 1
												}
												multiply_variable = {
													which = math.e.fct
													which = math.e.fctl
												}
												multiply_variable = {
													which = math.e.a1
													which = math.e.sq
												}
												multiply_variable = {
													which = math.e.a2
													which = math.e.sq
												}
												change_variable = {
													which = math.e.a3
													value = 2
												}
												set_variable = {
													which = math.e.tmp
													which = math.e.a2
												}
												multiply_variable = {
													which = math.e.tmp
													which = math.e.a3
												}
												change_variable = {
													which = math.e.tmp
													which = math.e.a1
												}
												divide_variable = {
													which = math.e.tmp
													which = math.e.fct
												}
												change_variable = {
													which = math.e.sm
													which = math.e.tmp
												}
											}
										}
										multiply_variable = {
											which = math.e.return
											which = math.e.sm
										}
										set_variable = {
											which = exp_val
											which = math.e.return
										}
										set_variable = {
											which = math.e.sm
											value = 0
										}
										set_variable = {
											which = math.e.tmp
											value = 0
										}
										set_variable = {
											which = math.e.a1
											value = 0
										}
										set_variable = {
											which = math.e.a2
											value = 0
										}
										set_variable = {
											which = math.e.a3
											value = 0
										}
										set_variable = {
											which = math.e.fctl
											value = 0
										}
										set_variable = {
											which = math.e.fct
											value = 0
										}
										set_variable = {
											which = math.e.prec
											value = 0
										}
										set_variable = {
											which = math.e.sq
											value = 0
										}
									}
									set_variable = {
										which = math.e.expnt
										value = 0
									}
									set_variable = {
										which = math.e.return
										value = 0
									}
									while = {
										limit = {
											check_variable = {
												which = int_m_exp
												value = 1
											}
										}
										subtract_variable = {
											which = int_m_exp
											value = 1
										}
										multiply_variable = {
											which = exp_val
											which = inp_m_exp
										}
									}
									set_variable = {
										which = exp_m_exp
										value = 0
									}
									set_variable = {
										which = int_m_exp
										value = 0
									}
									set_variable = {
										which = dec_m_exp
										value = 0
									}
									set_variable = {
										which = ln_val
										value = 0
									}
								}
								set_variable = {
									which = inp_m_exp
									value = 0
								}
								set_variable = {
									which = EstateProv_Unrest
									which = exp_val
								}
								set_variable = {
									which = exp_val
									value = 0
								}
								export_to_variable = {
									which = EstateProv_LA
									value = local_autonomy
								}
								multiply_variable = {
									which = EstateProv_LA
									value = 0.008
								}
								change_variable = {
									which = EstateProv_LA
									value = 0.2
								}
								multiply_variable = {
									which = EstateProv_Unrest
									which = EstateProv_LA
								}
								set_variable = {
									which = EstateProv_Unrest_Inp
									which = EstateProv_Unrest
								}
								if = {
									limit = {
										has_province_flag = loss
									}
									clr_province_flag = loss
									multiply_variable = {
										which = EstateProv_Unrest
										value = -1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 0.1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 10
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 25.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 25.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_25.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_25.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_25.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 12.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 12.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_12.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_12.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_12.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 6.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 6.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_6.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_6.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_6.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 3.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 3.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_3.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_3.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_3.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 1.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 1.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_1.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_1.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_1.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.1
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.1
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.1
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.1
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.1
									}
								}
								else_if = {
									limit = {
										has_province_flag = gain
									}
									clr_province_flag = gain
									multiply_variable = {
										which = EstateProv_Unrest
										value = 1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 0.1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 10
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 25.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 25.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_25.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_25.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_25.6
										}
										remove_province_modifier = EstateProv_UnrestGain_25.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 12.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 12.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_12.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_12.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_12.8
										}
										remove_province_modifier = EstateProv_UnrestGain_12.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 6.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 6.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_6.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_6.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_6.4
										}
										remove_province_modifier = EstateProv_UnrestGain_6.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 3.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 3.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_3.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_3.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_3.2
										}
										remove_province_modifier = EstateProv_UnrestGain_3.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 1.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 1.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_1.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_1.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_1.6
										}
										remove_province_modifier = EstateProv_UnrestGain_1.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.8
										}
										remove_province_modifier = EstateProv_UnrestGain_0.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.4
										}
										remove_province_modifier = EstateProv_UnrestGain_0.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.2
										}
										remove_province_modifier = EstateProv_UnrestGain_0.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.1
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.1
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.1
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.1
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.1
										}
										remove_province_modifier = EstateProv_UnrestGain_0.1
									}
								}
								if = {
									limit = {
										check_variable = {
											which = EstateProv_UnrestSave
											value = 0.001
										}
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = EstateProv_Unrest
													value = 0.001
												}
											}
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_25.6
											}
											remove_province_modifier = EstateProv_UnrestGain_25.6
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_12.8
											}
											remove_province_modifier = EstateProv_UnrestGain_12.8
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_6.4
											}
											remove_province_modifier = EstateProv_UnrestGain_6.4
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_3.2
											}
											remove_province_modifier = EstateProv_UnrestGain_3.2
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_1.6
											}
											remove_province_modifier = EstateProv_UnrestGain_1.6
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.8
											}
											remove_province_modifier = EstateProv_UnrestGain_0.8
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.4
											}
											remove_province_modifier = EstateProv_UnrestGain_0.4
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.2
											}
											remove_province_modifier = EstateProv_UnrestGain_0.2
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.1
											}
											remove_province_modifier = EstateProv_UnrestGain_0.1
										}
									}
								}
								else_if = {
									limit = {
										NOT = {
											check_variable = {
												which = EstateProv_UnrestSave
												value = 0
											}
										}
										check_variable = {
											which = EstateProv_Unrest
											value = 0
										}
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_25.6
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_12.8
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_6.4
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_3.2
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_1.6
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.8
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.4
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.2
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.1
									}
								}
								if = {
									limit = {
										is_variable_equal = {
											which = EstateProv_Unrest
											value = 0
										}
									}
									set_variable = {
										which = EstateProv_Unrest
										value = 0
									}
								}
								set_variable = {
									which = EstateProv_UnrestSave
									value = 0
								}
								set_variable = {
									which = EstateProv_LA
									value = 0
								}
								set_variable = {
									which = EstateProv_Unrest_Inp
									value = 0
								}
							}
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = estate_lesser_nobles_weight_share
							value = 0.01
						}
					}
					tooltip = {
						add_estate_loyalty = {
							estate = estate_lesser_nobles
							loyalty = 30
						}
					}
					hidden_effect = {
						set_variable = {
							which = lesser_nobles_loyalty_added
							value = 30
						}
						if = {
							limit = {
								check_variable = {
									which = lesser_nobles_loyalty_added
									value = 64
								}
							}
							add_estate_loyalty = {
								estate = estate_lesser_nobles
								loyalty = 64
							}
							change_variable = {
								which = estate_lesser_nobles_loyalty
								value = 0.64
							}
							subtract_variable = {
								which = lesser_nobles_loyalty_added
								value = 64
							}
						}
						if = {
							limit = {
								check_variable = {
									which = lesser_nobles_loyalty_added
									value = 32
								}
							}
							add_estate_loyalty = {
								estate = estate_lesser_nobles
								loyalty = 32
							}
							change_variable = {
								which = estate_lesser_nobles_loyalty
								value = 0.32
							}
							subtract_variable = {
								which = lesser_nobles_loyalty_added
								value = 32
							}
						}
						if = {
							limit = {
								check_variable = {
									which = lesser_nobles_loyalty_added
									value = 16
								}
							}
							add_estate_loyalty = {
								estate = estate_lesser_nobles
								loyalty = 16
							}
							change_variable = {
								which = estate_lesser_nobles_loyalty
								value = 0.16
							}
							subtract_variable = {
								which = lesser_nobles_loyalty_added
								value = 16
							}
						}
						if = {
							limit = {
								check_variable = {
									which = lesser_nobles_loyalty_added
									value = 8
								}
							}
							add_estate_loyalty = {
								estate = estate_lesser_nobles
								loyalty = 8
							}
							change_variable = {
								which = estate_lesser_nobles_loyalty
								value = 0.08
							}
							subtract_variable = {
								which = lesser_nobles_loyalty_added
								value = 8
							}
						}
						if = {
							limit = {
								check_variable = {
									which = lesser_nobles_loyalty_added
									value = 4
								}
							}
							add_estate_loyalty = {
								estate = estate_lesser_nobles
								loyalty = 4
							}
							change_variable = {
								which = estate_lesser_nobles_loyalty
								value = 0.04
							}
							subtract_variable = {
								which = lesser_nobles_loyalty_added
								value = 4
							}
						}
						if = {
							limit = {
								check_variable = {
									which = lesser_nobles_loyalty_added
									value = 2
								}
							}
							add_estate_loyalty = {
								estate = estate_lesser_nobles
								loyalty = 2
							}
							change_variable = {
								which = estate_lesser_nobles_loyalty
								value = 0.02
							}
							subtract_variable = {
								which = lesser_nobles_loyalty_added
								value = 2
							}
						}
						if = {
							limit = {
								check_variable = {
									which = lesser_nobles_loyalty_added
									value = 1
								}
							}
							add_estate_loyalty = {
								estate = estate_lesser_nobles
								loyalty = 1
							}
							change_variable = {
								which = estate_lesser_nobles_loyalty
								value = 0.01
							}
							subtract_variable = {
								which = lesser_nobles_loyalty_added
								value = 1
							}
						}
						if = {
							limit = {
								check_variable = {
									which = estate_lesser_nobles_loyalty
									value = 1
								}
							}
							set_variable = {
								which = estate_lesser_nobles_loyalty
								value = 1
							}
						}
						every_owned_province = {
							limit = {
								has_province_flag = lesser_nobles_control_province
							}
							hidden_effect = {
								set_variable = {
									which = estate_lesser_nobles_loyalty
									which = owner
								}
								set_variable = {
									which = EstateProv_UnrestSave
									which = EstateProv_Unrest
								}
								set_variable = {
									which = EstateProv_Unrest
									which = estate_lesser_nobles_loyalty
								}
								set_variable = {
									which = estate_lesser_nobles_loyalty
									value = 0
								}
								if = {
									limit = {
										check_variable = {
											which = EstateProv_Unrest
											value = 0.6
										}
									}
									set_province_flag = loss
									subtract_variable = {
										which = EstateProv_Unrest
										value = 0.6
									}
								}
								else_if = {
									limit = {
										NOT = {
											check_variable = {
												which = EstateProv_Unrest
												value = 0.401
											}
										}
									}
									set_province_flag = gain
									subtract_variable = {
										which = EstateProv_Unrest
										value = 0.4
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = -1
									}
								}
								else = {
									set_variable = {
										which = EstateProv_Unrest
										value = 0
									}
								}
								multiply_variable = {
									which = EstateProv_Unrest
									value = 16.62
								}
								set_variable = {
									which = inp_m_exp
									which = EstateProv_Unrest
								}
								if = {
									limit = {
										NOT = {
											check_variable = {
												which = inp_m_exp
												value = 0
											}
										}
									}
									set_variable = {
										which = exp_val
										value = 0
									}
									change_variable = {
										which = err.math.exp.undef
										value = 1
									}
								}
								else_if = {
									limit = {
										is_variable_equal = {
											which = inp_m_exp
											value = 0
										}
									}
									set_variable = {
										which = exp_val
										value = 0
									}
								}
								else = {
									set_variable = {
										which = exp_m_exp
										value = 1.7
									}
									set_variable = {
										which = int_m_exp
										which = exp_m_exp
									}
									multiply_variable = {
										which = int_m_exp
										value = 0.001
									}
									multiply_variable = {
										which = int_m_exp
										value = 1000
									}
									set_variable = {
										which = dec_m_exp
										which = exp_m_exp
									}
									subtract_variable = {
										which = dec_m_exp
										which = int_m_exp
									}
									set_variable = {
										which = inp
										which = inp_m_exp
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = inp
													value = 0.001
												}
											}
										}
										set_variable = {
											which = ln_val
											value = 0
										}
										change_variable = {
											which = err.math.ln.undef
											value = 1
										}
									}
									else = {
										set_variable = {
											which = ln_val
											value = 0
										}
										set_variable = {
											which = scale
											value = 10000
										}
										set_variable = {
											which = k
											value = 0
										}
										set_variable = {
											which = k_div
											which = scale
										}
										while = {
											limit = {
												check_variable = {
													which = inp
													value = 2.001
												}
											}
											multiply_variable = {
												which = inp
												value = 0.5
											}
											change_variable = {
												which = ln_val
												value = 6931.472
											}
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = inp
														value = 1
													}
												}
											}
											multiply_variable = {
												which = inp
												value = 2
											}
											subtract_variable = {
												which = ln_val
												value = 6931.472
											}
										}
										multiply_variable = {
											which = inp
											which = scale
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = k
														value = 10
													}
												}
											}
											change_variable = {
												which = k
												value = 1
											}
											multiply_variable = {
												which = k_div
												value = 0.5
											}
											set_variable = {
												which = t_m_ln
												which = scale
											}
											change_variable = {
												which = t_m_ln
												which = k_div
											}
											if = {
												limit = {
													check_variable = {
														which = inp
														which = t_m_ln
													}
												}
												divide_variable = {
													which = inp
													which = t_m_ln
												}
												multiply_variable = {
													which = inp
													which = scale
												}
												set_variable = {
													which = lt_ind
													which = k
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 6
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 8
															}
														}
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 9
																}
															}
															if = {
																limit = {
																	check_variable = {
																		which = lt_ind
																		value = 10
																	}
																}
																set_variable = {
																	which = lt_val
																	value = 9.761
																}
															}
															else = {
																set_variable = {
																	which = lt_val
																	value = 19.512
																}
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 38.986
															}
														}
													}
													else = {
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 7
																}
															}
															set_variable = {
																which = lt_val
																value = 77.821
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 155.042
															}
														}
													}
												}
												else = {
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 3
															}
														}
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 4
																}
															}
															if = {
																limit = {
																	check_variable = {
																		which = lt_ind
																		value = 5
																	}
																}
																set_variable = {
																	which = lt_val
																	value = 307.717
																}
															}
															else = {
																set_variable = {
																	which = lt_val
																	value = 606.246
																}
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 1177.83
															}
														}
													}
													else = {
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 2
																}
															}
															set_variable = {
																which = lt_val
																value = 2231.436
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 4054.651
															}
														}
													}
												}
												set_variable = {
													which = lt_ind
													value = 0
												}
												change_variable = {
													which = ln_val
													which = lt_val
												}
											}
											set_variable = {
												which = t_m_ln
												value = 0
											}
										}
										divide_variable = {
											which = ln_val
											value = 10000
										}
										set_variable = {
											which = scale
											value = 0
										}
										set_variable = {
											which = k
											value = 0
										}
										set_variable = {
											which = k_div
											value = 0
										}
										set_variable = {
											which = lt_val
											value = 0
										}
									}
									set_variable = {
										which = inp
										value = 0
									}
									multiply_variable = {
										which = dec_m_exp
										which = ln_val
									}
									set_variable = {
										which = math.e.expnt
										which = dec_m_exp
									}
									set_variable = {
										which = math.e.return
										value = 1
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = math.e.expnt
													value = -6.999
												}
											}
										}
										set_variable = {
											which = exp_val
											value = 0
										}
									}
									else = {
										while = {
											limit = {
												check_variable = {
													which = math.e.expnt
													value = 1
												}
											}
											subtract_variable = {
												which = math.e.expnt
												value = 1
											}
											multiply_variable = {
												which = math.e.return
												value = 2.718
											}
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = math.e.expnt
														value = 0
													}
												}
											}
											change_variable = {
												which = math.e.expnt
												value = 1
											}
											divide_variable = {
												which = math.e.return
												value = 2.718
											}
										}
										set_variable = {
											which = math.e.sm
											value = 1
										}
										if = {
											limit = {
												NOT = {
													is_variable_equal = {
														which = math.e.expnt
														value = 0
													}
												}
											}
											set_variable = {
												which = math.e.sq
												which = math.e.expnt
											}
											multiply_variable = {
												which = math.e.sq
												which = math.e.expnt
											}
											set_variable = {
												which = math.e.fct
												value = 2
											}
											set_variable = {
												which = math.e.fctl
												value = 2
											}
											set_variable = {
												which = math.e.a1
												which = math.e.sq
											}
											set_variable = {
												which = math.e.a2
												which = math.e.expnt
											}
											set_variable = {
												which = math.e.a3
												value = 2
											}
											set_variable = {
												which = math.e.tmp
												which = math.e.a2
											}
											multiply_variable = {
												which = math.e.tmp
												which = math.e.a3
											}
											change_variable = {
												which = math.e.tmp
												which = math.e.a1
											}
											divide_variable = {
												which = math.e.tmp
												which = math.e.fct
											}
											change_variable = {
												which = math.e.sm
												which = math.e.tmp
											}
											set_variable = {
												which = math.e.prec
												value = 3
											}
											subtract_variable = {
												which = math.e.prec
												value = 1
											}
											while = {
												limit = {
													check_variable = {
														which = math.e.prec
														value = 1
													}
												}
												subtract_variable = {
													which = math.e.prec
													value = 1
												}
												change_variable = {
													which = math.e.fctl
													value = 1
												}
												multiply_variable = {
													which = math.e.fct
													which = math.e.fctl
												}
												change_variable = {
													which = math.e.fctl
													value = 1
												}
												multiply_variable = {
													which = math.e.fct
													which = math.e.fctl
												}
												multiply_variable = {
													which = math.e.a1
													which = math.e.sq
												}
												multiply_variable = {
													which = math.e.a2
													which = math.e.sq
												}
												change_variable = {
													which = math.e.a3
													value = 2
												}
												set_variable = {
													which = math.e.tmp
													which = math.e.a2
												}
												multiply_variable = {
													which = math.e.tmp
													which = math.e.a3
												}
												change_variable = {
													which = math.e.tmp
													which = math.e.a1
												}
												divide_variable = {
													which = math.e.tmp
													which = math.e.fct
												}
												change_variable = {
													which = math.e.sm
													which = math.e.tmp
												}
											}
										}
										multiply_variable = {
											which = math.e.return
											which = math.e.sm
										}
										set_variable = {
											which = exp_val
											which = math.e.return
										}
										set_variable = {
											which = math.e.sm
											value = 0
										}
										set_variable = {
											which = math.e.tmp
											value = 0
										}
										set_variable = {
											which = math.e.a1
											value = 0
										}
										set_variable = {
											which = math.e.a2
											value = 0
										}
										set_variable = {
											which = math.e.a3
											value = 0
										}
										set_variable = {
											which = math.e.fctl
											value = 0
										}
										set_variable = {
											which = math.e.fct
											value = 0
										}
										set_variable = {
											which = math.e.prec
											value = 0
										}
										set_variable = {
											which = math.e.sq
											value = 0
										}
									}
									set_variable = {
										which = math.e.expnt
										value = 0
									}
									set_variable = {
										which = math.e.return
										value = 0
									}
									while = {
										limit = {
											check_variable = {
												which = int_m_exp
												value = 1
											}
										}
										subtract_variable = {
											which = int_m_exp
											value = 1
										}
										multiply_variable = {
											which = exp_val
											which = inp_m_exp
										}
									}
									set_variable = {
										which = exp_m_exp
										value = 0
									}
									set_variable = {
										which = int_m_exp
										value = 0
									}
									set_variable = {
										which = dec_m_exp
										value = 0
									}
									set_variable = {
										which = ln_val
										value = 0
									}
								}
								set_variable = {
									which = inp_m_exp
									value = 0
								}
								set_variable = {
									which = EstateProv_Unrest
									which = exp_val
								}
								set_variable = {
									which = exp_val
									value = 0
								}
								export_to_variable = {
									which = EstateProv_LA
									value = local_autonomy
								}
								multiply_variable = {
									which = EstateProv_LA
									value = 0.008
								}
								change_variable = {
									which = EstateProv_LA
									value = 0.2
								}
								multiply_variable = {
									which = EstateProv_Unrest
									which = EstateProv_LA
								}
								set_variable = {
									which = EstateProv_Unrest_Inp
									which = EstateProv_Unrest
								}
								if = {
									limit = {
										has_province_flag = loss
									}
									clr_province_flag = loss
									multiply_variable = {
										which = EstateProv_Unrest
										value = -1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 0.1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 10
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 25.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 25.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_25.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_25.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_25.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 12.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 12.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_12.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_12.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_12.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 6.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 6.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_6.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_6.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_6.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 3.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 3.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_3.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_3.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_3.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 1.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 1.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_1.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_1.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_1.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.1
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.1
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.1
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.1
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.1
									}
								}
								else_if = {
									limit = {
										has_province_flag = gain
									}
									clr_province_flag = gain
									multiply_variable = {
										which = EstateProv_Unrest
										value = 1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 0.1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 10
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 25.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 25.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_25.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_25.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_25.6
										}
										remove_province_modifier = EstateProv_UnrestGain_25.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 12.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 12.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_12.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_12.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_12.8
										}
										remove_province_modifier = EstateProv_UnrestGain_12.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 6.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 6.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_6.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_6.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_6.4
										}
										remove_province_modifier = EstateProv_UnrestGain_6.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 3.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 3.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_3.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_3.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_3.2
										}
										remove_province_modifier = EstateProv_UnrestGain_3.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 1.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 1.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_1.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_1.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_1.6
										}
										remove_province_modifier = EstateProv_UnrestGain_1.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.8
										}
										remove_province_modifier = EstateProv_UnrestGain_0.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.4
										}
										remove_province_modifier = EstateProv_UnrestGain_0.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.2
										}
										remove_province_modifier = EstateProv_UnrestGain_0.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.1
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.1
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.1
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.1
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.1
										}
										remove_province_modifier = EstateProv_UnrestGain_0.1
									}
								}
								if = {
									limit = {
										check_variable = {
											which = EstateProv_UnrestSave
											value = 0.001
										}
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = EstateProv_Unrest
													value = 0.001
												}
											}
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_25.6
											}
											remove_province_modifier = EstateProv_UnrestGain_25.6
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_12.8
											}
											remove_province_modifier = EstateProv_UnrestGain_12.8
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_6.4
											}
											remove_province_modifier = EstateProv_UnrestGain_6.4
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_3.2
											}
											remove_province_modifier = EstateProv_UnrestGain_3.2
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_1.6
											}
											remove_province_modifier = EstateProv_UnrestGain_1.6
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.8
											}
											remove_province_modifier = EstateProv_UnrestGain_0.8
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.4
											}
											remove_province_modifier = EstateProv_UnrestGain_0.4
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.2
											}
											remove_province_modifier = EstateProv_UnrestGain_0.2
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.1
											}
											remove_province_modifier = EstateProv_UnrestGain_0.1
										}
									}
								}
								else_if = {
									limit = {
										NOT = {
											check_variable = {
												which = EstateProv_UnrestSave
												value = 0
											}
										}
										check_variable = {
											which = EstateProv_Unrest
											value = 0
										}
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_25.6
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_12.8
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_6.4
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_3.2
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_1.6
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.8
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.4
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.2
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.1
									}
								}
								if = {
									limit = {
										is_variable_equal = {
											which = EstateProv_Unrest
											value = 0
										}
									}
									set_variable = {
										which = EstateProv_Unrest
										value = 0
									}
								}
								set_variable = {
									which = EstateProv_UnrestSave
									value = 0
								}
								set_variable = {
									which = EstateProv_LA
									value = 0
								}
								set_variable = {
									which = EstateProv_Unrest_Inp
									value = 0
								}
							}
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = estate_tribals_weight_share
							value = 0.01
						}
					}
					tooltip = {
						add_estate_loyalty = {
							estate = estate_tribes
							loyalty = 30
						}
					}
					hidden_effect = {
						set_variable = {
							which = tribes_loyalty_added
							value = 30
						}
						if = {
							limit = {
								check_variable = {
									which = tribes_loyalty_added
									value = 64
								}
							}
							add_estate_loyalty = {
								estate = estate_tribes
								loyalty = 64
							}
							change_variable = {
								which = estate_tribals_loyalty
								value = 0.64
							}
							subtract_variable = {
								which = tribes_loyalty_added
								value = 64
							}
						}
						if = {
							limit = {
								check_variable = {
									which = tribes_loyalty_added
									value = 32
								}
							}
							add_estate_loyalty = {
								estate = estate_tribes
								loyalty = 32
							}
							change_variable = {
								which = estate_tribals_loyalty
								value = 0.32
							}
							subtract_variable = {
								which = tribes_loyalty_added
								value = 32
							}
						}
						if = {
							limit = {
								check_variable = {
									which = tribes_loyalty_added
									value = 16
								}
							}
							add_estate_loyalty = {
								estate = estate_tribes
								loyalty = 16
							}
							change_variable = {
								which = estate_tribals_loyalty
								value = 0.16
							}
							subtract_variable = {
								which = tribes_loyalty_added
								value = 16
							}
						}
						if = {
							limit = {
								check_variable = {
									which = tribes_loyalty_added
									value = 8
								}
							}
							add_estate_loyalty = {
								estate = estate_tribes
								loyalty = 8
							}
							change_variable = {
								which = estate_tribals_loyalty
								value = 0.08
							}
							subtract_variable = {
								which = tribes_loyalty_added
								value = 8
							}
						}
						if = {
							limit = {
								check_variable = {
									which = tribes_loyalty_added
									value = 4
								}
							}
							add_estate_loyalty = {
								estate = estate_tribes
								loyalty = 4
							}
							change_variable = {
								which = estate_tribals_loyalty
								value = 0.04
							}
							subtract_variable = {
								which = tribes_loyalty_added
								value = 4
							}
						}
						if = {
							limit = {
								check_variable = {
									which = tribes_loyalty_added
									value = 2
								}
							}
							add_estate_loyalty = {
								estate = estate_tribes
								loyalty = 2
							}
							change_variable = {
								which = estate_tribals_loyalty
								value = 0.02
							}
							subtract_variable = {
								which = tribes_loyalty_added
								value = 2
							}
						}
						if = {
							limit = {
								check_variable = {
									which = tribes_loyalty_added
									value = 1
								}
							}
							add_estate_loyalty = {
								estate = estate_tribes
								loyalty = 1
							}
							change_variable = {
								which = estate_tribals_loyalty
								value = 0.01
							}
							subtract_variable = {
								which = tribes_loyalty_added
								value = 1
							}
						}
						if = {
							limit = {
								check_variable = {
									which = estate_tribals_loyalty
									value = 1
								}
							}
							set_variable = {
								which = estate_tribals_loyalty
								value = 1
							}
						}
						every_owned_province = {
							limit = {
								has_province_flag = tribals_control_province
							}
							hidden_effect = {
								set_variable = {
									which = estate_tribals_loyalty
									which = owner
								}
								set_variable = {
									which = EstateProv_UnrestSave
									which = EstateProv_Unrest
								}
								set_variable = {
									which = EstateProv_Unrest
									which = estate_tribals_loyalty
								}
								set_variable = {
									which = estate_tribals_loyalty
									value = 0
								}
								if = {
									limit = {
										check_variable = {
											which = EstateProv_Unrest
											value = 0.6
										}
									}
									set_province_flag = loss
									subtract_variable = {
										which = EstateProv_Unrest
										value = 0.6
									}
								}
								else_if = {
									limit = {
										NOT = {
											check_variable = {
												which = EstateProv_Unrest
												value = 0.401
											}
										}
									}
									set_province_flag = gain
									subtract_variable = {
										which = EstateProv_Unrest
										value = 0.4
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = -1
									}
								}
								else = {
									set_variable = {
										which = EstateProv_Unrest
										value = 0
									}
								}
								multiply_variable = {
									which = EstateProv_Unrest
									value = 16.62
								}
								set_variable = {
									which = inp_m_exp
									which = EstateProv_Unrest
								}
								if = {
									limit = {
										NOT = {
											check_variable = {
												which = inp_m_exp
												value = 0
											}
										}
									}
									set_variable = {
										which = exp_val
										value = 0
									}
									change_variable = {
										which = err.math.exp.undef
										value = 1
									}
								}
								else_if = {
									limit = {
										is_variable_equal = {
											which = inp_m_exp
											value = 0
										}
									}
									set_variable = {
										which = exp_val
										value = 0
									}
								}
								else = {
									set_variable = {
										which = exp_m_exp
										value = 1.7
									}
									set_variable = {
										which = int_m_exp
										which = exp_m_exp
									}
									multiply_variable = {
										which = int_m_exp
										value = 0.001
									}
									multiply_variable = {
										which = int_m_exp
										value = 1000
									}
									set_variable = {
										which = dec_m_exp
										which = exp_m_exp
									}
									subtract_variable = {
										which = dec_m_exp
										which = int_m_exp
									}
									set_variable = {
										which = inp
										which = inp_m_exp
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = inp
													value = 0.001
												}
											}
										}
										set_variable = {
											which = ln_val
											value = 0
										}
										change_variable = {
											which = err.math.ln.undef
											value = 1
										}
									}
									else = {
										set_variable = {
											which = ln_val
											value = 0
										}
										set_variable = {
											which = scale
											value = 10000
										}
										set_variable = {
											which = k
											value = 0
										}
										set_variable = {
											which = k_div
											which = scale
										}
										while = {
											limit = {
												check_variable = {
													which = inp
													value = 2.001
												}
											}
											multiply_variable = {
												which = inp
												value = 0.5
											}
											change_variable = {
												which = ln_val
												value = 6931.472
											}
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = inp
														value = 1
													}
												}
											}
											multiply_variable = {
												which = inp
												value = 2
											}
											subtract_variable = {
												which = ln_val
												value = 6931.472
											}
										}
										multiply_variable = {
											which = inp
											which = scale
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = k
														value = 10
													}
												}
											}
											change_variable = {
												which = k
												value = 1
											}
											multiply_variable = {
												which = k_div
												value = 0.5
											}
											set_variable = {
												which = t_m_ln
												which = scale
											}
											change_variable = {
												which = t_m_ln
												which = k_div
											}
											if = {
												limit = {
													check_variable = {
														which = inp
														which = t_m_ln
													}
												}
												divide_variable = {
													which = inp
													which = t_m_ln
												}
												multiply_variable = {
													which = inp
													which = scale
												}
												set_variable = {
													which = lt_ind
													which = k
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 6
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 8
															}
														}
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 9
																}
															}
															if = {
																limit = {
																	check_variable = {
																		which = lt_ind
																		value = 10
																	}
																}
																set_variable = {
																	which = lt_val
																	value = 9.761
																}
															}
															else = {
																set_variable = {
																	which = lt_val
																	value = 19.512
																}
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 38.986
															}
														}
													}
													else = {
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 7
																}
															}
															set_variable = {
																which = lt_val
																value = 77.821
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 155.042
															}
														}
													}
												}
												else = {
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 3
															}
														}
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 4
																}
															}
															if = {
																limit = {
																	check_variable = {
																		which = lt_ind
																		value = 5
																	}
																}
																set_variable = {
																	which = lt_val
																	value = 307.717
																}
															}
															else = {
																set_variable = {
																	which = lt_val
																	value = 606.246
																}
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 1177.83
															}
														}
													}
													else = {
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 2
																}
															}
															set_variable = {
																which = lt_val
																value = 2231.436
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 4054.651
															}
														}
													}
												}
												set_variable = {
													which = lt_ind
													value = 0
												}
												change_variable = {
													which = ln_val
													which = lt_val
												}
											}
											set_variable = {
												which = t_m_ln
												value = 0
											}
										}
										divide_variable = {
											which = ln_val
											value = 10000
										}
										set_variable = {
											which = scale
											value = 0
										}
										set_variable = {
											which = k
											value = 0
										}
										set_variable = {
											which = k_div
											value = 0
										}
										set_variable = {
											which = lt_val
											value = 0
										}
									}
									set_variable = {
										which = inp
										value = 0
									}
									multiply_variable = {
										which = dec_m_exp
										which = ln_val
									}
									set_variable = {
										which = math.e.expnt
										which = dec_m_exp
									}
									set_variable = {
										which = math.e.return
										value = 1
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = math.e.expnt
													value = -6.999
												}
											}
										}
										set_variable = {
											which = exp_val
											value = 0
										}
									}
									else = {
										while = {
											limit = {
												check_variable = {
													which = math.e.expnt
													value = 1
												}
											}
											subtract_variable = {
												which = math.e.expnt
												value = 1
											}
											multiply_variable = {
												which = math.e.return
												value = 2.718
											}
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = math.e.expnt
														value = 0
													}
												}
											}
											change_variable = {
												which = math.e.expnt
												value = 1
											}
											divide_variable = {
												which = math.e.return
												value = 2.718
											}
										}
										set_variable = {
											which = math.e.sm
											value = 1
										}
										if = {
											limit = {
												NOT = {
													is_variable_equal = {
														which = math.e.expnt
														value = 0
													}
												}
											}
											set_variable = {
												which = math.e.sq
												which = math.e.expnt
											}
											multiply_variable = {
												which = math.e.sq
												which = math.e.expnt
											}
											set_variable = {
												which = math.e.fct
												value = 2
											}
											set_variable = {
												which = math.e.fctl
												value = 2
											}
											set_variable = {
												which = math.e.a1
												which = math.e.sq
											}
											set_variable = {
												which = math.e.a2
												which = math.e.expnt
											}
											set_variable = {
												which = math.e.a3
												value = 2
											}
											set_variable = {
												which = math.e.tmp
												which = math.e.a2
											}
											multiply_variable = {
												which = math.e.tmp
												which = math.e.a3
											}
											change_variable = {
												which = math.e.tmp
												which = math.e.a1
											}
											divide_variable = {
												which = math.e.tmp
												which = math.e.fct
											}
											change_variable = {
												which = math.e.sm
												which = math.e.tmp
											}
											set_variable = {
												which = math.e.prec
												value = 3
											}
											subtract_variable = {
												which = math.e.prec
												value = 1
											}
											while = {
												limit = {
													check_variable = {
														which = math.e.prec
														value = 1
													}
												}
												subtract_variable = {
													which = math.e.prec
													value = 1
												}
												change_variable = {
													which = math.e.fctl
													value = 1
												}
												multiply_variable = {
													which = math.e.fct
													which = math.e.fctl
												}
												change_variable = {
													which = math.e.fctl
													value = 1
												}
												multiply_variable = {
													which = math.e.fct
													which = math.e.fctl
												}
												multiply_variable = {
													which = math.e.a1
													which = math.e.sq
												}
												multiply_variable = {
													which = math.e.a2
													which = math.e.sq
												}
												change_variable = {
													which = math.e.a3
													value = 2
												}
												set_variable = {
													which = math.e.tmp
													which = math.e.a2
												}
												multiply_variable = {
													which = math.e.tmp
													which = math.e.a3
												}
												change_variable = {
													which = math.e.tmp
													which = math.e.a1
												}
												divide_variable = {
													which = math.e.tmp
													which = math.e.fct
												}
												change_variable = {
													which = math.e.sm
													which = math.e.tmp
												}
											}
										}
										multiply_variable = {
											which = math.e.return
											which = math.e.sm
										}
										set_variable = {
											which = exp_val
											which = math.e.return
										}
										set_variable = {
											which = math.e.sm
											value = 0
										}
										set_variable = {
											which = math.e.tmp
											value = 0
										}
										set_variable = {
											which = math.e.a1
											value = 0
										}
										set_variable = {
											which = math.e.a2
											value = 0
										}
										set_variable = {
											which = math.e.a3
											value = 0
										}
										set_variable = {
											which = math.e.fctl
											value = 0
										}
										set_variable = {
											which = math.e.fct
											value = 0
										}
										set_variable = {
											which = math.e.prec
											value = 0
										}
										set_variable = {
											which = math.e.sq
											value = 0
										}
									}
									set_variable = {
										which = math.e.expnt
										value = 0
									}
									set_variable = {
										which = math.e.return
										value = 0
									}
									while = {
										limit = {
											check_variable = {
												which = int_m_exp
												value = 1
											}
										}
										subtract_variable = {
											which = int_m_exp
											value = 1
										}
										multiply_variable = {
											which = exp_val
											which = inp_m_exp
										}
									}
									set_variable = {
										which = exp_m_exp
										value = 0
									}
									set_variable = {
										which = int_m_exp
										value = 0
									}
									set_variable = {
										which = dec_m_exp
										value = 0
									}
									set_variable = {
										which = ln_val
										value = 0
									}
								}
								set_variable = {
									which = inp_m_exp
									value = 0
								}
								set_variable = {
									which = EstateProv_Unrest
									which = exp_val
								}
								set_variable = {
									which = exp_val
									value = 0
								}
								export_to_variable = {
									which = EstateProv_LA
									value = local_autonomy
								}
								multiply_variable = {
									which = EstateProv_LA
									value = 0.008
								}
								change_variable = {
									which = EstateProv_LA
									value = 0.2
								}
								multiply_variable = {
									which = EstateProv_Unrest
									which = EstateProv_LA
								}
								set_variable = {
									which = EstateProv_Unrest_Inp
									which = EstateProv_Unrest
								}
								if = {
									limit = {
										has_province_flag = loss
									}
									clr_province_flag = loss
									multiply_variable = {
										which = EstateProv_Unrest
										value = -1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 0.1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 10
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 25.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 25.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_25.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_25.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_25.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 12.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 12.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_12.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_12.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_12.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 6.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 6.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_6.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_6.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_6.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 3.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 3.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_3.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_3.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_3.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 1.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 1.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_1.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_1.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_1.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.1
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.1
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.1
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.1
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.1
									}
								}
								else_if = {
									limit = {
										has_province_flag = gain
									}
									clr_province_flag = gain
									multiply_variable = {
										which = EstateProv_Unrest
										value = 1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 0.1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 10
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 25.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 25.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_25.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_25.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_25.6
										}
										remove_province_modifier = EstateProv_UnrestGain_25.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 12.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 12.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_12.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_12.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_12.8
										}
										remove_province_modifier = EstateProv_UnrestGain_12.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 6.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 6.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_6.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_6.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_6.4
										}
										remove_province_modifier = EstateProv_UnrestGain_6.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 3.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 3.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_3.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_3.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_3.2
										}
										remove_province_modifier = EstateProv_UnrestGain_3.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 1.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 1.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_1.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_1.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_1.6
										}
										remove_province_modifier = EstateProv_UnrestGain_1.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.8
										}
										remove_province_modifier = EstateProv_UnrestGain_0.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.4
										}
										remove_province_modifier = EstateProv_UnrestGain_0.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.2
										}
										remove_province_modifier = EstateProv_UnrestGain_0.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.1
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.1
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.1
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.1
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.1
										}
										remove_province_modifier = EstateProv_UnrestGain_0.1
									}
								}
								if = {
									limit = {
										check_variable = {
											which = EstateProv_UnrestSave
											value = 0.001
										}
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = EstateProv_Unrest
													value = 0.001
												}
											}
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_25.6
											}
											remove_province_modifier = EstateProv_UnrestGain_25.6
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_12.8
											}
											remove_province_modifier = EstateProv_UnrestGain_12.8
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_6.4
											}
											remove_province_modifier = EstateProv_UnrestGain_6.4
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_3.2
											}
											remove_province_modifier = EstateProv_UnrestGain_3.2
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_1.6
											}
											remove_province_modifier = EstateProv_UnrestGain_1.6
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.8
											}
											remove_province_modifier = EstateProv_UnrestGain_0.8
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.4
											}
											remove_province_modifier = EstateProv_UnrestGain_0.4
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.2
											}
											remove_province_modifier = EstateProv_UnrestGain_0.2
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.1
											}
											remove_province_modifier = EstateProv_UnrestGain_0.1
										}
									}
								}
								else_if = {
									limit = {
										NOT = {
											check_variable = {
												which = EstateProv_UnrestSave
												value = 0
											}
										}
										check_variable = {
											which = EstateProv_Unrest
											value = 0
										}
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_25.6
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_12.8
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_6.4
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_3.2
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_1.6
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.8
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.4
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.2
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.1
									}
								}
								if = {
									limit = {
										is_variable_equal = {
											which = EstateProv_Unrest
											value = 0
										}
									}
									set_variable = {
										which = EstateProv_Unrest
										value = 0
									}
								}
								set_variable = {
									which = EstateProv_UnrestSave
									value = 0
								}
								set_variable = {
									which = EstateProv_LA
									value = 0
								}
								set_variable = {
									which = EstateProv_Unrest_Inp
									value = 0
								}
							}
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = estate_burghers_weight_share
							value = 0.01
						}
					}
					tooltip = {
						add_estate_loyalty = {
							estate = estate_city_burghers
							loyalty = 20
						}
					}
					hidden_effect = {
						set_variable = {
							which = burghers_loyalty_added
							value = 20
						}
						if = {
							limit = {
								check_variable = {
									which = burghers_loyalty_added
									value = 64
								}
							}
							add_estate_loyalty = {
								estate = estate_city_burghers
								loyalty = 64
							}
							change_variable = {
								which = estate_burghers_loyalty
								value = 0.64
							}
							subtract_variable = {
								which = burghers_loyalty_added
								value = 64
							}
						}
						if = {
							limit = {
								check_variable = {
									which = burghers_loyalty_added
									value = 32
								}
							}
							add_estate_loyalty = {
								estate = estate_city_burghers
								loyalty = 32
							}
							change_variable = {
								which = estate_burghers_loyalty
								value = 0.32
							}
							subtract_variable = {
								which = burghers_loyalty_added
								value = 32
							}
						}
						if = {
							limit = {
								check_variable = {
									which = burghers_loyalty_added
									value = 16
								}
							}
							add_estate_loyalty = {
								estate = estate_city_burghers
								loyalty = 16
							}
							change_variable = {
								which = estate_burghers_loyalty
								value = 0.16
							}
							subtract_variable = {
								which = burghers_loyalty_added
								value = 16
							}
						}
						if = {
							limit = {
								check_variable = {
									which = burghers_loyalty_added
									value = 8
								}
							}
							add_estate_loyalty = {
								estate = estate_city_burghers
								loyalty = 8
							}
							change_variable = {
								which = estate_burghers_loyalty
								value = 0.08
							}
							subtract_variable = {
								which = burghers_loyalty_added
								value = 8
							}
						}
						if = {
							limit = {
								check_variable = {
									which = burghers_loyalty_added
									value = 4
								}
							}
							add_estate_loyalty = {
								estate = estate_city_burghers
								loyalty = 4
							}
							change_variable = {
								which = estate_burghers_loyalty
								value = 0.04
							}
							subtract_variable = {
								which = burghers_loyalty_added
								value = 4
							}
						}
						if = {
							limit = {
								check_variable = {
									which = burghers_loyalty_added
									value = 2
								}
							}
							add_estate_loyalty = {
								estate = estate_city_burghers
								loyalty = 2
							}
							change_variable = {
								which = estate_burghers_loyalty
								value = 0.02
							}
							subtract_variable = {
								which = burghers_loyalty_added
								value = 2
							}
						}
						if = {
							limit = {
								check_variable = {
									which = burghers_loyalty_added
									value = 1
								}
							}
							add_estate_loyalty = {
								estate = estate_city_burghers
								loyalty = 1
							}
							change_variable = {
								which = estate_burghers_loyalty
								value = 0.01
							}
							subtract_variable = {
								which = burghers_loyalty_added
								value = 1
							}
						}
						if = {
							limit = {
								check_variable = {
									which = estate_burghers_loyalty
									value = 1
								}
							}
							set_variable = {
								which = estate_burghers_loyalty
								value = 1
							}
						}
						every_owned_province = {
							limit = {
								has_province_flag = burghers_control_province
							}
							hidden_effect = {
								set_variable = {
									which = estate_burghers_loyalty
									which = owner
								}
								set_variable = {
									which = EstateProv_UnrestSave
									which = EstateProv_Unrest
								}
								set_variable = {
									which = EstateProv_Unrest
									which = estate_burghers_loyalty
								}
								set_variable = {
									which = estate_burghers_loyalty
									value = 0
								}
								if = {
									limit = {
										check_variable = {
											which = EstateProv_Unrest
											value = 0.6
										}
									}
									set_province_flag = loss
									subtract_variable = {
										which = EstateProv_Unrest
										value = 0.6
									}
								}
								else_if = {
									limit = {
										NOT = {
											check_variable = {
												which = EstateProv_Unrest
												value = 0.401
											}
										}
									}
									set_province_flag = gain
									subtract_variable = {
										which = EstateProv_Unrest
										value = 0.4
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = -1
									}
								}
								else = {
									set_variable = {
										which = EstateProv_Unrest
										value = 0
									}
								}
								multiply_variable = {
									which = EstateProv_Unrest
									value = 16.62
								}
								set_variable = {
									which = inp_m_exp
									which = EstateProv_Unrest
								}
								if = {
									limit = {
										NOT = {
											check_variable = {
												which = inp_m_exp
												value = 0
											}
										}
									}
									set_variable = {
										which = exp_val
										value = 0
									}
									change_variable = {
										which = err.math.exp.undef
										value = 1
									}
								}
								else_if = {
									limit = {
										is_variable_equal = {
											which = inp_m_exp
											value = 0
										}
									}
									set_variable = {
										which = exp_val
										value = 0
									}
								}
								else = {
									set_variable = {
										which = exp_m_exp
										value = 1.7
									}
									set_variable = {
										which = int_m_exp
										which = exp_m_exp
									}
									multiply_variable = {
										which = int_m_exp
										value = 0.001
									}
									multiply_variable = {
										which = int_m_exp
										value = 1000
									}
									set_variable = {
										which = dec_m_exp
										which = exp_m_exp
									}
									subtract_variable = {
										which = dec_m_exp
										which = int_m_exp
									}
									set_variable = {
										which = inp
										which = inp_m_exp
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = inp
													value = 0.001
												}
											}
										}
										set_variable = {
											which = ln_val
											value = 0
										}
										change_variable = {
											which = err.math.ln.undef
											value = 1
										}
									}
									else = {
										set_variable = {
											which = ln_val
											value = 0
										}
										set_variable = {
											which = scale
											value = 10000
										}
										set_variable = {
											which = k
											value = 0
										}
										set_variable = {
											which = k_div
											which = scale
										}
										while = {
											limit = {
												check_variable = {
													which = inp
													value = 2.001
												}
											}
											multiply_variable = {
												which = inp
												value = 0.5
											}
											change_variable = {
												which = ln_val
												value = 6931.472
											}
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = inp
														value = 1
													}
												}
											}
											multiply_variable = {
												which = inp
												value = 2
											}
											subtract_variable = {
												which = ln_val
												value = 6931.472
											}
										}
										multiply_variable = {
											which = inp
											which = scale
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = k
														value = 10
													}
												}
											}
											change_variable = {
												which = k
												value = 1
											}
											multiply_variable = {
												which = k_div
												value = 0.5
											}
											set_variable = {
												which = t_m_ln
												which = scale
											}
											change_variable = {
												which = t_m_ln
												which = k_div
											}
											if = {
												limit = {
													check_variable = {
														which = inp
														which = t_m_ln
													}
												}
												divide_variable = {
													which = inp
													which = t_m_ln
												}
												multiply_variable = {
													which = inp
													which = scale
												}
												set_variable = {
													which = lt_ind
													which = k
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 6
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 8
															}
														}
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 9
																}
															}
															if = {
																limit = {
																	check_variable = {
																		which = lt_ind
																		value = 10
																	}
																}
																set_variable = {
																	which = lt_val
																	value = 9.761
																}
															}
															else = {
																set_variable = {
																	which = lt_val
																	value = 19.512
																}
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 38.986
															}
														}
													}
													else = {
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 7
																}
															}
															set_variable = {
																which = lt_val
																value = 77.821
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 155.042
															}
														}
													}
												}
												else = {
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 3
															}
														}
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 4
																}
															}
															if = {
																limit = {
																	check_variable = {
																		which = lt_ind
																		value = 5
																	}
																}
																set_variable = {
																	which = lt_val
																	value = 307.717
																}
															}
															else = {
																set_variable = {
																	which = lt_val
																	value = 606.246
																}
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 1177.83
															}
														}
													}
													else = {
														if = {
															limit = {
																check_variable = {
																	which = lt_ind
																	value = 2
																}
															}
															set_variable = {
																which = lt_val
																value = 2231.436
															}
														}
														else = {
															set_variable = {
																which = lt_val
																value = 4054.651
															}
														}
													}
												}
												set_variable = {
													which = lt_ind
													value = 0
												}
												change_variable = {
													which = ln_val
													which = lt_val
												}
											}
											set_variable = {
												which = t_m_ln
												value = 0
											}
										}
										divide_variable = {
											which = ln_val
											value = 10000
										}
										set_variable = {
											which = scale
											value = 0
										}
										set_variable = {
											which = k
											value = 0
										}
										set_variable = {
											which = k_div
											value = 0
										}
										set_variable = {
											which = lt_val
											value = 0
										}
									}
									set_variable = {
										which = inp
										value = 0
									}
									multiply_variable = {
										which = dec_m_exp
										which = ln_val
									}
									set_variable = {
										which = math.e.expnt
										which = dec_m_exp
									}
									set_variable = {
										which = math.e.return
										value = 1
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = math.e.expnt
													value = -6.999
												}
											}
										}
										set_variable = {
											which = exp_val
											value = 0
										}
									}
									else = {
										while = {
											limit = {
												check_variable = {
													which = math.e.expnt
													value = 1
												}
											}
											subtract_variable = {
												which = math.e.expnt
												value = 1
											}
											multiply_variable = {
												which = math.e.return
												value = 2.718
											}
										}
										while = {
											limit = {
												NOT = {
													check_variable = {
														which = math.e.expnt
														value = 0
													}
												}
											}
											change_variable = {
												which = math.e.expnt
												value = 1
											}
											divide_variable = {
												which = math.e.return
												value = 2.718
											}
										}
										set_variable = {
											which = math.e.sm
											value = 1
										}
										if = {
											limit = {
												NOT = {
													is_variable_equal = {
														which = math.e.expnt
														value = 0
													}
												}
											}
											set_variable = {
												which = math.e.sq
												which = math.e.expnt
											}
											multiply_variable = {
												which = math.e.sq
												which = math.e.expnt
											}
											set_variable = {
												which = math.e.fct
												value = 2
											}
											set_variable = {
												which = math.e.fctl
												value = 2
											}
											set_variable = {
												which = math.e.a1
												which = math.e.sq
											}
											set_variable = {
												which = math.e.a2
												which = math.e.expnt
											}
											set_variable = {
												which = math.e.a3
												value = 2
											}
											set_variable = {
												which = math.e.tmp
												which = math.e.a2
											}
											multiply_variable = {
												which = math.e.tmp
												which = math.e.a3
											}
											change_variable = {
												which = math.e.tmp
												which = math.e.a1
											}
											divide_variable = {
												which = math.e.tmp
												which = math.e.fct
											}
											change_variable = {
												which = math.e.sm
												which = math.e.tmp
											}
											set_variable = {
												which = math.e.prec
												value = 3
											}
											subtract_variable = {
												which = math.e.prec
												value = 1
											}
											while = {
												limit = {
													check_variable = {
														which = math.e.prec
														value = 1
													}
												}
												subtract_variable = {
													which = math.e.prec
													value = 1
												}
												change_variable = {
													which = math.e.fctl
													value = 1
												}
												multiply_variable = {
													which = math.e.fct
													which = math.e.fctl
												}
												change_variable = {
													which = math.e.fctl
													value = 1
												}
												multiply_variable = {
													which = math.e.fct
													which = math.e.fctl
												}
												multiply_variable = {
													which = math.e.a1
													which = math.e.sq
												}
												multiply_variable = {
													which = math.e.a2
													which = math.e.sq
												}
												change_variable = {
													which = math.e.a3
													value = 2
												}
												set_variable = {
													which = math.e.tmp
													which = math.e.a2
												}
												multiply_variable = {
													which = math.e.tmp
													which = math.e.a3
												}
												change_variable = {
													which = math.e.tmp
													which = math.e.a1
												}
												divide_variable = {
													which = math.e.tmp
													which = math.e.fct
												}
												change_variable = {
													which = math.e.sm
													which = math.e.tmp
												}
											}
										}
										multiply_variable = {
											which = math.e.return
											which = math.e.sm
										}
										set_variable = {
											which = exp_val
											which = math.e.return
										}
										set_variable = {
											which = math.e.sm
											value = 0
										}
										set_variable = {
											which = math.e.tmp
											value = 0
										}
										set_variable = {
											which = math.e.a1
											value = 0
										}
										set_variable = {
											which = math.e.a2
											value = 0
										}
										set_variable = {
											which = math.e.a3
											value = 0
										}
										set_variable = {
											which = math.e.fctl
											value = 0
										}
										set_variable = {
											which = math.e.fct
											value = 0
										}
										set_variable = {
											which = math.e.prec
											value = 0
										}
										set_variable = {
											which = math.e.sq
											value = 0
										}
									}
									set_variable = {
										which = math.e.expnt
										value = 0
									}
									set_variable = {
										which = math.e.return
										value = 0
									}
									while = {
										limit = {
											check_variable = {
												which = int_m_exp
												value = 1
											}
										}
										subtract_variable = {
											which = int_m_exp
											value = 1
										}
										multiply_variable = {
											which = exp_val
											which = inp_m_exp
										}
									}
									set_variable = {
										which = exp_m_exp
										value = 0
									}
									set_variable = {
										which = int_m_exp
										value = 0
									}
									set_variable = {
										which = dec_m_exp
										value = 0
									}
									set_variable = {
										which = ln_val
										value = 0
									}
								}
								set_variable = {
									which = inp_m_exp
									value = 0
								}
								set_variable = {
									which = EstateProv_Unrest
									which = exp_val
								}
								set_variable = {
									which = exp_val
									value = 0
								}
								export_to_variable = {
									which = EstateProv_LA
									value = local_autonomy
								}
								multiply_variable = {
									which = EstateProv_LA
									value = 0.008
								}
								change_variable = {
									which = EstateProv_LA
									value = 0.2
								}
								multiply_variable = {
									which = EstateProv_Unrest
									which = EstateProv_LA
								}
								set_variable = {
									which = EstateProv_Unrest_Inp
									which = EstateProv_Unrest
								}
								if = {
									limit = {
										has_province_flag = loss
									}
									clr_province_flag = loss
									multiply_variable = {
										which = EstateProv_Unrest
										value = -1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 0.1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 10
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 25.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 25.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_25.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_25.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_25.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 12.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 12.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_12.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_12.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_12.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 6.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 6.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_6.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_6.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_6.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 3.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 3.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_3.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_3.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_3.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 1.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 1.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_1.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_1.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_1.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.1
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.1
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestLoss_0.1
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestLoss_0.1
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.1
									}
								}
								else_if = {
									limit = {
										has_province_flag = gain
									}
									clr_province_flag = gain
									multiply_variable = {
										which = EstateProv_Unrest
										value = 1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 0.1
									}
									multiply_variable = {
										which = EstateProv_Unrest
										value = 10
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 25.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 25.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_25.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_25.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_25.6
										}
										remove_province_modifier = EstateProv_UnrestGain_25.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 12.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 12.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_12.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_12.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_12.8
										}
										remove_province_modifier = EstateProv_UnrestGain_12.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 6.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 6.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_6.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_6.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_6.4
										}
										remove_province_modifier = EstateProv_UnrestGain_6.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 3.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 3.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_3.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_3.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_3.2
										}
										remove_province_modifier = EstateProv_UnrestGain_3.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 1.6
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 1.6
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_1.6
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_1.6
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_1.6
										}
										remove_province_modifier = EstateProv_UnrestGain_1.6
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.8
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.8
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.8
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.8
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.8
										}
										remove_province_modifier = EstateProv_UnrestGain_0.8
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.4
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.4
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.4
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.4
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.4
										}
										remove_province_modifier = EstateProv_UnrestGain_0.4
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.2
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.2
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.2
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.2
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.2
										}
										remove_province_modifier = EstateProv_UnrestGain_0.2
									}
									if = {
										limit = {
											check_variable = {
												which = EstateProv_Unrest_Inp
												value = 0.1
											}
										}
										subtract_variable = {
											which = EstateProv_Unrest_Inp
											value = 0.1
										}
										if = {
											limit = {
												NOT = {
													has_province_modifier = EstateProv_UnrestGain_0.1
												}
											}
											add_province_modifier = {
												name = EstateProv_UnrestGain_0.1
												duration = -1
												hidden = yes
											}
										}
									}
									else_if = {
										limit = {
											has_province_modifier = EstateProv_UnrestGain_0.1
										}
										remove_province_modifier = EstateProv_UnrestGain_0.1
									}
								}
								if = {
									limit = {
										check_variable = {
											which = EstateProv_UnrestSave
											value = 0.001
										}
									}
									if = {
										limit = {
											NOT = {
												check_variable = {
													which = EstateProv_Unrest
													value = 0.001
												}
											}
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_25.6
											}
											remove_province_modifier = EstateProv_UnrestGain_25.6
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_12.8
											}
											remove_province_modifier = EstateProv_UnrestGain_12.8
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_6.4
											}
											remove_province_modifier = EstateProv_UnrestGain_6.4
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_3.2
											}
											remove_province_modifier = EstateProv_UnrestGain_3.2
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_1.6
											}
											remove_province_modifier = EstateProv_UnrestGain_1.6
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.8
											}
											remove_province_modifier = EstateProv_UnrestGain_0.8
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.4
											}
											remove_province_modifier = EstateProv_UnrestGain_0.4
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.2
											}
											remove_province_modifier = EstateProv_UnrestGain_0.2
										}
										if = {
											limit = {
												has_province_modifier = EstateProv_UnrestGain_0.1
											}
											remove_province_modifier = EstateProv_UnrestGain_0.1
										}
									}
								}
								else_if = {
									limit = {
										NOT = {
											check_variable = {
												which = EstateProv_UnrestSave
												value = 0
											}
										}
										check_variable = {
											which = EstateProv_Unrest
											value = 0
										}
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_25.6
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_12.8
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_6.4
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_3.2
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
										remove_province_modifier = EstateProv_UnrestLoss_1.6
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.8
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.4
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.2
									}
									if = {
										limit = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
										remove_province_modifier = EstateProv_UnrestLoss_0.1
									}
								}
								if = {
									limit = {
										is_variable_equal = {
											which = EstateProv_Unrest
											value = 0
										}
									}
									set_variable = {
										which = EstateProv_Unrest
										value = 0
									}
								}
								set_variable = {
									which = EstateProv_UnrestSave
									value = 0
								}
								set_variable = {
									which = EstateProv_LA
									value = 0
								}
								set_variable = {
									which = EstateProv_Unrest_Inp
									value = 0
								}
							}
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = horde_events.100
	title = horde_events.100.t
	desc = horde_events.100.d
	picture = HORDE_ON_HORSEBACK_eventPicture
	is_triggered_only = yes
	trigger = {
		OR = {
			AND = {
				OR = {
					AND = {
						has_reform = steppe_horde
						NOT = {
							has_country_modifier = title_6
							has_country_flag = title_6
						}
					}
					has_reform = steppe_horde_legacy
				}
			}
			AND = {
				OR = {
					has_reform = nomad_reform
					has_reform = native_council_legacy
				}
			}
		}
		personal_union = 1
		any_subject_country = {
			junior_union_with = ROOT
			OR = {
				AND = {
					OR = {
						AND = {
							has_reform = steppe_horde
							NOT = {
								has_country_modifier = title_6
								has_country_flag = title_6
							}
						}
						has_reform = steppe_horde_legacy
					}
				}
				AND = {
					OR = {
						has_reform = nomad_reform
						has_reform = native_council_legacy
					}
				}
			}
			NOT = {
				years_in_union_under = {
					who = ROOT
					years = 5
				}
			}
		}
	}
	option = {
		name = horde_events.100.a
		every_subject_country = {
			limit = {
				junior_union_with = ROOT
				OR = {
					AND = {
						OR = {
							AND = {
								has_reform = steppe_horde
								NOT = {
									has_country_modifier = title_6
									has_country_flag = title_6
								}
							}
							has_reform = steppe_horde_legacy
						}
					}
					AND = {
						OR = {
							has_reform = nomad_reform
							has_reform = native_council_legacy
						}
					}
				}
				NOT = {
					years_in_union_under = {
						who = ROOT
						years = 5
					}
				}
			}
			break_union = ROOT
		}
		hidden_effect = {
			CHU = {
				if = {
					limit = {
						has_country_flag = under_WHI_PU
						NOT = {
							is_lesser_in_union = yes
						}
					}
					country_event = {
						id = flavor_chu.4
					}
					clr_country_flag = under_WHI_PU
				}
			}
		}
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				OR = {
					tag = JAI
					tag = MUZ
				}
			}
		}
	}
	option = {
		name = horde_events.100.b
		custom_tooltip = horde_PU_war
		hidden_effect = {
			every_subject_country = {
				limit = {
					junior_union_with = ROOT
					OR = {
						AND = {
							OR = {
								AND = {
									has_reform = steppe_horde
									NOT = {
										has_country_modifier = title_6
										has_country_flag = title_6
									}
								}
								has_reform = steppe_horde_legacy
							}
						}
						AND = {
							OR = {
								has_reform = nomad_reform
								has_reform = native_council_legacy
							}
						}
					}
					NOT = {
						years_in_union_under = {
							who = ROOT
							years = 5
						}
					}
				}
				break_union = ROOT
				ROOT = {
					declare_war_with_cb = {
						who = PREV
						casus_belli = cb_nomadic_submission
					}
				}
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				tag = WHI
				NOT = {
					is_year = 1360
				}
			}
		}
	}
}
country_event = {
	id = horde_events.21
	title = horde_events.21.t
	desc = horde_events.21.d
	picture = CIVIL_WAR_eventPicture
	fire_only_once = yes
	trigger = {
		tag = BLU
		exists = WHI
		WHI = {
			AND = {
				OR = {
					is_subject = no
					is_subject_of_type = tributary_state
					is_subject_of_type = close_tributary_state
				}
			}
			OR = {
				has_disaster = white_horde_collapse
				has_country_modifier = puppet_khanate
			}
		}
		has_heir = yes
		is_subject = no
		is_year = 1380
		has_any_disaster = no
		is_at_war = no
	}
	mean_time_to_happen = {
		months = 2
	}
	option = {
		name = "horde_events.21.a"
		ai_chance = {
			factor = 100
		}
		add_horde_unity = 25
		declare_war_with_cb = {
			who = WHI
			casus_belli = cb_nomadic_submission
		}
		hidden_effect = {
			if = {
				limit = {
					check_variable = {
						which = estate_tribals_wealth
						value = 1
					}
				}
				change_variable = {
					which = estate_tribals_wealth
					value = 4612.812
				}
			}
			add_army_tradition = 10
		}
	}
	option = {
		name = "horde_events.21.b"
		ai_chance = {
			factor = 0
		}
		add_prestige = -10
	}
}
