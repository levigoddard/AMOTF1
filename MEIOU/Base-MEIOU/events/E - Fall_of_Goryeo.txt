country_event = {
	id = fall_of_goryeo.1
	title = "fall_of_goryeo.1EVTNAME"
	desc = "fall_of_goryeo.1EVTDESC"
	picture = SIEGE_eventPicture
	hidden = yes
	is_triggered_only = yes
	trigger = {
		tag = KOR
		is_year = 1358
		NOT = {
			is_year = 1450
		}
		has_country_modifier = modConfUnrest
	}
	immediate = {
		set_variable = {
			which = num_of_obs
			which = privilege_corruption_GN
		}
		divide_variable = {
			which = num_of_obs
			value = 25
		}
		if = {
			limit = {
				has_country_modifier = obstacle_shifting_loyalties
			}
			change_variable = {
				which = num_of_obs
				value = 2
			}
		}
		if = {
			limit = {
				has_country_modifier = obstacle_military_administration
			}
			change_variable = {
				which = num_of_obs
				value = 2
			}
		}
		if = {
			limit = {
				has_country_modifier = obstacle_succession
			}
			change_variable = {
				which = num_of_obs
				value = 2
			}
		}
		if = {
			limit = {
				religion = confucianism
			}
			multiply_variable = {
				which = num_of_obs
				value = 0.5
			}
		}
		subtract_variable = {
			which = num_of_obs
			value = 5
		}
		change_variable = {
			which = goryeo_confucian_unrest
			which = num_of_obs
		}
		set_variable = {
			which = num_of_obs
			value = 0
		}
	}
	option = {
		name = "fall_of_goryeo.victory"
	}
}
country_event = {
	id = fall_of_goryeo.2
	title = fall_of_goryeo.2.tt
	desc = fall_of_goryeo.2.ds
	picture = SIEGE_eventPicture
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			add_country_modifier = {
				name = modConfUnrest
				duration = -1
			}
			set_variable = {
				which = goryeo_confucian_unrest
				value = 0
			}
		}
	}
	option = {
		name = fall_of_goryeo.2.a
	}
}
country_event = {
	id = fall_of_goryeo.3
	title = fall_of_goryeo.3.tt
	desc = fall_of_goryeo.3.ds
	picture = SIEGE_eventPicture
	fire_only_once = yes
	is_triggered_only = no
	trigger = {
		OR = {
			AND = {
				tag = KOR
				OR = {
					is_year = 1450
					AND = {
						is_year = 1380
						NOT = {
							check_variable = {
								which = goryeo_confucian_unrest
								value = 0
							}
						}
					}
				}
			}
			tag = JOS
		}
	}
	mean_time_to_happen = {
		years = 1
	}
	immediate = {
		remove_country_modifier = modConfUnrest
		set_variable = {
			which = goryeo_confucian_unrest
			value = 0
		}
	}
	option = {
		name = fall_of_goryeo.3.a
	}
}
country_event = {
	id = fall_of_goryeo.7
	title = "fall_of_goryeo.7EVTNAME"
	desc = "fall_of_goryeo.7EVTDESC"
	picture = SIEGE_eventPicture
	fire_only_once = yes
	trigger = {
		tag = KOR
		check_variable = {
			which = "goryeo_confucian_unrest"
			value = 100
		}
	}
	mean_time_to_happen = {
		years = 40
		modifier = {
			factor = 0.001
			is_at_war = yes
		}
		modifier = {
			factor = 0.5
			check_variable = {
				which = "goryeo_confucian_unrest"
				value = 110
			}
		}
		modifier = {
			factor = 0.5
			check_variable = {
				which = "goryeo_confucian_unrest"
				value = 120
			}
		}
		modifier = {
			factor = 0.5
			check_variable = {
				which = "goryeo_confucian_unrest"
				value = 130
			}
		}
		modifier = {
			factor = 0.5
			check_variable = {
				which = "goryeo_confucian_unrest"
				value = 140
			}
		}
	}
	immediate = {
		hidden_effect = {
			country_event = {
				id = fall_of_goryeo.10
				days = 1
			}
		}
	}
	option = {
		name = "fall_of_goryeo.7a"
	}
}
country_event = {
	id = fall_of_goryeo.10
	title = "fall_of_goryeo.10EVTNAME"
	desc = "fall_of_goryeo.10EVTDESC"
	picture = SIEGE_eventPicture
	is_triggered_only = yes
	option = {
		name = "fall_of_goryeo.10a"
		if = {
			limit = {
				has_heir = yes
			}
			kill_ruler = yes
		}
		if = {
			limit = {
				has_heir = no
			}
			define_ruler = {
				dynasty = ROOT
			}
		}
		every_owned_province = {
			limit = {
				controlled_by = REB
			}
			change_controller = KOR
		}
		hidden_effect = {
			disband_rebels = noble_rebels
			disband_rebels = anti_tax_rebels
			disband_rebels = pretender_rebels
		}
		if = {
			limit = {
				has_leader = "Yeong Choi"
			}
			kill_leader = {
				type = "Yeong Choi"
			}
		}
		define_general = {
			name = "Seong-gye Yi"
			fire = 5
			shock = 4
			manuever = 5
			siege = 3
		}
		infantry = 2802
		infantry = 2802
		infantry = 2802
		infantry = 2802
		infantry = 2802
		cavalry = 2802
		cavalry = 2802
		cavalry = 2802
		artillery = 2802
		artillery = 2802
		add_stability = -1
		hidden_effect = {
			country_event = {
				id = POP_Stability.003
			}
		}
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -5
		}
		if = {
			limit = {
				is_at_war = yes
			}
			every_country = {
				limit = {
					war_with = KOR
				}
				country_event = {
					id = fall_of_goryeo.14
				}
			}
		}
		set_country_flag = goryeo_revolt_won
		if = {
			limit = {
				has_country_flag = commoners_banned_from_officers_corps_1
			}
			clr_country_flag = commoners_banned_from_officers_corps_1
			trigger_switch = {
				on_trigger = has_country_modifier
				commoners_banned_from_officers_corps_1_20 = {
					remove_country_modifier = commoners_banned_from_officers_corps_1_20
				}
				commoners_banned_from_officers_corps_1_40 = {
					remove_country_modifier = commoners_banned_from_officers_corps_1_40
				}
				commoners_banned_from_officers_corps_1_60 = {
					remove_country_modifier = commoners_banned_from_officers_corps_1_60
				}
				commoners_banned_from_officers_corps_1_80 = {
					remove_country_modifier = commoners_banned_from_officers_corps_1_80
				}
				commoners_banned_from_officers_corps_1_100 = {
					remove_country_modifier = commoners_banned_from_officers_corps_1_100
				}
			}
		}
		if = {
			limit = {
				has_country_flag = commoners_banned_from_officers_corps_2
			}
			clr_country_flag = commoners_banned_from_officers_corps_2
			trigger_switch = {
				on_trigger = has_country_modifier
				commoners_banned_from_officers_corps_2_20 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_20
				}
				commoners_banned_from_officers_corps_2_40 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_40
				}
				commoners_banned_from_officers_corps_2_60 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_60
				}
				commoners_banned_from_officers_corps_2_80 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_80
				}
				commoners_banned_from_officers_corps_2_100 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_100
				}
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_country_flag = commoners_banned_from_officers_corps_1
						}
					}
					set_country_flag = commoners_banned_from_officers_corps_1
				}
			}
			custom_tooltip = commoners_banned_from_officers_corps_1_privilege
			if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.8
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_100
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.6
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_80
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_80
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.4
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_60
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_60
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.2
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_40
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_40
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.01
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_20
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_20
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else = {
				hidden_effect = {
					trigger_switch = {
						on_trigger = has_country_modifier
						commoners_banned_from_officers_corps_1_20 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_20
						}
						commoners_banned_from_officers_corps_1_40 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_40
						}
						commoners_banned_from_officers_corps_1_60 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_60
						}
						commoners_banned_from_officers_corps_1_80 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_80
						}
						commoners_banned_from_officers_corps_1_100 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_100
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = ceremonial_generalships_1
			}
			clr_country_flag = ceremonial_generalships_1
			trigger_switch = {
				on_trigger = has_country_modifier
				ceremonial_generalships_1_20 = {
					remove_country_modifier = ceremonial_generalships_1_20
				}
				ceremonial_generalships_1_40 = {
					remove_country_modifier = ceremonial_generalships_1_40
				}
				ceremonial_generalships_1_60 = {
					remove_country_modifier = ceremonial_generalships_1_60
				}
				ceremonial_generalships_1_80 = {
					remove_country_modifier = ceremonial_generalships_1_80
				}
				ceremonial_generalships_1_100 = {
					remove_country_modifier = ceremonial_generalships_1_100
				}
			}
		}
		if = {
			limit = {
				has_country_flag = ceremonial_generalships_2
			}
			clr_country_flag = ceremonial_generalships_2
			trigger_switch = {
				on_trigger = has_country_modifier
				ceremonial_generalships_2_20 = {
					remove_country_modifier = ceremonial_generalships_2_20
				}
				ceremonial_generalships_2_40 = {
					remove_country_modifier = ceremonial_generalships_2_40
				}
				ceremonial_generalships_2_60 = {
					remove_country_modifier = ceremonial_generalships_2_60
				}
				ceremonial_generalships_2_80 = {
					remove_country_modifier = ceremonial_generalships_2_80
				}
				ceremonial_generalships_2_100 = {
					remove_country_modifier = ceremonial_generalships_2_100
				}
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_country_flag = ceremonial_generalships_1
						}
					}
					set_country_flag = ceremonial_generalships_1
				}
			}
			custom_tooltip = ceremonial_generalships_1_privilege
			if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.8
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = ceremonial_generalships_1_100
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							ceremonial_generalships_1_20 = {
								remove_country_modifier = ceremonial_generalships_1_20
							}
							ceremonial_generalships_1_40 = {
								remove_country_modifier = ceremonial_generalships_1_40
							}
							ceremonial_generalships_1_60 = {
								remove_country_modifier = ceremonial_generalships_1_60
							}
							ceremonial_generalships_1_80 = {
								remove_country_modifier = ceremonial_generalships_1_80
							}
							ceremonial_generalships_1_100 = {
								remove_country_modifier = ceremonial_generalships_1_100
							}
						}
						add_country_modifier = {
							name = ceremonial_generalships_1_100
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.6
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = ceremonial_generalships_1_80
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							ceremonial_generalships_1_20 = {
								remove_country_modifier = ceremonial_generalships_1_20
							}
							ceremonial_generalships_1_40 = {
								remove_country_modifier = ceremonial_generalships_1_40
							}
							ceremonial_generalships_1_60 = {
								remove_country_modifier = ceremonial_generalships_1_60
							}
							ceremonial_generalships_1_80 = {
								remove_country_modifier = ceremonial_generalships_1_80
							}
							ceremonial_generalships_1_100 = {
								remove_country_modifier = ceremonial_generalships_1_100
							}
						}
						add_country_modifier = {
							name = ceremonial_generalships_1_80
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.4
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = ceremonial_generalships_1_60
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							ceremonial_generalships_1_20 = {
								remove_country_modifier = ceremonial_generalships_1_20
							}
							ceremonial_generalships_1_40 = {
								remove_country_modifier = ceremonial_generalships_1_40
							}
							ceremonial_generalships_1_60 = {
								remove_country_modifier = ceremonial_generalships_1_60
							}
							ceremonial_generalships_1_80 = {
								remove_country_modifier = ceremonial_generalships_1_80
							}
							ceremonial_generalships_1_100 = {
								remove_country_modifier = ceremonial_generalships_1_100
							}
						}
						add_country_modifier = {
							name = ceremonial_generalships_1_60
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.2
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = ceremonial_generalships_1_40
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							ceremonial_generalships_1_20 = {
								remove_country_modifier = ceremonial_generalships_1_20
							}
							ceremonial_generalships_1_40 = {
								remove_country_modifier = ceremonial_generalships_1_40
							}
							ceremonial_generalships_1_60 = {
								remove_country_modifier = ceremonial_generalships_1_60
							}
							ceremonial_generalships_1_80 = {
								remove_country_modifier = ceremonial_generalships_1_80
							}
							ceremonial_generalships_1_100 = {
								remove_country_modifier = ceremonial_generalships_1_100
							}
						}
						add_country_modifier = {
							name = ceremonial_generalships_1_40
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.01
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = ceremonial_generalships_1_20
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							ceremonial_generalships_1_20 = {
								remove_country_modifier = ceremonial_generalships_1_20
							}
							ceremonial_generalships_1_40 = {
								remove_country_modifier = ceremonial_generalships_1_40
							}
							ceremonial_generalships_1_60 = {
								remove_country_modifier = ceremonial_generalships_1_60
							}
							ceremonial_generalships_1_80 = {
								remove_country_modifier = ceremonial_generalships_1_80
							}
							ceremonial_generalships_1_100 = {
								remove_country_modifier = ceremonial_generalships_1_100
							}
						}
						add_country_modifier = {
							name = ceremonial_generalships_1_20
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else = {
				hidden_effect = {
					trigger_switch = {
						on_trigger = has_country_modifier
						ceremonial_generalships_1_20 = {
							remove_country_modifier = ceremonial_generalships_1_20
						}
						ceremonial_generalships_1_40 = {
							remove_country_modifier = ceremonial_generalships_1_40
						}
						ceremonial_generalships_1_60 = {
							remove_country_modifier = ceremonial_generalships_1_60
						}
						ceremonial_generalships_1_80 = {
							remove_country_modifier = ceremonial_generalships_1_80
						}
						ceremonial_generalships_1_100 = {
							remove_country_modifier = ceremonial_generalships_1_100
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = GN_high_court_titles_1
			}
			clr_country_flag = GN_high_court_titles_1
			trigger_switch = {
				on_trigger = has_country_modifier
				GN_high_court_titles_1_20 = {
					remove_country_modifier = GN_high_court_titles_1_20
				}
				GN_high_court_titles_1_40 = {
					remove_country_modifier = GN_high_court_titles_1_40
				}
				GN_high_court_titles_1_60 = {
					remove_country_modifier = GN_high_court_titles_1_60
				}
				GN_high_court_titles_1_80 = {
					remove_country_modifier = GN_high_court_titles_1_80
				}
				GN_high_court_titles_1_100 = {
					remove_country_modifier = GN_high_court_titles_1_100
				}
			}
		}
		if = {
			limit = {
				has_country_flag = GN_high_court_titles_2
			}
			clr_country_flag = GN_high_court_titles_2
			trigger_switch = {
				on_trigger = has_country_modifier
				GN_high_court_titles_2_20 = {
					remove_country_modifier = GN_high_court_titles_2_20
				}
				GN_high_court_titles_2_40 = {
					remove_country_modifier = GN_high_court_titles_2_40
				}
				GN_high_court_titles_2_60 = {
					remove_country_modifier = GN_high_court_titles_2_60
				}
				GN_high_court_titles_2_80 = {
					remove_country_modifier = GN_high_court_titles_2_80
				}
				GN_high_court_titles_2_100 = {
					remove_country_modifier = GN_high_court_titles_2_100
				}
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_country_flag = GN_high_court_titles_1
						}
					}
					set_country_flag = GN_high_court_titles_1
				}
			}
			custom_tooltip = GN_high_court_titles_1_privilege
			if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.8
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_high_court_titles_1_100
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_high_court_titles_1_20 = {
								remove_country_modifier = GN_high_court_titles_1_20
							}
							GN_high_court_titles_1_40 = {
								remove_country_modifier = GN_high_court_titles_1_40
							}
							GN_high_court_titles_1_60 = {
								remove_country_modifier = GN_high_court_titles_1_60
							}
							GN_high_court_titles_1_80 = {
								remove_country_modifier = GN_high_court_titles_1_80
							}
							GN_high_court_titles_1_100 = {
								remove_country_modifier = GN_high_court_titles_1_100
							}
						}
						add_country_modifier = {
							name = GN_high_court_titles_1_100
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.6
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_high_court_titles_1_80
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_high_court_titles_1_20 = {
								remove_country_modifier = GN_high_court_titles_1_20
							}
							GN_high_court_titles_1_40 = {
								remove_country_modifier = GN_high_court_titles_1_40
							}
							GN_high_court_titles_1_60 = {
								remove_country_modifier = GN_high_court_titles_1_60
							}
							GN_high_court_titles_1_80 = {
								remove_country_modifier = GN_high_court_titles_1_80
							}
							GN_high_court_titles_1_100 = {
								remove_country_modifier = GN_high_court_titles_1_100
							}
						}
						add_country_modifier = {
							name = GN_high_court_titles_1_80
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.4
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_high_court_titles_1_60
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_high_court_titles_1_20 = {
								remove_country_modifier = GN_high_court_titles_1_20
							}
							GN_high_court_titles_1_40 = {
								remove_country_modifier = GN_high_court_titles_1_40
							}
							GN_high_court_titles_1_60 = {
								remove_country_modifier = GN_high_court_titles_1_60
							}
							GN_high_court_titles_1_80 = {
								remove_country_modifier = GN_high_court_titles_1_80
							}
							GN_high_court_titles_1_100 = {
								remove_country_modifier = GN_high_court_titles_1_100
							}
						}
						add_country_modifier = {
							name = GN_high_court_titles_1_60
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.2
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_high_court_titles_1_40
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_high_court_titles_1_20 = {
								remove_country_modifier = GN_high_court_titles_1_20
							}
							GN_high_court_titles_1_40 = {
								remove_country_modifier = GN_high_court_titles_1_40
							}
							GN_high_court_titles_1_60 = {
								remove_country_modifier = GN_high_court_titles_1_60
							}
							GN_high_court_titles_1_80 = {
								remove_country_modifier = GN_high_court_titles_1_80
							}
							GN_high_court_titles_1_100 = {
								remove_country_modifier = GN_high_court_titles_1_100
							}
						}
						add_country_modifier = {
							name = GN_high_court_titles_1_40
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.01
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_high_court_titles_1_20
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_high_court_titles_1_20 = {
								remove_country_modifier = GN_high_court_titles_1_20
							}
							GN_high_court_titles_1_40 = {
								remove_country_modifier = GN_high_court_titles_1_40
							}
							GN_high_court_titles_1_60 = {
								remove_country_modifier = GN_high_court_titles_1_60
							}
							GN_high_court_titles_1_80 = {
								remove_country_modifier = GN_high_court_titles_1_80
							}
							GN_high_court_titles_1_100 = {
								remove_country_modifier = GN_high_court_titles_1_100
							}
						}
						add_country_modifier = {
							name = GN_high_court_titles_1_20
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else = {
				hidden_effect = {
					trigger_switch = {
						on_trigger = has_country_modifier
						GN_high_court_titles_1_20 = {
							remove_country_modifier = GN_high_court_titles_1_20
						}
						GN_high_court_titles_1_40 = {
							remove_country_modifier = GN_high_court_titles_1_40
						}
						GN_high_court_titles_1_60 = {
							remove_country_modifier = GN_high_court_titles_1_60
						}
						GN_high_court_titles_1_80 = {
							remove_country_modifier = GN_high_court_titles_1_80
						}
						GN_high_court_titles_1_100 = {
							remove_country_modifier = GN_high_court_titles_1_100
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = commoners_banned_from_officers_corps_2
			}
			clr_country_flag = commoners_banned_from_officers_corps_2
			trigger_switch = {
				on_trigger = has_country_modifier
				commoners_banned_from_officers_corps_2_20 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_20
				}
				commoners_banned_from_officers_corps_2_40 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_40
				}
				commoners_banned_from_officers_corps_2_60 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_60
				}
				commoners_banned_from_officers_corps_2_80 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_80
				}
				commoners_banned_from_officers_corps_2_100 = {
					remove_country_modifier = commoners_banned_from_officers_corps_2_100
				}
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_country_flag = commoners_banned_from_officers_corps_1
						}
					}
					set_country_flag = commoners_banned_from_officers_corps_1
				}
			}
			custom_tooltip = commoners_banned_from_officers_corps_1_privilege
			if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.8
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_100
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.6
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_80
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_80
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.4
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_60
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_60
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.2
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_40
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_40
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.01
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = commoners_banned_from_officers_corps_1_20
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							commoners_banned_from_officers_corps_1_20 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_20
							}
							commoners_banned_from_officers_corps_1_40 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_40
							}
							commoners_banned_from_officers_corps_1_60 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_60
							}
							commoners_banned_from_officers_corps_1_80 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_80
							}
							commoners_banned_from_officers_corps_1_100 = {
								remove_country_modifier = commoners_banned_from_officers_corps_1_100
							}
						}
						add_country_modifier = {
							name = commoners_banned_from_officers_corps_1_20
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else = {
				hidden_effect = {
					trigger_switch = {
						on_trigger = has_country_modifier
						commoners_banned_from_officers_corps_1_20 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_20
						}
						commoners_banned_from_officers_corps_1_40 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_40
						}
						commoners_banned_from_officers_corps_1_60 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_60
						}
						commoners_banned_from_officers_corps_1_80 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_80
						}
						commoners_banned_from_officers_corps_1_100 = {
							remove_country_modifier = commoners_banned_from_officers_corps_1_100
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = GN_exclude_commoners_cabinet_1
			}
			clr_country_flag = GN_exclude_commoners_cabinet_1
			trigger_switch = {
				on_trigger = has_country_modifier
				GN_exclude_commoners_cabinet_1_20 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_1_20
				}
				GN_exclude_commoners_cabinet_1_40 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_1_40
				}
				GN_exclude_commoners_cabinet_1_60 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_1_60
				}
				GN_exclude_commoners_cabinet_1_80 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_1_80
				}
				GN_exclude_commoners_cabinet_1_100 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_1_100
				}
			}
		}
		if = {
			limit = {
				has_country_flag = GN_exclude_commoners_cabinet_2
			}
			clr_country_flag = GN_exclude_commoners_cabinet_2
			trigger_switch = {
				on_trigger = has_country_modifier
				GN_exclude_commoners_cabinet_2_20 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_2_20
				}
				GN_exclude_commoners_cabinet_2_40 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_2_40
				}
				GN_exclude_commoners_cabinet_2_60 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_2_60
				}
				GN_exclude_commoners_cabinet_2_80 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_2_80
				}
				GN_exclude_commoners_cabinet_2_100 = {
					remove_country_modifier = GN_exclude_commoners_cabinet_2_100
				}
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_country_flag = GN_exclude_commoners_cabinet_1
						}
					}
					set_country_flag = GN_exclude_commoners_cabinet_1
				}
			}
			custom_tooltip = GN_exclude_commoners_cabinet_1_privilege
			if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.8
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_exclude_commoners_cabinet_1_100
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_exclude_commoners_cabinet_1_20 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_20
							}
							GN_exclude_commoners_cabinet_1_40 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_40
							}
							GN_exclude_commoners_cabinet_1_60 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_60
							}
							GN_exclude_commoners_cabinet_1_80 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_80
							}
							GN_exclude_commoners_cabinet_1_100 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_100
							}
						}
						add_country_modifier = {
							name = GN_exclude_commoners_cabinet_1_100
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.6
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_exclude_commoners_cabinet_1_80
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_exclude_commoners_cabinet_1_20 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_20
							}
							GN_exclude_commoners_cabinet_1_40 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_40
							}
							GN_exclude_commoners_cabinet_1_60 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_60
							}
							GN_exclude_commoners_cabinet_1_80 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_80
							}
							GN_exclude_commoners_cabinet_1_100 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_100
							}
						}
						add_country_modifier = {
							name = GN_exclude_commoners_cabinet_1_80
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.4
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_exclude_commoners_cabinet_1_60
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_exclude_commoners_cabinet_1_20 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_20
							}
							GN_exclude_commoners_cabinet_1_40 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_40
							}
							GN_exclude_commoners_cabinet_1_60 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_60
							}
							GN_exclude_commoners_cabinet_1_80 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_80
							}
							GN_exclude_commoners_cabinet_1_100 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_100
							}
						}
						add_country_modifier = {
							name = GN_exclude_commoners_cabinet_1_60
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.2
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_exclude_commoners_cabinet_1_40
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_exclude_commoners_cabinet_1_20 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_20
							}
							GN_exclude_commoners_cabinet_1_40 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_40
							}
							GN_exclude_commoners_cabinet_1_60 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_60
							}
							GN_exclude_commoners_cabinet_1_80 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_80
							}
							GN_exclude_commoners_cabinet_1_100 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_100
							}
						}
						add_country_modifier = {
							name = GN_exclude_commoners_cabinet_1_40
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = estate_greater_nobles_weight_share
						value = 0.01
					}
				}
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_country_modifier = GN_exclude_commoners_cabinet_1_20
							}
						}
						trigger_switch = {
							on_trigger = has_country_modifier
							GN_exclude_commoners_cabinet_1_20 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_20
							}
							GN_exclude_commoners_cabinet_1_40 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_40
							}
							GN_exclude_commoners_cabinet_1_60 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_60
							}
							GN_exclude_commoners_cabinet_1_80 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_80
							}
							GN_exclude_commoners_cabinet_1_100 = {
								remove_country_modifier = GN_exclude_commoners_cabinet_1_100
							}
						}
						add_country_modifier = {
							name = GN_exclude_commoners_cabinet_1_20
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else = {
				hidden_effect = {
					trigger_switch = {
						on_trigger = has_country_modifier
						GN_exclude_commoners_cabinet_1_20 = {
							remove_country_modifier = GN_exclude_commoners_cabinet_1_20
						}
						GN_exclude_commoners_cabinet_1_40 = {
							remove_country_modifier = GN_exclude_commoners_cabinet_1_40
						}
						GN_exclude_commoners_cabinet_1_60 = {
							remove_country_modifier = GN_exclude_commoners_cabinet_1_60
						}
						GN_exclude_commoners_cabinet_1_80 = {
							remove_country_modifier = GN_exclude_commoners_cabinet_1_80
						}
						GN_exclude_commoners_cabinet_1_100 = {
							remove_country_modifier = GN_exclude_commoners_cabinet_1_100
						}
					}
				}
			}
		}
		remove_country_modifier = obstacle_military_administration
	}
}
country_event = {
	id = fall_of_goryeo.12
	title = "fall_of_goryeo.12EVTNAME"
	desc = "fall_of_goryeo.12EVTDESC"
	picture = REFORM_eventPicture
	fire_only_once = yes
	trigger = {
		tag = KOR
		NOT = {
			exists = JOS
		}
		has_country_flag = goryeo_revolt_won
		stability = 0
	}
	mean_time_to_happen = {
		months = 12
	}
	option = {
		name = "fall_of_goryeo.victory2"
		if = {
			limit = {
				AND = {
					NOT = {
						calc_true_if = {
							all_country = {
								ai = no
							}
							amount = 2
						}
					}
				}
			}
			change_tag = JOS
			swap_free_idea_group = yes
		}
		if = {
			limit = {
				NOT = {
					is_year = 1408
				}
				has_leader = "Seong-gye Yi"
			}
			define_ruler = {
				name = "Seong-gye"
				dynasty = "Yi"
				DIP = 4
				ADM = 5
				MIL = 6
				fixed = yes
				attach_leader = "Seong-gye Yi"
				age = 40
			}
		}
		if = {
			limit = {
				is_year = 1392
				NOT = {
					is_year = 1408
				}
			}
			define_heir = {
				name = "Bang-seok"
				dynasty = ROOT
				DIP = 2
				ADM = 3
				MIL = 3
				birth_date = 1382.6.11
			}
			set_country_flag = young_heir
		}
		if = {
			limit = {
				OR = {
					NOT = {
						has_leader = "Seong-gye Yi"
					}
					is_year = 1408
				}
			}
			kill_leader = {
				type = "Seong-gye Yi"
			}
			define_ruler = {
				name = "Bang-won"
				dynasty = "Yi"
				DIP = 3
				ADM = 6
				MIL = 5
				fixed = yes
				age = 40
			}
			define_heir = {
				name = "Do"
				dynasty = "Yi"
				claim = 100
				DIP = 6
				ADM = 5
				MIL = 6
				birth_date = 1397.5.7
			}
		}
		add_stability = -1
		hidden_effect = {
			country_event = {
				id = POP_Stability.003
			}
		}
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -5
		}
		capital_scope = {
			hidden_effect = {
				set_variable = {
					which = added_unrest
					value = 5
				}
				hidden_effect = {
					province_event = {
						id = stacking_unrest.002
					}
				}
			}
			custom_tooltip = added_unrest_5
		}
		add_absolutism = 10
		clr_country_flag = jos_china_relations
		clr_country_flag = jos_ren_relations
		if = {
			limit = {
				CSE = {
					exists = yes
					dynasty = "Wang"
				}
			}
			korea_region = {
				add_claim = CSE
			}
		}
		if = {
			limit = {
				has_country_flag = GN_tax_exemptions_1
			}
			hidden_effect = {
				clr_country_flag = GN_tax_exemptions_1
			}
		}
		if = {
			limit = {
				has_country_flag = GN_tax_exemptions_2
			}
			hidden_effect = {
				clr_country_flag = GN_tax_exemptions_2
			}
		}
		if = {
			limit = {
				has_country_flag = GN_tax_exemptions_3
			}
			hidden_effect = {
				clr_country_flag = GN_tax_exemptions_3
			}
		}
		if = {
			limit = {
				has_country_flag = GN_tax_exemptions_4
			}
			hidden_effect = {
				clr_country_flag = GN_tax_exemptions_4
			}
		}
		if = {
			limit = {
				has_country_flag = GN_authority_to_govern_locally_1
			}
			hidden_effect = {
				clr_country_flag = GN_authority_to_govern_locally_1
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_authority_to_govern_locally_1
						}
						remove_province_modifier = GN_authority_to_govern_locally_1
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = GN_authority_to_govern_locally_2
			}
			hidden_effect = {
				clr_country_flag = GN_authority_to_govern_locally_2
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_authority_to_govern_locally_2
						}
						remove_province_modifier = GN_authority_to_govern_locally_2
					}
				}
			}
			hidden_effect = {
				set_country_flag = GN_authority_to_govern_locally_1
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_authority_to_govern_locally_1
						}
						extend_province_modifier = {
							name = GN_authority_to_govern_locally_1
							duration = 365
						}
					}
					else = {
						add_province_modifier = {
							name = GN_authority_to_govern_locally_1
							duration = 365
							hidden = yes
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = GN_authority_to_govern_locally_3
			}
			hidden_effect = {
				clr_country_flag = GN_authority_to_govern_locally_3
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_authority_to_govern_locally_3
						}
						remove_province_modifier = GN_authority_to_govern_locally_3
					}
				}
			}
			hidden_effect = {
				set_country_flag = GN_authority_to_govern_locally_2
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_authority_to_govern_locally_2
						}
						extend_province_modifier = {
							name = GN_authority_to_govern_locally_2
							duration = 365
						}
					}
					else = {
						add_province_modifier = {
							name = GN_authority_to_govern_locally_2
							duration = 365
							hidden = yes
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = GN_authority_to_govern_locally_4
			}
			hidden_effect = {
				clr_country_flag = GN_authority_to_govern_locally_4
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_authority_to_govern_locally_4
						}
						remove_province_modifier = GN_authority_to_govern_locally_4
					}
				}
			}
			hidden_effect = {
				set_country_flag = GN_authority_to_govern_locally_3
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_authority_to_govern_locally_3
						}
						extend_province_modifier = {
							name = GN_authority_to_govern_locally_3
							duration = 365
						}
					}
					else = {
						add_province_modifier = {
							name = GN_authority_to_govern_locally_3
							duration = 365
							hidden = yes
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = GN_relaxed_levy_obligations_1
			}
			hidden_effect = {
				clr_country_flag = GN_relaxed_levy_obligations_1
			}
		}
		if = {
			limit = {
				has_country_flag = GN_relaxed_levy_obligations_2
			}
			hidden_effect = {
				clr_country_flag = GN_relaxed_levy_obligations_2
			}
			hidden_effect = {
				set_country_flag = GN_relaxed_levy_obligations_1
			}
		}
		if = {
			limit = {
				has_country_flag = GN_high_nobles_court_1
			}
			hidden_effect = {
				clr_country_flag = GN_high_nobles_court_1
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_high_nobles_court_1
						}
						remove_province_modifier = GN_high_nobles_court_1
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = GN_high_nobles_court_2
			}
			hidden_effect = {
				clr_country_flag = GN_high_nobles_court_2
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_high_nobles_court_2
						}
						remove_province_modifier = GN_high_nobles_court_2
					}
				}
			}
			hidden_effect = {
				set_country_flag = GN_high_nobles_court_1
				every_owned_province = {
					limit = {
						has_province_flag = greater_nobles_control_province
					}
					if = {
						limit = {
							has_province_modifier = GN_high_nobles_court_1
						}
						extend_province_modifier = {
							name = GN_high_nobles_court_1
							duration = 365
						}
					}
					else = {
						add_province_modifier = {
							name = GN_high_nobles_court_1
							duration = 365
							hidden = yes
						}
					}
				}
			}
		}
		remove_country_modifier = obstacle_shifting_loyalties
		remove_country_modifier = obstacle_succession
	}
}
country_event = {
	id = fall_of_goryeo.14
	title = "fall_of_goryeo.14EVTNAME"
	desc = "fall_of_goryeo.14EVTDESC"
	picture = SIEGE_eventPicture
	is_triggered_only = yes
	option = {
		name = "fall_of_goryeo.14a"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				defensive_war_with = KOR
			}
			modifier = {
				factor = 2
				NOT = {
					war_score_against = {
						who = KOR
						value = 0
					}
				}
			}
		}
		white_peace = KOR
	}
	option = {
		name = "fall_of_goryeo.14b"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				war_score_against = {
					who = KOR
					value = 10
				}
			}
		}
		add_prestige = 5
	}
}
country_event = {
	id = fall_of_goryeo.20
	title = "fall_of_goryeo.20EVTNAME"
	desc = "fall_of_goryeo.20EVTDESC"
	picture = REFORM_eventPicture
	fire_only_once = yes
	trigger = {
		NOT = {
			has_country_flag = korean_confucianism
		}
		is_year = 1380
		OR = {
			tag = JOS
			AND = {
				tag = KOR
				NOT = {
					check_variable = {
						which = "goryeo_confucian_unrest"
						value = 20
					}
				}
			}
		}
	}
	mean_time_to_happen = {
		months = 12
	}
	option = {
		name = "fall_of_goryeo.20a"
		add_country_modifier = {
			name = "intro_kor_confucianism"
			duration = 2190
		}
		change_religion = confucianism
		change_government = monarchy
		add_government_reform = celestial_empire
		add_government_reform = bureaucracy
		add_government_reform = appointed_elite
		set_legacy_government = celestial_empire_legacy
		set_country_flag = korean_confucianism
		add_patriarch_authority = 0.10
		ai_chance = {
			factor = 50
			modifier = {
				factor = 10
				tag = JOS
			}
		}
	}
}
province_event = {
	id = fall_of_goryeo.21
	title = "fall_of_goryeo.21EVTNAME"
	desc = "fall_of_goryeo.21EVTDESC"
	picture = SIEGE_eventPicture
	hidden = yes
	trigger = {
		owner = {
			OR = {
				tag = KOR
				tag = JOS
			}
			religion = confucianism
		}
		religion = mahayana
		NOT = {
			check_variable = {
				which = converted_heretics
				value = 3
			}
		}
	}
	mean_time_to_happen = {
		years = 15
		modifier = {
			factor = 0.1
			any_neighbor_province = {
				religion = confucianism
			}
		}
	}
	option = {
		name = "fall_of_goryeo.victory"
		change_variable = {
			which = converted_heretics
			value = 3
		}
	}
}
country_event = {
	id = fall_of_goryeo.25
	title = "fall_of_goryeo.25EVTNAME"
	desc = "fall_of_goryeo.25EVTDESC"
	picture = SIEGE_eventPicture
	fire_only_once = yes
	trigger = {
		OR = {
			tag = JOS
			tag = KOR
		}
		religion = confucianism
		NOT = {
			has_country_flag = joseon_capital
		}
	}
	mean_time_to_happen = {
		months = 12
	}
	option = {
		name = "fall_of_goryeo.25a"
		ai_chance = {
			factor = 100
		}
		2802 = {
			add_province_modifier = {
				name = moved_to_hanseong
				duration = 7300
			}
		}
		2802 = {
			rename_capital = "Hanseong"
		}
		set_country_flag = joseon_capital
		add_adm_power = -200
		add_absolutism = 10
		add_legitimacy = 20
		custom_tooltip = stability_points_gained_50
		hidden_effect = {
			change_variable = {
				which = stability_points
				value = 50
			}
			country_event = {
				id = POP_Stability.002
			}
		}
	}
	option = {
		name = "fall_of_goryeo.25b"
		ai_chance = {
			factor = 0
		}
		set_country_flag = joseon_capital
	}
}
country_event = {
	id = fall_of_goryeo.26
	title = "fall_of_goryeo.26EVTNAME"
	desc = "fall_of_goryeo.26EVTDESC"
	picture = SIEGE_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		FROM = {
			province_id = 4035
			culture = korean
		}
		ROOT = {
			OR = {
				tag = KOR
				tag = JOS
			}
		}
	}
	option = {
		name = "fall_of_goryeo.26a"
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				ROOT = {
					owns = 4036
				}
			}
		}
		FROM = {
			change_culture = jiaoliao
			custom_tooltip = "liaodong_diaspora"
			hidden_effect = {
				set_variable = {
					which = rural_percentage_removed
					value = 0.3
				}
				set_variable = {
					which = percent_rural_transfered
					value = 1.0
				}
				hidden_effect = {
					set_variable = {
						which = rural_population_old
						which = rural_pop
					}
					set_variable = {
						which = rural_population_removed
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = rural_percentage_removed
								value = 0.001
							}
						}
						set_variable = {
							which = rural_population_removed
							which = rural_pop
						}
						multiply_variable = {
							which = rural_population_removed
							which = rural_percentage_removed
						}
						if = {
							limit = {
								check_variable = {
									which = percent_rural_transfered
									value = 0.001
								}
							}
							set_variable = {
								which = rural_population_fleeing
								value = 0
							}
							set_variable = {
								which = rural_population_fleeing
								which = rural_population_removed
							}
							multiply_variable = {
								which = rural_population_fleeing
								which = percent_rural_transfered
							}
						}
					}
					if = {
						limit = {
							check_variable = {
								which = rural_base_pop_removed
								value = 0.001
							}
						}
						set_variable = {
							which = rural_population_removed
							which = rural_base_pop_removed
						}
					}
					multiply_variable = {
						which = rural_population_removed
						value = -10
					}
					set_variable = {
						which = InvPopRatio
						value = 100
					}
					subtract_variable = {
						which = InvPopRatio
						which = urban_ratio
					}
					set_variable = {
						which = PopRealValue
						which = total_pop_r
					}
					multiply_variable = {
						which = PopRealValue
						which = InvPopRatio
					}
					change_variable = {
						which = total_pop_r
						which = rural_population_removed
					}
					set_variable = {
						which = PopRealChange
						which = rural_population_removed
					}
					multiply_variable = {
						which = PopRealChange
						value = 100
					}
					change_variable = {
						which = PopRealValue
						which = PopRealChange
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = PopRealValue
									value = 1
								}
							}
						}
						set_variable = {
							which = PopRealValue
							value = 1
						}
					}
					set_variable = {
						which = rural_pop
						which = PopRealValue
					}
					multiply_variable = {
						which = rural_pop
						value = 0.001
					}
					divide_variable = {
						which = PopRealValue
						which = total_pop_r
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = PopRealValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
					set_variable = {
						which = InvPopRatio
						which = PopRealValue
					}
					set_variable = {
						which = total_pop
						which = total_pop_r
					}
					multiply_variable = {
						which = total_pop
						value = 0.1
					}
					set_variable = {
						which = PopRealValue
						value = 0
					}
					set_variable = {
						which = PopRealChange
						value = 0
					}
					set_variable = {
						which = tempRural
						which = rural_pop_display
					}
					set_variable = {
						which = tempUrban
						which = urban_pop_display
					}
					set_variable = {
						which = rural_pop_display
						value = 0
					}
					set_variable = {
						which = urban_pop_display
						value = 0
					}
					set_variable = {
						which = upper_pop_display
						value = 0
					}
					set_variable = {
						which = total_pop_display
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 100
					}
					subtract_variable = {
						which = t_P_ITV
						which = urban_ratio
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = t_P_ITV
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = rural_pop_display
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 0
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = urban_ratio
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = urban_pop_display
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					change_variable = {
						which = upper_pop_display
						which = upper_pop_r
					}
					change_variable = {
						which = total_pop_display
						which = total_pop_r
					}
					subtract_variable = {
						which = tempRural
						which = rural_pop_display
					}
					subtract_variable = {
						which = tempUrban
						which = urban_pop_display
					}
					subtract_variable = {
						which = rural_change_display
						which = tempRural
					}
					subtract_variable = {
						which = urban_change_display
						which = tempUrban
					}
					set_variable = {
						which = tempRural
						value = 0
					}
					set_variable = {
						which = tempUrban
						value = 0
					}
					set_variable = {
						which = total_change_display
						which = rural_change_display
					}
					change_variable = {
						which = total_change_display
						which = urban_change_display
					}
					set_variable = {
						which = urban_ratio
						value = 100
					}
					subtract_variable = {
						which = urban_ratio
						which = InvPopRatio
					}
					set_variable = {
						which = InvPopRatio
						value = 0
					}
					set_variable = {
						which = tempRural
						which = rural_pop_display
					}
					set_variable = {
						which = tempUrban
						which = urban_pop_display
					}
					set_variable = {
						which = rural_pop_display
						value = 0
					}
					set_variable = {
						which = urban_pop_display
						value = 0
					}
					set_variable = {
						which = upper_pop_display
						value = 0
					}
					set_variable = {
						which = total_pop_display
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 100
					}
					subtract_variable = {
						which = t_P_ITV
						which = urban_ratio
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = t_P_ITV
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = rural_pop_display
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 0
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = urban_ratio
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = urban_pop_display
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					change_variable = {
						which = upper_pop_display
						which = upper_pop_r
					}
					change_variable = {
						which = total_pop_display
						which = total_pop_r
					}
					subtract_variable = {
						which = tempRural
						which = rural_pop_display
					}
					subtract_variable = {
						which = tempUrban
						which = urban_pop_display
					}
					subtract_variable = {
						which = rural_change_display
						which = tempRural
					}
					subtract_variable = {
						which = urban_change_display
						which = tempUrban
					}
					set_variable = {
						which = tempRural
						value = 0
					}
					set_variable = {
						which = tempUrban
						value = 0
					}
					set_variable = {
						which = total_change_display
						which = rural_change_display
					}
					change_variable = {
						which = total_change_display
						which = urban_change_display
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = rural_pop
									value = 0.01
								}
							}
						}
						set_variable = {
							which = rural_pop
							value = 0.01
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = ideal_rural_pop
									value = 1
								}
							}
						}
						set_variable = {
							which = ideal_rural_pop
							value = 1
						}
					}
					set_variable = {
						which = t_P_ITV
						value = 100
					}
					subtract_variable = {
						which = t_P_ITV
						which = urban_ratio
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = t_P_ITV
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = rural_density
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = rural_density
								value = 0.01
							}
						}
						set_variable = {
							which = total_pop_compare
							which = rural_density
						}
						multiply_variable = {
							which = total_pop_compare
							value = 2
						}
						if = {
							limit = {
								check_variable = {
									which = ideal_rural_pop
									which = total_pop_compare
								}
								check_variable = {
									which = rural_density
									value = 10
								}
							}
							set_variable = {
								which = ideal_rural_pop
								which = rural_density
							}
						}
						set_variable = {
							which = total_pop_compare
							value = 0
						}
						divide_variable = {
							which = rural_density
							which = ideal_rural_pop
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = rural_density
									value = 0.5
								}
							}
						}
						set_variable = {
							which = rural_density
							value = 0.5
						}
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 0.001
							}
							OR = {
								check_variable = {
									which = rural_percentage_removed
									value = 0.001
								}
								check_variable = {
									which = rural_base_pop_removed
									value = 0.001
								}
								check_variable = {
									which = percent_rural_transfered
									value = 0.001
								}
							}
						}
						if = {
							limit = {
								OR = {
									is_city = yes
									is_colony = yes
								}
								has_province_flag = plague_attacked
								owner = {
									NOT = {
										is_tribal = yes
									}
								}
								NOT = {
									check_variable = {
										which = province_plague_immunity
										value = 0
									}
								}
								OR = {
									continent = north_america
									continent = south_america
									superregion = australia_superregion
								}
								OR = {
									AND = {
										owner = {
											is_colonial_nation = no
										}
										owner = {
											capital_scope = {
												continent = europe
											}
										}
									}
									AND = {
										owner = {
											is_colonial_nation = yes
										}
										owner = {
											colonial_parent = {
												capital_scope = {
													continent = europe
												}
											}
										}
									}
								}
							}
							set_variable = {
								which = rural_population_tribal_decrease
								which = rural_pop
							}
							divide_variable = {
								which = rural_population_tribal_decrease
								which = rural_population_old
							}
							change_variable = {
								which = rural_population_tribal_decrease
								value = 0.5
							}
							divide_variable = {
								which = rural_population_tribal_decrease
								value = 1.5
							}
							multiply_variable = {
								which = tribals_ratio
								which = rural_population_tribal_decrease
							}
							set_variable = {
								which = rural_population_tribal_decrease
								value = 0
							}
							if = {
								limit = {
									check_variable = {
										which = tribals_ratio
										value = 100
									}
								}
								set_variable = {
									which = tribals_ratio
									value = 100
								}
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = tribals_ratio
											value = 0
										}
									}
								}
								set_variable = {
									which = tribals_ratio
									value = 0
								}
							}
							set_variable = {
								which = tribals_ratio_display
								which = tribals_ratio
							}
							multiply_variable = {
								which = tribals_ratio_display
								value = 0.01
							}
							multiply_variable = {
								which = tribals_ratio_display
								value = 100
							}
						}
						else = {
							set_variable = {
								which = rural_population_tribal_increase
								which = rural_population_old
							}
							divide_variable = {
								which = rural_population_tribal_increase
								which = rural_pop
							}
							change_variable = {
								which = rural_population_tribal_increase
								value = 0.5
							}
							divide_variable = {
								which = rural_population_tribal_increase
								value = 1.5
							}
							multiply_variable = {
								which = tribals_ratio
								which = rural_population_tribal_increase
							}
							set_variable = {
								which = rural_population_tribal_increase
								value = 0
							}
							if = {
								limit = {
									check_variable = {
										which = tribals_ratio
										value = 100
									}
								}
								set_variable = {
									which = tribals_ratio
									value = 100
								}
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = tribals_ratio
											value = 0
										}
									}
								}
								set_variable = {
									which = tribals_ratio
									value = 0
								}
							}
							set_variable = {
								which = tribals_ratio_display
								which = tribals_ratio
							}
							multiply_variable = {
								which = tribals_ratio_display
								value = 0.01
							}
							multiply_variable = {
								which = tribals_ratio_display
								value = 100
							}
						}
					}
					set_variable = {
						which = rural_percentage_removed
						value = 0
					}
					set_variable = {
						which = rural_base_pop_removed
						value = 0
					}
					set_variable = {
						which = percent_rural_transfered
						value = 0
					}
					set_variable = {
						which = rural_population_old
						value = 0
					}
					set_variable = {
						which = rural_population_removed
						value = 0
					}
				}
			}
		}
		hidden_effect = {
			random_province = {
				limit = {
					area = north_korea_area
					culture = korean
				}
				province_event = {
					id = fall_of_goryeo.27
				}
			}
		}
	}
	option = {
		name = "fall_of_goryeo.26b"
		ai_chance = {
			factor = 1
			modifier = {
				factor = 100
				ROOT = {
					owns = 4036
				}
			}
		}
		liaoning_area = {
			add_claim = ROOT
		}
	}
}
province_event = {
	id = fall_of_goryeo.27
	title = "fall_of_goryeo.5.t"
	desc = "fall_of_goryeo.5.d"
	picture = SIEGE_eventPicture
	hidden = yes
	is_triggered_only = yes
	option = {
		name = "fall_of_goryeo.2a"
		4035 = {
			ROOT = {
				set_variable = {
					which = rural_population_fleeing
					value = 0
				}
				change_variable = {
					which = rural_population_fleeing
					which = PREV
				}
				hidden_effect = {
					set_variable = {
						which = rural_population_old
						which = rural_pop
					}
					set_variable = {
						which = rural_population_added
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = rural_percentage_added
								value = 0.001
							}
						}
						set_variable = {
							which = rural_population_added
							which = rural_pop
						}
						multiply_variable = {
							which = rural_population_added
							which = rural_percentage_added
						}
					}
					if = {
						limit = {
							check_variable = {
								which = rural_base_pop_added
								value = 0.001
							}
						}
						set_variable = {
							which = rural_population_added
							which = rural_base_pop_added
						}
					}
					if = {
						limit = {
							check_variable = {
								which = rural_population_fleeing
								value = 0.001
							}
						}
						set_variable = {
							which = rural_population_added
							which = rural_population_fleeing
						}
					}
					multiply_variable = {
						which = rural_population_added
						value = 10
					}
					set_variable = {
						which = InvPopRatio
						value = 100
					}
					subtract_variable = {
						which = InvPopRatio
						which = urban_ratio
					}
					set_variable = {
						which = PopRealValue
						which = total_pop_r
					}
					multiply_variable = {
						which = PopRealValue
						which = InvPopRatio
					}
					change_variable = {
						which = total_pop_r
						which = rural_population_added
					}
					set_variable = {
						which = PopRealChange
						which = rural_population_added
					}
					multiply_variable = {
						which = PopRealChange
						value = 100
					}
					change_variable = {
						which = PopRealValue
						which = PopRealChange
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = PopRealValue
									value = 1
								}
							}
						}
						set_variable = {
							which = PopRealValue
							value = 1
						}
					}
					set_variable = {
						which = rural_pop
						which = PopRealValue
					}
					multiply_variable = {
						which = rural_pop
						value = 0.001
					}
					divide_variable = {
						which = PopRealValue
						which = total_pop_r
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = PopRealValue
									value = 0.001
								}
							}
						}
						set_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
					set_variable = {
						which = InvPopRatio
						which = PopRealValue
					}
					set_variable = {
						which = total_pop
						which = total_pop_r
					}
					multiply_variable = {
						which = total_pop
						value = 0.1
					}
					set_variable = {
						which = PopRealValue
						value = 0
					}
					set_variable = {
						which = PopRealChange
						value = 0
					}
					set_variable = {
						which = tempRural
						which = rural_pop_display
					}
					set_variable = {
						which = tempUrban
						which = urban_pop_display
					}
					set_variable = {
						which = rural_pop_display
						value = 0
					}
					set_variable = {
						which = urban_pop_display
						value = 0
					}
					set_variable = {
						which = upper_pop_display
						value = 0
					}
					set_variable = {
						which = total_pop_display
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 100
					}
					subtract_variable = {
						which = t_P_ITV
						which = urban_ratio
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = t_P_ITV
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = rural_pop_display
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 0
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = urban_ratio
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = urban_pop_display
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					change_variable = {
						which = upper_pop_display
						which = upper_pop_r
					}
					change_variable = {
						which = total_pop_display
						which = total_pop_r
					}
					subtract_variable = {
						which = tempRural
						which = rural_pop_display
					}
					subtract_variable = {
						which = tempUrban
						which = urban_pop_display
					}
					subtract_variable = {
						which = rural_change_display
						which = tempRural
					}
					subtract_variable = {
						which = urban_change_display
						which = tempUrban
					}
					set_variable = {
						which = tempRural
						value = 0
					}
					set_variable = {
						which = tempUrban
						value = 0
					}
					set_variable = {
						which = total_change_display
						which = rural_change_display
					}
					change_variable = {
						which = total_change_display
						which = urban_change_display
					}
					set_variable = {
						which = urban_ratio
						value = 100
					}
					subtract_variable = {
						which = urban_ratio
						which = InvPopRatio
					}
					set_variable = {
						which = InvPopRatio
						value = 0
					}
					set_variable = {
						which = tempRural
						which = rural_pop_display
					}
					set_variable = {
						which = tempUrban
						which = urban_pop_display
					}
					set_variable = {
						which = rural_pop_display
						value = 0
					}
					set_variable = {
						which = urban_pop_display
						value = 0
					}
					set_variable = {
						which = upper_pop_display
						value = 0
					}
					set_variable = {
						which = total_pop_display
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 100
					}
					subtract_variable = {
						which = t_P_ITV
						which = urban_ratio
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = t_P_ITV
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = rural_pop_display
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 0
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = urban_ratio
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = urban_pop_display
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					change_variable = {
						which = upper_pop_display
						which = upper_pop_r
					}
					change_variable = {
						which = total_pop_display
						which = total_pop_r
					}
					subtract_variable = {
						which = tempRural
						which = rural_pop_display
					}
					subtract_variable = {
						which = tempUrban
						which = urban_pop_display
					}
					subtract_variable = {
						which = rural_change_display
						which = tempRural
					}
					subtract_variable = {
						which = urban_change_display
						which = tempUrban
					}
					set_variable = {
						which = tempRural
						value = 0
					}
					set_variable = {
						which = tempUrban
						value = 0
					}
					set_variable = {
						which = total_change_display
						which = rural_change_display
					}
					change_variable = {
						which = total_change_display
						which = urban_change_display
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = rural_pop
									value = 0.01
								}
							}
						}
						set_variable = {
							which = rural_pop
							value = 0.01
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = ideal_rural_pop
									value = 1
								}
							}
						}
						set_variable = {
							which = ideal_rural_pop
							value = 1
						}
					}
					set_variable = {
						which = t_P_ITV
						value = 100
					}
					subtract_variable = {
						which = t_P_ITV
						which = urban_ratio
					}
					set_variable = {
						which = t1_P_RTV
						which = total_pop_r
					}
					multiply_variable = {
						which = t1_P_RTV
						which = t_P_ITV
					}
					set_variable = {
						which = t2_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t1_P_RTV
						value = 0.01
					}
					set_variable = {
						which = t3_P_RTV
						which = t1_P_RTV
					}
					multiply_variable = {
						which = t3_P_RTV
						value = -100
					}
					change_variable = {
						which = t3_P_RTV
						which = t2_P_RTV
					}
					if = {
						limit = {
							check_variable = {
								which = t3_P_RTV
								value = 0.05
							}
						}
						change_variable = {
							which = t1_P_RTV
							value = 0.001
						}
					}
					set_variable = {
						which = rural_density
						which = t1_P_RTV
					}
					set_variable = {
						which = t1_P_RTV
						value = 0
					}
					set_variable = {
						which = t2_P_RTV
						value = 0
					}
					set_variable = {
						which = t3_P_RTV
						value = 0
					}
					set_variable = {
						which = t_P_ITV
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = rural_density
								value = 0.01
							}
						}
						set_variable = {
							which = total_pop_compare
							which = rural_density
						}
						multiply_variable = {
							which = total_pop_compare
							value = 2
						}
						if = {
							limit = {
								check_variable = {
									which = ideal_rural_pop
									which = total_pop_compare
								}
								check_variable = {
									which = rural_density
									value = 10
								}
							}
							set_variable = {
								which = ideal_rural_pop
								which = rural_density
							}
						}
						set_variable = {
							which = total_pop_compare
							value = 0
						}
						divide_variable = {
							which = rural_density
							which = ideal_rural_pop
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = rural_density
									value = 0.5
								}
							}
						}
						set_variable = {
							which = rural_density
							value = 0.5
						}
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 0.001
							}
							OR = {
								check_variable = {
									which = rural_percentage_added
									value = 0.001
								}
								check_variable = {
									which = rural_base_pop_added
									value = 0.001
								}
								check_variable = {
									which = rural_population_fleeing
									value = 0.001
								}
							}
						}
						set_variable = {
							which = rural_population_tribal_decrease
							which = rural_population_old
						}
						divide_variable = {
							which = rural_population_tribal_decrease
							which = rural_pop
						}
						change_variable = {
							which = rural_population_tribal_decrease
							value = 0.5
						}
						divide_variable = {
							which = rural_population_tribal_decrease
							value = 1.5
						}
						multiply_variable = {
							which = tribals_ratio
							which = rural_population_tribal_decrease
						}
						set_variable = {
							which = rural_population_tribal_decrease
							value = 0
						}
						if = {
							limit = {
								check_variable = {
									which = tribals_ratio
									value = 100
								}
							}
							set_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tribals_ratio
										value = 0
									}
								}
							}
							set_variable = {
								which = tribals_ratio
								value = 0
							}
						}
						set_variable = {
							which = tribals_ratio_display
							which = tribals_ratio
						}
						multiply_variable = {
							which = tribals_ratio_display
							value = 0.01
						}
						multiply_variable = {
							which = tribals_ratio_display
							value = 100
						}
					}
					set_variable = {
						which = rural_percentage_added
						value = 0
					}
					set_variable = {
						which = rural_base_pop_added
						value = 0
					}
					set_variable = {
						which = rural_population_old
						value = 0
					}
					set_variable = {
						which = rural_population_added
						value = 0
					}
				}
				set_variable = {
					which = rural_population_fleeing
					value = 0
				}
			}
			set_variable = {
				which = rural_population_fleeing
				value = 0
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.3
			}
			hidden_effect = {
				set_variable = {
					which = rural_population_old
					which = rural_pop
				}
				set_variable = {
					which = rural_population_removed
					value = 0
				}
				if = {
					limit = {
						check_variable = {
							which = rural_percentage_removed
							value = 0.001
						}
					}
					set_variable = {
						which = rural_population_removed
						which = rural_pop
					}
					multiply_variable = {
						which = rural_population_removed
						which = rural_percentage_removed
					}
					if = {
						limit = {
							check_variable = {
								which = percent_rural_transfered
								value = 0.001
							}
						}
						set_variable = {
							which = rural_population_fleeing
							value = 0
						}
						set_variable = {
							which = rural_population_fleeing
							which = rural_population_removed
						}
						multiply_variable = {
							which = rural_population_fleeing
							which = percent_rural_transfered
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = rural_base_pop_removed
							value = 0.001
						}
					}
					set_variable = {
						which = rural_population_removed
						which = rural_base_pop_removed
					}
				}
				multiply_variable = {
					which = rural_population_removed
					value = -10
				}
				set_variable = {
					which = InvPopRatio
					value = 100
				}
				subtract_variable = {
					which = InvPopRatio
					which = urban_ratio
				}
				set_variable = {
					which = PopRealValue
					which = total_pop_r
				}
				multiply_variable = {
					which = PopRealValue
					which = InvPopRatio
				}
				change_variable = {
					which = total_pop_r
					which = rural_population_removed
				}
				set_variable = {
					which = PopRealChange
					which = rural_population_removed
				}
				multiply_variable = {
					which = PopRealChange
					value = 100
				}
				change_variable = {
					which = PopRealValue
					which = PopRealChange
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = PopRealValue
								value = 1
							}
						}
					}
					set_variable = {
						which = PopRealValue
						value = 1
					}
				}
				set_variable = {
					which = rural_pop
					which = PopRealValue
				}
				multiply_variable = {
					which = rural_pop
					value = 0.001
				}
				divide_variable = {
					which = PopRealValue
					which = total_pop_r
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = PopRealValue
								value = 0.001
							}
						}
					}
					set_variable = {
						which = PopRealValue
						value = 0.001
					}
				}
				set_variable = {
					which = InvPopRatio
					which = PopRealValue
				}
				set_variable = {
					which = total_pop
					which = total_pop_r
				}
				multiply_variable = {
					which = total_pop
					value = 0.1
				}
				set_variable = {
					which = PopRealValue
					value = 0
				}
				set_variable = {
					which = PopRealChange
					value = 0
				}
				set_variable = {
					which = tempRural
					which = rural_pop_display
				}
				set_variable = {
					which = tempUrban
					which = urban_pop_display
				}
				set_variable = {
					which = rural_pop_display
					value = 0
				}
				set_variable = {
					which = urban_pop_display
					value = 0
				}
				set_variable = {
					which = upper_pop_display
					value = 0
				}
				set_variable = {
					which = total_pop_display
					value = 0
				}
				set_variable = {
					which = t_P_ITV
					value = 100
				}
				subtract_variable = {
					which = t_P_ITV
					which = urban_ratio
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = t_P_ITV
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = rural_pop_display
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				set_variable = {
					which = t_P_ITV
					value = 0
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = urban_ratio
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = urban_pop_display
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				change_variable = {
					which = upper_pop_display
					which = upper_pop_r
				}
				change_variable = {
					which = total_pop_display
					which = total_pop_r
				}
				subtract_variable = {
					which = tempRural
					which = rural_pop_display
				}
				subtract_variable = {
					which = tempUrban
					which = urban_pop_display
				}
				subtract_variable = {
					which = rural_change_display
					which = tempRural
				}
				subtract_variable = {
					which = urban_change_display
					which = tempUrban
				}
				set_variable = {
					which = tempRural
					value = 0
				}
				set_variable = {
					which = tempUrban
					value = 0
				}
				set_variable = {
					which = total_change_display
					which = rural_change_display
				}
				change_variable = {
					which = total_change_display
					which = urban_change_display
				}
				set_variable = {
					which = urban_ratio
					value = 100
				}
				subtract_variable = {
					which = urban_ratio
					which = InvPopRatio
				}
				set_variable = {
					which = InvPopRatio
					value = 0
				}
				set_variable = {
					which = tempRural
					which = rural_pop_display
				}
				set_variable = {
					which = tempUrban
					which = urban_pop_display
				}
				set_variable = {
					which = rural_pop_display
					value = 0
				}
				set_variable = {
					which = urban_pop_display
					value = 0
				}
				set_variable = {
					which = upper_pop_display
					value = 0
				}
				set_variable = {
					which = total_pop_display
					value = 0
				}
				set_variable = {
					which = t_P_ITV
					value = 100
				}
				subtract_variable = {
					which = t_P_ITV
					which = urban_ratio
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = t_P_ITV
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = rural_pop_display
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				set_variable = {
					which = t_P_ITV
					value = 0
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = urban_ratio
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = urban_pop_display
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				change_variable = {
					which = upper_pop_display
					which = upper_pop_r
				}
				change_variable = {
					which = total_pop_display
					which = total_pop_r
				}
				subtract_variable = {
					which = tempRural
					which = rural_pop_display
				}
				subtract_variable = {
					which = tempUrban
					which = urban_pop_display
				}
				subtract_variable = {
					which = rural_change_display
					which = tempRural
				}
				subtract_variable = {
					which = urban_change_display
					which = tempUrban
				}
				set_variable = {
					which = tempRural
					value = 0
				}
				set_variable = {
					which = tempUrban
					value = 0
				}
				set_variable = {
					which = total_change_display
					which = rural_change_display
				}
				change_variable = {
					which = total_change_display
					which = urban_change_display
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = rural_pop
								value = 0.01
							}
						}
					}
					set_variable = {
						which = rural_pop
						value = 0.01
					}
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = ideal_rural_pop
								value = 1
							}
						}
					}
					set_variable = {
						which = ideal_rural_pop
						value = 1
					}
				}
				set_variable = {
					which = t_P_ITV
					value = 100
				}
				subtract_variable = {
					which = t_P_ITV
					which = urban_ratio
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = t_P_ITV
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = rural_density
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				set_variable = {
					which = t_P_ITV
					value = 0
				}
				if = {
					limit = {
						check_variable = {
							which = rural_density
							value = 0.01
						}
					}
					set_variable = {
						which = total_pop_compare
						which = rural_density
					}
					multiply_variable = {
						which = total_pop_compare
						value = 2
					}
					if = {
						limit = {
							check_variable = {
								which = ideal_rural_pop
								which = total_pop_compare
							}
							check_variable = {
								which = rural_density
								value = 10
							}
						}
						set_variable = {
							which = ideal_rural_pop
							which = rural_density
						}
					}
					set_variable = {
						which = total_pop_compare
						value = 0
					}
					divide_variable = {
						which = rural_density
						which = ideal_rural_pop
					}
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = rural_density
								value = 0.5
							}
						}
					}
					set_variable = {
						which = rural_density
						value = 0.5
					}
				}
				if = {
					limit = {
						check_variable = {
							which = tribals_ratio
							value = 0.001
						}
						OR = {
							check_variable = {
								which = rural_percentage_removed
								value = 0.001
							}
							check_variable = {
								which = rural_base_pop_removed
								value = 0.001
							}
							check_variable = {
								which = percent_rural_transfered
								value = 0.001
							}
						}
					}
					if = {
						limit = {
							OR = {
								is_city = yes
								is_colony = yes
							}
							has_province_flag = plague_attacked
							owner = {
								NOT = {
									is_tribal = yes
								}
							}
							NOT = {
								check_variable = {
									which = province_plague_immunity
									value = 0
								}
							}
							OR = {
								continent = north_america
								continent = south_america
								superregion = australia_superregion
							}
							OR = {
								AND = {
									owner = {
										is_colonial_nation = no
									}
									owner = {
										capital_scope = {
											continent = europe
										}
									}
								}
								AND = {
									owner = {
										is_colonial_nation = yes
									}
									owner = {
										colonial_parent = {
											capital_scope = {
												continent = europe
											}
										}
									}
								}
							}
						}
						set_variable = {
							which = rural_population_tribal_decrease
							which = rural_pop
						}
						divide_variable = {
							which = rural_population_tribal_decrease
							which = rural_population_old
						}
						change_variable = {
							which = rural_population_tribal_decrease
							value = 0.5
						}
						divide_variable = {
							which = rural_population_tribal_decrease
							value = 1.5
						}
						multiply_variable = {
							which = tribals_ratio
							which = rural_population_tribal_decrease
						}
						set_variable = {
							which = rural_population_tribal_decrease
							value = 0
						}
						if = {
							limit = {
								check_variable = {
									which = tribals_ratio
									value = 100
								}
							}
							set_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tribals_ratio
										value = 0
									}
								}
							}
							set_variable = {
								which = tribals_ratio
								value = 0
							}
						}
						set_variable = {
							which = tribals_ratio_display
							which = tribals_ratio
						}
						multiply_variable = {
							which = tribals_ratio_display
							value = 0.01
						}
						multiply_variable = {
							which = tribals_ratio_display
							value = 100
						}
					}
					else = {
						set_variable = {
							which = rural_population_tribal_increase
							which = rural_population_old
						}
						divide_variable = {
							which = rural_population_tribal_increase
							which = rural_pop
						}
						change_variable = {
							which = rural_population_tribal_increase
							value = 0.5
						}
						divide_variable = {
							which = rural_population_tribal_increase
							value = 1.5
						}
						multiply_variable = {
							which = tribals_ratio
							which = rural_population_tribal_increase
						}
						set_variable = {
							which = rural_population_tribal_increase
							value = 0
						}
						if = {
							limit = {
								check_variable = {
									which = tribals_ratio
									value = 100
								}
							}
							set_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = tribals_ratio
										value = 0
									}
								}
							}
							set_variable = {
								which = tribals_ratio
								value = 0
							}
						}
						set_variable = {
							which = tribals_ratio_display
							which = tribals_ratio
						}
						multiply_variable = {
							which = tribals_ratio_display
							value = 0.01
						}
						multiply_variable = {
							which = tribals_ratio_display
							value = 100
						}
					}
				}
				set_variable = {
					which = rural_percentage_removed
					value = 0
				}
				set_variable = {
					which = rural_base_pop_removed
					value = 0
				}
				set_variable = {
					which = percent_rural_transfered
					value = 0
				}
				set_variable = {
					which = rural_population_old
					value = 0
				}
				set_variable = {
					which = rural_population_removed
					value = 0
				}
			}
		}
	}
}
