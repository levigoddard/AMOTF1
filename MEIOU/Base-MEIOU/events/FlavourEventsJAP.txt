country_event = {
	id = flavor_jap.5
	title = "flavor_jap.EVTNAME5"
	desc = "flavor_jap.EVTDESC5"
	picture = SHIP_SAILING_eventPicture
	trigger = {
		has_country_modifier = sakoku_law
		is_subject = no
		had_country_flag = {
			flag = sakoku_law
			days = 7300
		}
		NOT = {
			has_country_flag = jap_sakoku
		}
		NOT = {
			has_country_modifier = jap_follow_sakoku
		}
		NOT = {
			has_country_modifier = jap_question_sakoku
		}
	}
	mean_time_to_happen = {
		months = 600
	}
	option = {
		name = "flavor_jap.EVTOPTA5"
		ai_chance = {
			factor = 100
		}
		add_country_modifier = {
			name = jap_follow_sakoku
			duration = 3650
		}
		set_country_flag = jap_sakoku
	}
	option = {
		name = "flavor_jap.EVTOPTB5"
		ai_chance = {
			factor = 0
		}
		add_country_modifier = {
			name = jap_question_sakoku
			duration = 3650
		}
		add_stability = -1
		hidden_effect = {
			country_event = {
				id = POP_Stability.003
			}
		}
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -5
		}
		remove_country_modifier = sakoku_law
		set_country_flag = jap_sakoku
		every_subject_country = {
			limit = {
				has_country_modifier = sakoku_law
			}
			remove_country_modifier = sakoku_law
		}
	}
}
country_event = {
	id = flavor_jap.6
	title = "flavor_jap.EVTNAME6"
	desc = "flavor_jap.EVTDESC6"
	picture = SHIP_SAILING_eventPicture
	trigger = {
		culture_group = japanese
		has_country_modifier = sakoku_law
		has_country_flag = sakoku_law
		has_country_flag = ned_dejima_allowed
		any_province = {
			NOT = {
				is_wasteland = yes
			}
			OR = {
				region = east_japan_region
				region = central_japan_region
				region = west_japan_region
			}
			has_discovered = NED
		}
		NOT = {
			has_country_flag = jap_rangaku
		}
		NOT = {
			has_ruler_modifier = jap_rangaku
		}
		NOT = {
			has_ruler_modifier = jap_closed
		}
	}
	mean_time_to_happen = {
		months = 200
	}
	option = {
		name = "flavor_jap.EVTOPTA6"
		add_ruler_modifier = {
			name = jap_rangaku
		}
		set_country_flag = jap_rangaku
	}
	option = {
		name = "flavor_jap.EVTOPTB6"
		add_ruler_modifier = {
			name = jap_closed
		}
		set_country_flag = jap_rangaku
	}
}
country_event = {
	id = flavor_jap.7
	title = "flavor_jap.EVTNAME7"
	desc = "flavor_jap.EVTDESC7"
	picture = SHIP_SAILING_eventPicture
	trigger = {
		culture_group = japanese
		NOT = {
			tag = RYU
		}
		has_global_flag = japan_has_encountered_the_west
		NOT = {
			has_global_flag = japan_is_closed
		}
		NOT = {
			has_institution = global_trade
		}
		NOT = {
			has_country_modifier = sakoku_law
		}
		NOT = {
			has_country_flag = sakoku_law
		}
		NOT = {
			has_country_flag = western_trade_flag
		}
	}
	mean_time_to_happen = {
		months = 200
	}
	option = {
		name = "flavor_jap.EVTOPTA7"
		add_country_modifier = {
			name = western_trade
			duration = -1
		}
		set_country_flag = western_trade_flag
	}
}
country_event = {
	id = flavor_jap.8
	title = "flavor_jap.EVTNAME8"
	desc = "flavor_jap.EVTDESC8"
	picture = SHIP_SAILING_eventPicture
	trigger = {
		culture_group = japanese
		has_country_modifier = western_trade
		had_country_flag = {
			flag = western_trade_flag
			days = 90
		}
		has_regency = no
		NOT = {
			has_country_flag = william_adams
		}
		num_of_ports = 1
	}
	mean_time_to_happen = {
		months = 200
	}
	immediate = {
		set_country_flag = william_adams
	}
	option = {
		name = "flavor_jap.EVTOPTA8"
		custom_tooltip = stability_points_gained_50
		hidden_effect = {
			change_variable = {
				which = stability_points
				value = 50
			}
			country_event = {
				id = POP_Stability.002
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB8"
		add_stability = -1
		hidden_effect = {
			country_event = {
				id = POP_Stability.003
			}
		}
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -5
		}
		add_ruler_modifier = {
			name = jap_western_wrecked_ship
		}
	}
	option = {
		name = "flavor_jap.EVTOPTC8"
		add_prestige = -10
		random_list = {
			30 = {}
			40 = {
				custom_tooltip = stability_points_lost_50
				hidden_effect = {
					subtract_variable = {
						which = stability_points
						value = 50
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = stability_points
									value = 0
								}
							}
						}
						add_stability = -1
						country_event = {
							id = POP_Stability.003
						}
						if = {
							limit = {
								is_emperor_of_china = yes
							}
							add_mandate = -5
						}
					}
				}
			}
			30 = {
				add_stability = -1
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -5
				}
			}
		}
		define_advisor = {
			name = "William Adams"
			culture = english
			religion = protestant
			type = trader
			discount = yes
			skill = 2
		}
	}
}
country_event = {
	id = flavor_jap.10
	title = "flavor_jap.EVTNAME10"
	desc = "flavor_jap.EVTDESC10"
	picture = ASSASSINATION_eventPicture
	is_triggered_only = yes
	trigger = {
		OR = {
			has_global_flag = sengoku_jidai
			is_subject_of_type = daimyo_vassal
		}
		culture_group = japanese
		NOT = {
			has_country_modifier = title_5
			has_country_modifier = title_6
		}
		num_of_owned_provinces_with = {
			value = 5
			culture_group = japanese
		}
		has_leaders = {
			value = 1
			type = general
			include_monarch = no
			include_heir = no
		}
	}
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			NOT = {
				stability = 1
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA10"
		add_prestige = 10
		kill_leader = {
			type = general
		}
	}
}
country_event = {
	id = flavor_jap.11
	title = "flavor_jap.EVTNAME11"
	desc = "flavor_jap.EVTDESC11"
	picture = CITY_DEVELOPMENT_eventPicture
	trigger = {
		NOT = {
			has_country_flag = jap_jokamachi_flag
		}
		culture_group = japanese
		MIL = 4
		any_owned_province = {
			can_build = fort_16th
		}
	}
	mean_time_to_happen = {
		months = 600
		modifier = {
			factor = 0.5
			any_neighbor_country = {
				any_owned_province = {
					has_province_modifier = japanese_jokamachi
				}
			}
		}
	}
	immediate = {
		hidden_effect = {
			set_country_flag = jap_jokamachi_flag
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA11"
		ai_chance = {
			factor = 80
		}
		random_owned_province = {
			limit = {
				NOT = {
					has_building = fort_16th
				}
				can_build = fort_16th
			}
			add_building = fort_16th
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB11"
		ai_chance = {
			factor = 20
		}
		add_mil_power = 25
	}
}
country_event = {
	id = flavor_jap.12
	title = "flavor_jap.EVTNAME12"
	desc = "flavor_jap.EVTDESC12"
	picture = THEATRE_eventPicture
	trigger = {
		culture_group = japanese
		is_year = 1600
		dip = 4
		has_regency = no
		NOT = {
			has_country_modifier = jap_culture
			has_country_flag = jap_culture_flag
		}
	}
	mean_time_to_happen = {
		months = 400
	}
	option = {
		name = "flavor_jap.EVTOPTA12"
		add_years_of_income = -0.5
		add_country_modifier = {
			name = jap_culture
			duration = 7300
		}
		hidden_effect = {
			set_country_flag = jap_culture_flag
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB12"
		add_prestige = -10
		hidden_effect = {
			set_country_flag = jap_culture_flag
		}
	}
}
country_event = {
	id = flavor_jap.13
	title = "flavor_jap.EVTNAME13"
	desc = "flavor_jap.EVTDESC13"
	picture = UNIVERSITY_eventPicture
	trigger = {
		culture_group = japanese
		estate_influence = {
			estate = estate_city_burghers
			influence = 60
		}
		NOT = {
			has_country_modifier = jap_terakoya
			has_country_flag = jap_terakoya_country_flag
		}
	}
	mean_time_to_happen = {
		months = 400
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					culture_group = japanese
					has_province_flag = burghers_control_province
				}
				set_province_flag = jap_terakoya_flag1
			}
			random_owned_province = {
				limit = {
					culture_group = japanese
					has_province_flag = burghers_control_province
					NOT = {
						has_province_flag = jap_terakoya_flag1
					}
				}
				set_province_flag = jap_terakoya_flag2
			}
			set_variable = {
				which = burghers_loyalty_added_a
				value = 5
			}
			set_variable = {
				which = burghers_loyalty_removed_a
				value = 5
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA13"
		add_years_of_income = -0.5
		add_country_modifier = {
			name = jap_terakoya
			duration = 7300
		}
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = jap_terakoya_flag1
				}
				clr_province_flag = jap_terakoya_flag1
			}
			random_owned_province = {
				limit = {
					has_province_flag = jap_terakoya_flag2
				}
				clr_province_flag = jap_terakoya_flag2
			}
			set_country_flag = jap_terakoya_country_flag
		}
		if = {
			limit = {
				check_variable = {
					which = estate_burghers_weight_share
					value = 0.01
				}
			}
			custom_tooltip = estate_burghers_loyalty_added_a
			hidden_effect = {
				set_variable = {
					which = burghers_loyalty_added
					value = 0
				}
				set_variable = {
					which = burghers_loyalty_added
					which = burghers_loyalty_added_a
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_added
							value = 64
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = 64
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = 0.64
					}
					subtract_variable = {
						which = burghers_loyalty_added
						value = 64
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_added
							value = 32
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = 32
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = 0.32
					}
					subtract_variable = {
						which = burghers_loyalty_added
						value = 32
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_added
							value = 16
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = 16
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = 0.16
					}
					subtract_variable = {
						which = burghers_loyalty_added
						value = 16
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_added
							value = 8
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = 8
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = 0.08
					}
					subtract_variable = {
						which = burghers_loyalty_added
						value = 8
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_added
							value = 4
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = 4
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = 0.04
					}
					subtract_variable = {
						which = burghers_loyalty_added
						value = 4
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_added
							value = 2
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = 2
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = 0.02
					}
					subtract_variable = {
						which = burghers_loyalty_added
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_added
							value = 1
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = 1
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = 0.01
					}
					subtract_variable = {
						which = burghers_loyalty_added
						value = 1
					}
				}
				if = {
					limit = {
						check_variable = {
							which = estate_burghers_loyalty
							value = 1
						}
					}
					set_variable = {
						which = estate_burghers_loyalty
						value = 1
					}
				}
				every_owned_province = {
					limit = {
						has_province_flag = burghers_control_province
					}
					hidden_effect = {
						set_variable = {
							which = estate_burghers_loyalty
							which = owner
						}
						set_variable = {
							which = EstateProv_UnrestSave
							which = EstateProv_Unrest
						}
						set_variable = {
							which = EstateProv_Unrest
							which = estate_burghers_loyalty
						}
						set_variable = {
							which = estate_burghers_loyalty
							value = 0
						}
						if = {
							limit = {
								check_variable = {
									which = EstateProv_Unrest
									value = 0.6
								}
							}
							set_province_flag = loss
							subtract_variable = {
								which = EstateProv_Unrest
								value = 0.6
							}
						}
						else_if = {
							limit = {
								NOT = {
									check_variable = {
										which = EstateProv_Unrest
										value = 0.401
									}
								}
							}
							set_province_flag = gain
							subtract_variable = {
								which = EstateProv_Unrest
								value = 0.4
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = -1
							}
						}
						else = {
							set_variable = {
								which = EstateProv_Unrest
								value = 0
							}
						}
						multiply_variable = {
							which = EstateProv_Unrest
							value = 16.62
						}
						set_variable = {
							which = inp_m_exp
							which = EstateProv_Unrest
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = inp_m_exp
										value = 0
									}
								}
							}
							set_variable = {
								which = exp_val
								value = 0
							}
							change_variable = {
								which = err.math.exp.undef
								value = 1
							}
						}
						else_if = {
							limit = {
								is_variable_equal = {
									which = inp_m_exp
									value = 0
								}
							}
							set_variable = {
								which = exp_val
								value = 0
							}
						}
						else = {
							set_variable = {
								which = exp_m_exp
								value = 1.7
							}
							set_variable = {
								which = int_m_exp
								which = exp_m_exp
							}
							multiply_variable = {
								which = int_m_exp
								value = 0.001
							}
							multiply_variable = {
								which = int_m_exp
								value = 1000
							}
							set_variable = {
								which = dec_m_exp
								which = exp_m_exp
							}
							subtract_variable = {
								which = dec_m_exp
								which = int_m_exp
							}
							set_variable = {
								which = inp
								which = inp_m_exp
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = inp
											value = 0.001
										}
									}
								}
								set_variable = {
									which = ln_val
									value = 0
								}
								change_variable = {
									which = err.math.ln.undef
									value = 1
								}
							}
							else = {
								set_variable = {
									which = ln_val
									value = 0
								}
								set_variable = {
									which = scale
									value = 10000
								}
								set_variable = {
									which = k
									value = 0
								}
								set_variable = {
									which = k_div
									which = scale
								}
								while = {
									limit = {
										check_variable = {
											which = inp
											value = 2.001
										}
									}
									multiply_variable = {
										which = inp
										value = 0.5
									}
									change_variable = {
										which = ln_val
										value = 6931.472
									}
								}
								while = {
									limit = {
										NOT = {
											check_variable = {
												which = inp
												value = 1
											}
										}
									}
									multiply_variable = {
										which = inp
										value = 2
									}
									subtract_variable = {
										which = ln_val
										value = 6931.472
									}
								}
								multiply_variable = {
									which = inp
									which = scale
								}
								while = {
									limit = {
										NOT = {
											check_variable = {
												which = k
												value = 10
											}
										}
									}
									change_variable = {
										which = k
										value = 1
									}
									multiply_variable = {
										which = k_div
										value = 0.5
									}
									set_variable = {
										which = t_m_ln
										which = scale
									}
									change_variable = {
										which = t_m_ln
										which = k_div
									}
									if = {
										limit = {
											check_variable = {
												which = inp
												which = t_m_ln
											}
										}
										divide_variable = {
											which = inp
											which = t_m_ln
										}
										multiply_variable = {
											which = inp
											which = scale
										}
										set_variable = {
											which = lt_ind
											which = k
										}
										if = {
											limit = {
												check_variable = {
													which = lt_ind
													value = 6
												}
											}
											if = {
												limit = {
													check_variable = {
														which = lt_ind
														value = 8
													}
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 9
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 10
															}
														}
														set_variable = {
															which = lt_val
															value = 9.761
														}
													}
													else = {
														set_variable = {
															which = lt_val
															value = 19.512
														}
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 38.986
													}
												}
											}
											else = {
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 7
														}
													}
													set_variable = {
														which = lt_val
														value = 77.821
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 155.042
													}
												}
											}
										}
										else = {
											if = {
												limit = {
													check_variable = {
														which = lt_ind
														value = 3
													}
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 4
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 5
															}
														}
														set_variable = {
															which = lt_val
															value = 307.717
														}
													}
													else = {
														set_variable = {
															which = lt_val
															value = 606.246
														}
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 1177.83
													}
												}
											}
											else = {
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 2
														}
													}
													set_variable = {
														which = lt_val
														value = 2231.436
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 4054.651
													}
												}
											}
										}
										set_variable = {
											which = lt_ind
											value = 0
										}
										change_variable = {
											which = ln_val
											which = lt_val
										}
									}
									set_variable = {
										which = t_m_ln
										value = 0
									}
								}
								divide_variable = {
									which = ln_val
									value = 10000
								}
								set_variable = {
									which = scale
									value = 0
								}
								set_variable = {
									which = k
									value = 0
								}
								set_variable = {
									which = k_div
									value = 0
								}
								set_variable = {
									which = lt_val
									value = 0
								}
							}
							set_variable = {
								which = inp
								value = 0
							}
							multiply_variable = {
								which = dec_m_exp
								which = ln_val
							}
							set_variable = {
								which = math.e.expnt
								which = dec_m_exp
							}
							set_variable = {
								which = math.e.return
								value = 1
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = math.e.expnt
											value = -6.999
										}
									}
								}
								set_variable = {
									which = exp_val
									value = 0
								}
							}
							else = {
								while = {
									limit = {
										check_variable = {
											which = math.e.expnt
											value = 1
										}
									}
									subtract_variable = {
										which = math.e.expnt
										value = 1
									}
									multiply_variable = {
										which = math.e.return
										value = 2.718
									}
								}
								while = {
									limit = {
										NOT = {
											check_variable = {
												which = math.e.expnt
												value = 0
											}
										}
									}
									change_variable = {
										which = math.e.expnt
										value = 1
									}
									divide_variable = {
										which = math.e.return
										value = 2.718
									}
								}
								set_variable = {
									which = math.e.sm
									value = 1
								}
								if = {
									limit = {
										NOT = {
											is_variable_equal = {
												which = math.e.expnt
												value = 0
											}
										}
									}
									set_variable = {
										which = math.e.sq
										which = math.e.expnt
									}
									multiply_variable = {
										which = math.e.sq
										which = math.e.expnt
									}
									set_variable = {
										which = math.e.fct
										value = 2
									}
									set_variable = {
										which = math.e.fctl
										value = 2
									}
									set_variable = {
										which = math.e.a1
										which = math.e.sq
									}
									set_variable = {
										which = math.e.a2
										which = math.e.expnt
									}
									set_variable = {
										which = math.e.a3
										value = 2
									}
									set_variable = {
										which = math.e.tmp
										which = math.e.a2
									}
									multiply_variable = {
										which = math.e.tmp
										which = math.e.a3
									}
									change_variable = {
										which = math.e.tmp
										which = math.e.a1
									}
									divide_variable = {
										which = math.e.tmp
										which = math.e.fct
									}
									change_variable = {
										which = math.e.sm
										which = math.e.tmp
									}
									set_variable = {
										which = math.e.prec
										value = 3
									}
									subtract_variable = {
										which = math.e.prec
										value = 1
									}
									while = {
										limit = {
											check_variable = {
												which = math.e.prec
												value = 1
											}
										}
										subtract_variable = {
											which = math.e.prec
											value = 1
										}
										change_variable = {
											which = math.e.fctl
											value = 1
										}
										multiply_variable = {
											which = math.e.fct
											which = math.e.fctl
										}
										change_variable = {
											which = math.e.fctl
											value = 1
										}
										multiply_variable = {
											which = math.e.fct
											which = math.e.fctl
										}
										multiply_variable = {
											which = math.e.a1
											which = math.e.sq
										}
										multiply_variable = {
											which = math.e.a2
											which = math.e.sq
										}
										change_variable = {
											which = math.e.a3
											value = 2
										}
										set_variable = {
											which = math.e.tmp
											which = math.e.a2
										}
										multiply_variable = {
											which = math.e.tmp
											which = math.e.a3
										}
										change_variable = {
											which = math.e.tmp
											which = math.e.a1
										}
										divide_variable = {
											which = math.e.tmp
											which = math.e.fct
										}
										change_variable = {
											which = math.e.sm
											which = math.e.tmp
										}
									}
								}
								multiply_variable = {
									which = math.e.return
									which = math.e.sm
								}
								set_variable = {
									which = exp_val
									which = math.e.return
								}
								set_variable = {
									which = math.e.sm
									value = 0
								}
								set_variable = {
									which = math.e.tmp
									value = 0
								}
								set_variable = {
									which = math.e.a1
									value = 0
								}
								set_variable = {
									which = math.e.a2
									value = 0
								}
								set_variable = {
									which = math.e.a3
									value = 0
								}
								set_variable = {
									which = math.e.fctl
									value = 0
								}
								set_variable = {
									which = math.e.fct
									value = 0
								}
								set_variable = {
									which = math.e.prec
									value = 0
								}
								set_variable = {
									which = math.e.sq
									value = 0
								}
							}
							set_variable = {
								which = math.e.expnt
								value = 0
							}
							set_variable = {
								which = math.e.return
								value = 0
							}
							while = {
								limit = {
									check_variable = {
										which = int_m_exp
										value = 1
									}
								}
								subtract_variable = {
									which = int_m_exp
									value = 1
								}
								multiply_variable = {
									which = exp_val
									which = inp_m_exp
								}
							}
							set_variable = {
								which = exp_m_exp
								value = 0
							}
							set_variable = {
								which = int_m_exp
								value = 0
							}
							set_variable = {
								which = dec_m_exp
								value = 0
							}
							set_variable = {
								which = ln_val
								value = 0
							}
						}
						set_variable = {
							which = inp_m_exp
							value = 0
						}
						set_variable = {
							which = EstateProv_Unrest
							which = exp_val
						}
						set_variable = {
							which = exp_val
							value = 0
						}
						export_to_variable = {
							which = EstateProv_LA
							value = local_autonomy
						}
						multiply_variable = {
							which = EstateProv_LA
							value = 0.008
						}
						change_variable = {
							which = EstateProv_LA
							value = 0.2
						}
						multiply_variable = {
							which = EstateProv_Unrest
							which = EstateProv_LA
						}
						set_variable = {
							which = EstateProv_Unrest_Inp
							which = EstateProv_Unrest
						}
						if = {
							limit = {
								has_province_flag = loss
							}
							clr_province_flag = loss
							multiply_variable = {
								which = EstateProv_Unrest
								value = -1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 0.1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 10
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 25.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 25.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_25.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_25.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_25.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 12.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 12.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_12.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_12.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_12.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 6.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 6.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_6.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_6.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_6.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 3.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 3.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_3.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_3.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_3.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 1.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 1.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_1.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_1.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_1.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.1
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.1
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.1
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.1
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.1
							}
						}
						else_if = {
							limit = {
								has_province_flag = gain
							}
							clr_province_flag = gain
							multiply_variable = {
								which = EstateProv_Unrest
								value = 1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 0.1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 10
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 25.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 25.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_25.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_25.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_25.6
								}
								remove_province_modifier = EstateProv_UnrestGain_25.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 12.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 12.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_12.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_12.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_12.8
								}
								remove_province_modifier = EstateProv_UnrestGain_12.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 6.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 6.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_6.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_6.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_6.4
								}
								remove_province_modifier = EstateProv_UnrestGain_6.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 3.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 3.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_3.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_3.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_3.2
								}
								remove_province_modifier = EstateProv_UnrestGain_3.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 1.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 1.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_1.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_1.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_1.6
								}
								remove_province_modifier = EstateProv_UnrestGain_1.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.8
								}
								remove_province_modifier = EstateProv_UnrestGain_0.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.4
								}
								remove_province_modifier = EstateProv_UnrestGain_0.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.2
								}
								remove_province_modifier = EstateProv_UnrestGain_0.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.1
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.1
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.1
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.1
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.1
								}
								remove_province_modifier = EstateProv_UnrestGain_0.1
							}
						}
						if = {
							limit = {
								check_variable = {
									which = EstateProv_UnrestSave
									value = 0.001
								}
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = EstateProv_Unrest
											value = 0.001
										}
									}
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_25.6
									}
									remove_province_modifier = EstateProv_UnrestGain_25.6
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_12.8
									}
									remove_province_modifier = EstateProv_UnrestGain_12.8
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_6.4
									}
									remove_province_modifier = EstateProv_UnrestGain_6.4
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_3.2
									}
									remove_province_modifier = EstateProv_UnrestGain_3.2
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_1.6
									}
									remove_province_modifier = EstateProv_UnrestGain_1.6
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.8
									}
									remove_province_modifier = EstateProv_UnrestGain_0.8
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.4
									}
									remove_province_modifier = EstateProv_UnrestGain_0.4
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.2
									}
									remove_province_modifier = EstateProv_UnrestGain_0.2
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.1
									}
									remove_province_modifier = EstateProv_UnrestGain_0.1
								}
							}
						}
						else_if = {
							limit = {
								NOT = {
									check_variable = {
										which = EstateProv_UnrestSave
										value = 0
									}
								}
								check_variable = {
									which = EstateProv_Unrest
									value = 0
								}
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_25.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_25.6
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_12.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_12.8
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_6.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_6.4
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_3.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_3.2
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_1.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_1.6
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.8
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.4
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.2
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.1
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.1
							}
						}
						if = {
							limit = {
								is_variable_equal = {
									which = EstateProv_Unrest
									value = 0
								}
							}
							set_variable = {
								which = EstateProv_Unrest
								value = 0
							}
						}
						set_variable = {
							which = EstateProv_UnrestSave
							value = 0
						}
						set_variable = {
							which = EstateProv_LA
							value = 0
						}
						set_variable = {
							which = EstateProv_Unrest_Inp
							value = 0
						}
					}
				}
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB13"
		if = {
			limit = {
				check_variable = {
					which = estate_burghers_weight_share
					value = 0.01
				}
			}
			custom_tooltip = estate_burghers_loyalty_removed_a
			hidden_effect = {
				set_variable = {
					which = burghers_loyalty_removed
					value = 0
				}
				set_variable = {
					which = burghers_loyalty_removed
					which = burghers_loyalty_removed_a
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_removed
							value = 64
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = -64
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = -0.64
					}
					subtract_variable = {
						which = burghers_loyalty_removed
						value = 64
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_removed
							value = 32
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = -32
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = -0.32
					}
					subtract_variable = {
						which = burghers_loyalty_removed
						value = 32
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_removed
							value = 16
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = -16
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = -0.16
					}
					subtract_variable = {
						which = burghers_loyalty_removed
						value = 16
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_removed
							value = 8
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = -8
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = -0.08
					}
					subtract_variable = {
						which = burghers_loyalty_removed
						value = 8
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_removed
							value = 4
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = -4
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = -0.04
					}
					subtract_variable = {
						which = burghers_loyalty_removed
						value = 4
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_removed
							value = 2
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = -2
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = -0.02
					}
					subtract_variable = {
						which = burghers_loyalty_removed
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = burghers_loyalty_removed
							value = 1
						}
					}
					add_estate_loyalty = {
						estate = estate_city_burghers
						loyalty = -1
					}
					change_variable = {
						which = estate_burghers_loyalty
						value = -0.01
					}
					subtract_variable = {
						which = burghers_loyalty_removed
						value = 1
					}
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = estate_burghers_loyalty
								value = 0.01
							}
						}
					}
					set_variable = {
						which = estate_burghers_loyalty
						value = 0.01
					}
				}
				every_owned_province = {
					limit = {
						has_province_flag = burghers_control_province
					}
					hidden_effect = {
						set_variable = {
							which = estate_burghers_loyalty
							which = owner
						}
						set_variable = {
							which = EstateProv_UnrestSave
							which = EstateProv_Unrest
						}
						set_variable = {
							which = EstateProv_Unrest
							which = estate_burghers_loyalty
						}
						set_variable = {
							which = estate_burghers_loyalty
							value = 0
						}
						if = {
							limit = {
								check_variable = {
									which = EstateProv_Unrest
									value = 0.6
								}
							}
							set_province_flag = loss
							subtract_variable = {
								which = EstateProv_Unrest
								value = 0.6
							}
						}
						else_if = {
							limit = {
								NOT = {
									check_variable = {
										which = EstateProv_Unrest
										value = 0.401
									}
								}
							}
							set_province_flag = gain
							subtract_variable = {
								which = EstateProv_Unrest
								value = 0.4
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = -1
							}
						}
						else = {
							set_variable = {
								which = EstateProv_Unrest
								value = 0
							}
						}
						multiply_variable = {
							which = EstateProv_Unrest
							value = 16.62
						}
						set_variable = {
							which = inp_m_exp
							which = EstateProv_Unrest
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = inp_m_exp
										value = 0
									}
								}
							}
							set_variable = {
								which = exp_val
								value = 0
							}
							change_variable = {
								which = err.math.exp.undef
								value = 1
							}
						}
						else_if = {
							limit = {
								is_variable_equal = {
									which = inp_m_exp
									value = 0
								}
							}
							set_variable = {
								which = exp_val
								value = 0
							}
						}
						else = {
							set_variable = {
								which = exp_m_exp
								value = 1.7
							}
							set_variable = {
								which = int_m_exp
								which = exp_m_exp
							}
							multiply_variable = {
								which = int_m_exp
								value = 0.001
							}
							multiply_variable = {
								which = int_m_exp
								value = 1000
							}
							set_variable = {
								which = dec_m_exp
								which = exp_m_exp
							}
							subtract_variable = {
								which = dec_m_exp
								which = int_m_exp
							}
							set_variable = {
								which = inp
								which = inp_m_exp
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = inp
											value = 0.001
										}
									}
								}
								set_variable = {
									which = ln_val
									value = 0
								}
								change_variable = {
									which = err.math.ln.undef
									value = 1
								}
							}
							else = {
								set_variable = {
									which = ln_val
									value = 0
								}
								set_variable = {
									which = scale
									value = 10000
								}
								set_variable = {
									which = k
									value = 0
								}
								set_variable = {
									which = k_div
									which = scale
								}
								while = {
									limit = {
										check_variable = {
											which = inp
											value = 2.001
										}
									}
									multiply_variable = {
										which = inp
										value = 0.5
									}
									change_variable = {
										which = ln_val
										value = 6931.472
									}
								}
								while = {
									limit = {
										NOT = {
											check_variable = {
												which = inp
												value = 1
											}
										}
									}
									multiply_variable = {
										which = inp
										value = 2
									}
									subtract_variable = {
										which = ln_val
										value = 6931.472
									}
								}
								multiply_variable = {
									which = inp
									which = scale
								}
								while = {
									limit = {
										NOT = {
											check_variable = {
												which = k
												value = 10
											}
										}
									}
									change_variable = {
										which = k
										value = 1
									}
									multiply_variable = {
										which = k_div
										value = 0.5
									}
									set_variable = {
										which = t_m_ln
										which = scale
									}
									change_variable = {
										which = t_m_ln
										which = k_div
									}
									if = {
										limit = {
											check_variable = {
												which = inp
												which = t_m_ln
											}
										}
										divide_variable = {
											which = inp
											which = t_m_ln
										}
										multiply_variable = {
											which = inp
											which = scale
										}
										set_variable = {
											which = lt_ind
											which = k
										}
										if = {
											limit = {
												check_variable = {
													which = lt_ind
													value = 6
												}
											}
											if = {
												limit = {
													check_variable = {
														which = lt_ind
														value = 8
													}
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 9
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 10
															}
														}
														set_variable = {
															which = lt_val
															value = 9.761
														}
													}
													else = {
														set_variable = {
															which = lt_val
															value = 19.512
														}
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 38.986
													}
												}
											}
											else = {
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 7
														}
													}
													set_variable = {
														which = lt_val
														value = 77.821
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 155.042
													}
												}
											}
										}
										else = {
											if = {
												limit = {
													check_variable = {
														which = lt_ind
														value = 3
													}
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 4
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 5
															}
														}
														set_variable = {
															which = lt_val
															value = 307.717
														}
													}
													else = {
														set_variable = {
															which = lt_val
															value = 606.246
														}
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 1177.83
													}
												}
											}
											else = {
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 2
														}
													}
													set_variable = {
														which = lt_val
														value = 2231.436
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 4054.651
													}
												}
											}
										}
										set_variable = {
											which = lt_ind
											value = 0
										}
										change_variable = {
											which = ln_val
											which = lt_val
										}
									}
									set_variable = {
										which = t_m_ln
										value = 0
									}
								}
								divide_variable = {
									which = ln_val
									value = 10000
								}
								set_variable = {
									which = scale
									value = 0
								}
								set_variable = {
									which = k
									value = 0
								}
								set_variable = {
									which = k_div
									value = 0
								}
								set_variable = {
									which = lt_val
									value = 0
								}
							}
							set_variable = {
								which = inp
								value = 0
							}
							multiply_variable = {
								which = dec_m_exp
								which = ln_val
							}
							set_variable = {
								which = math.e.expnt
								which = dec_m_exp
							}
							set_variable = {
								which = math.e.return
								value = 1
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = math.e.expnt
											value = -6.999
										}
									}
								}
								set_variable = {
									which = exp_val
									value = 0
								}
							}
							else = {
								while = {
									limit = {
										check_variable = {
											which = math.e.expnt
											value = 1
										}
									}
									subtract_variable = {
										which = math.e.expnt
										value = 1
									}
									multiply_variable = {
										which = math.e.return
										value = 2.718
									}
								}
								while = {
									limit = {
										NOT = {
											check_variable = {
												which = math.e.expnt
												value = 0
											}
										}
									}
									change_variable = {
										which = math.e.expnt
										value = 1
									}
									divide_variable = {
										which = math.e.return
										value = 2.718
									}
								}
								set_variable = {
									which = math.e.sm
									value = 1
								}
								if = {
									limit = {
										NOT = {
											is_variable_equal = {
												which = math.e.expnt
												value = 0
											}
										}
									}
									set_variable = {
										which = math.e.sq
										which = math.e.expnt
									}
									multiply_variable = {
										which = math.e.sq
										which = math.e.expnt
									}
									set_variable = {
										which = math.e.fct
										value = 2
									}
									set_variable = {
										which = math.e.fctl
										value = 2
									}
									set_variable = {
										which = math.e.a1
										which = math.e.sq
									}
									set_variable = {
										which = math.e.a2
										which = math.e.expnt
									}
									set_variable = {
										which = math.e.a3
										value = 2
									}
									set_variable = {
										which = math.e.tmp
										which = math.e.a2
									}
									multiply_variable = {
										which = math.e.tmp
										which = math.e.a3
									}
									change_variable = {
										which = math.e.tmp
										which = math.e.a1
									}
									divide_variable = {
										which = math.e.tmp
										which = math.e.fct
									}
									change_variable = {
										which = math.e.sm
										which = math.e.tmp
									}
									set_variable = {
										which = math.e.prec
										value = 3
									}
									subtract_variable = {
										which = math.e.prec
										value = 1
									}
									while = {
										limit = {
											check_variable = {
												which = math.e.prec
												value = 1
											}
										}
										subtract_variable = {
											which = math.e.prec
											value = 1
										}
										change_variable = {
											which = math.e.fctl
											value = 1
										}
										multiply_variable = {
											which = math.e.fct
											which = math.e.fctl
										}
										change_variable = {
											which = math.e.fctl
											value = 1
										}
										multiply_variable = {
											which = math.e.fct
											which = math.e.fctl
										}
										multiply_variable = {
											which = math.e.a1
											which = math.e.sq
										}
										multiply_variable = {
											which = math.e.a2
											which = math.e.sq
										}
										change_variable = {
											which = math.e.a3
											value = 2
										}
										set_variable = {
											which = math.e.tmp
											which = math.e.a2
										}
										multiply_variable = {
											which = math.e.tmp
											which = math.e.a3
										}
										change_variable = {
											which = math.e.tmp
											which = math.e.a1
										}
										divide_variable = {
											which = math.e.tmp
											which = math.e.fct
										}
										change_variable = {
											which = math.e.sm
											which = math.e.tmp
										}
									}
								}
								multiply_variable = {
									which = math.e.return
									which = math.e.sm
								}
								set_variable = {
									which = exp_val
									which = math.e.return
								}
								set_variable = {
									which = math.e.sm
									value = 0
								}
								set_variable = {
									which = math.e.tmp
									value = 0
								}
								set_variable = {
									which = math.e.a1
									value = 0
								}
								set_variable = {
									which = math.e.a2
									value = 0
								}
								set_variable = {
									which = math.e.a3
									value = 0
								}
								set_variable = {
									which = math.e.fctl
									value = 0
								}
								set_variable = {
									which = math.e.fct
									value = 0
								}
								set_variable = {
									which = math.e.prec
									value = 0
								}
								set_variable = {
									which = math.e.sq
									value = 0
								}
							}
							set_variable = {
								which = math.e.expnt
								value = 0
							}
							set_variable = {
								which = math.e.return
								value = 0
							}
							while = {
								limit = {
									check_variable = {
										which = int_m_exp
										value = 1
									}
								}
								subtract_variable = {
									which = int_m_exp
									value = 1
								}
								multiply_variable = {
									which = exp_val
									which = inp_m_exp
								}
							}
							set_variable = {
								which = exp_m_exp
								value = 0
							}
							set_variable = {
								which = int_m_exp
								value = 0
							}
							set_variable = {
								which = dec_m_exp
								value = 0
							}
							set_variable = {
								which = ln_val
								value = 0
							}
						}
						set_variable = {
							which = inp_m_exp
							value = 0
						}
						set_variable = {
							which = EstateProv_Unrest
							which = exp_val
						}
						set_variable = {
							which = exp_val
							value = 0
						}
						export_to_variable = {
							which = EstateProv_LA
							value = local_autonomy
						}
						multiply_variable = {
							which = EstateProv_LA
							value = 0.008
						}
						change_variable = {
							which = EstateProv_LA
							value = 0.2
						}
						multiply_variable = {
							which = EstateProv_Unrest
							which = EstateProv_LA
						}
						set_variable = {
							which = EstateProv_Unrest_Inp
							which = EstateProv_Unrest
						}
						if = {
							limit = {
								has_province_flag = loss
							}
							clr_province_flag = loss
							multiply_variable = {
								which = EstateProv_Unrest
								value = -1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 0.1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 10
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 25.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 25.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_25.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_25.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_25.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 12.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 12.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_12.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_12.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_12.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 6.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 6.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_6.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_6.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_6.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 3.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 3.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_3.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_3.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_3.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 1.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 1.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_1.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_1.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_1.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.1
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.1
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.1
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.1
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.1
							}
						}
						else_if = {
							limit = {
								has_province_flag = gain
							}
							clr_province_flag = gain
							multiply_variable = {
								which = EstateProv_Unrest
								value = 1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 0.1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 10
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 25.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 25.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_25.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_25.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_25.6
								}
								remove_province_modifier = EstateProv_UnrestGain_25.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 12.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 12.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_12.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_12.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_12.8
								}
								remove_province_modifier = EstateProv_UnrestGain_12.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 6.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 6.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_6.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_6.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_6.4
								}
								remove_province_modifier = EstateProv_UnrestGain_6.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 3.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 3.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_3.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_3.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_3.2
								}
								remove_province_modifier = EstateProv_UnrestGain_3.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 1.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 1.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_1.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_1.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_1.6
								}
								remove_province_modifier = EstateProv_UnrestGain_1.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.8
								}
								remove_province_modifier = EstateProv_UnrestGain_0.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.4
								}
								remove_province_modifier = EstateProv_UnrestGain_0.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.2
								}
								remove_province_modifier = EstateProv_UnrestGain_0.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.1
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.1
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.1
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.1
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.1
								}
								remove_province_modifier = EstateProv_UnrestGain_0.1
							}
						}
						if = {
							limit = {
								check_variable = {
									which = EstateProv_UnrestSave
									value = 0.001
								}
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = EstateProv_Unrest
											value = 0.001
										}
									}
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_25.6
									}
									remove_province_modifier = EstateProv_UnrestGain_25.6
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_12.8
									}
									remove_province_modifier = EstateProv_UnrestGain_12.8
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_6.4
									}
									remove_province_modifier = EstateProv_UnrestGain_6.4
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_3.2
									}
									remove_province_modifier = EstateProv_UnrestGain_3.2
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_1.6
									}
									remove_province_modifier = EstateProv_UnrestGain_1.6
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.8
									}
									remove_province_modifier = EstateProv_UnrestGain_0.8
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.4
									}
									remove_province_modifier = EstateProv_UnrestGain_0.4
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.2
									}
									remove_province_modifier = EstateProv_UnrestGain_0.2
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.1
									}
									remove_province_modifier = EstateProv_UnrestGain_0.1
								}
							}
						}
						else_if = {
							limit = {
								NOT = {
									check_variable = {
										which = EstateProv_UnrestSave
										value = 0
									}
								}
								check_variable = {
									which = EstateProv_Unrest
									value = 0
								}
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_25.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_25.6
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_12.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_12.8
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_6.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_6.4
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_3.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_3.2
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_1.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_1.6
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.8
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.4
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.2
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.1
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.1
							}
						}
						if = {
							limit = {
								is_variable_equal = {
									which = EstateProv_Unrest
									value = 0
								}
							}
							set_variable = {
								which = EstateProv_Unrest
								value = 0
							}
						}
						set_variable = {
							which = EstateProv_UnrestSave
							value = 0
						}
						set_variable = {
							which = EstateProv_LA
							value = 0
						}
						set_variable = {
							which = EstateProv_Unrest_Inp
							value = 0
						}
					}
				}
			}
		}
		random_owned_province = {
			limit = {
				has_province_flag = jap_terakoya_flag1
			}
			add_province_modifier = {
				name = add_unrest_5_modifier
				duration = 1825
			}
			clr_province_flag = jap_terakoya_flag1
		}
		random_owned_province = {
			limit = {
				has_province_flag = jap_terakoya_flag2
			}
			add_province_modifier = {
				name = add_unrest_5_modifier
				duration = 1825
			}
			clr_province_flag = jap_terakoya_flag2
		}
		set_country_flag = jap_terakoya_country_flag
	}
}
country_event = {
	id = flavor_jap.14
	title = "flavor_jap.EVTNAME14"
	desc = "flavor_jap.EVTDESC14"
	picture = LAND_MILITARY_eventPicture
	trigger = {
		culture_group = japanese
		adm = 4
		has_regency = no
		NOT = {
			has_country_flag = jap_military_developments
		}
		has_country_modifier = western_trade
	}
	mean_time_to_happen = {
		months = 200
	}
	immediate = {
		set_country_flag = jap_military_developments
	}
	option = {
		name = "flavor_jap.EVTOPTA14"
		add_years_of_income = -0.5
		add_country_modifier = {
			name = jap_military_developments
			duration = 7300
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB14"
		add_prestige = 25
	}
}
country_event = {
	id = flavor_jap.15
	title = "flavor_jap.EVTNAME15"
	desc = "flavor_jap.EVTDESC15"
	picture = MERCHANTS_TALKING_eventPicture
	trigger = {
		culture_group = japanese
		NOT = {
			has_country_flag = had_organization_of_za
		}
		trade_efficiency = 0.4
		NOT = {
			has_country_modifier = jap_za
		}
	}
	immediate = {
		set_country_flag = had_organization_of_za
	}
	mean_time_to_happen = {
		months = 400
	}
	option = {
		name = "flavor_jap.EVTOPTA15"
		add_country_modifier = {
			name = jap_za
			duration = -1
		}
		set_country_flag = jap_za_flag
	}
	option = {
		name = "flavor_jap.EVTOPTB15"
		add_prestige = 5
	}
}
country_event = {
	id = flavor_jap.16
	title = "flavor_jap.EVTNAME16"
	desc = "flavor_jap.EVTDESC16"
	picture = MERCHANTS_TALKING_eventPicture
	trigger = {
		culture_group = japanese
		has_country_modifier = jap_za
		had_country_flag = {
			flag = jap_za_flag
			days = 1825
		}
	}
	mean_time_to_happen = {
		months = 600
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					culture_group = japanese
					has_port = yes
				}
				set_province_flag = jap_monopolistic_za_province
			}
			random_owned_province = {
				limit = {
					culture_group = japanese
					has_port = yes
					NOT = {
						has_province_flag = jap_monopolistic_za_province
					}
				}
				set_province_flag = jap_monopolistic_za_province
			}
			random_owned_province = {
				limit = {
					culture_group = japanese
					has_port = yes
					NOT = {
						has_province_flag = jap_monopolistic_za_province
					}
				}
				set_province_flag = jap_monopolistic_za_province
			}
			random_owned_province = {
				limit = {
					culture_group = japanese
					has_port = yes
					NOT = {
						has_province_flag = jap_monopolistic_za_province
					}
				}
				set_province_flag = jap_monopolistic_za_province
			}
			random_owned_province = {
				limit = {
					culture_group = japanese
					has_port = yes
					NOT = {
						has_province_flag = jap_monopolistic_za_province
					}
				}
				set_province_flag = jap_monopolistic_za_province
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA16"
		remove_country_modifier = jap_za
	}
	option = {
		name = "flavor_jap.EVTOPTB16"
		remove_country_modifier = jap_za
		add_country_modifier = {
			name = jap_za_monopoly
			duration = -1
		}
		every_owned_province = {
			limit = {
				has_province_flag = jap_monopolistic_za_province
			}
			add_province_modifier = {
				name = jap_za_monopoly_province
				duration = -1
			}
			clr_province_flag = jap_monopolistic_za_province
		}
	}
}
country_event = {
	id = flavor_jap.17
	title = "flavor_jap.EVTNAME17"
	desc = "flavor_jap.EVTDESC17"
	picture = THEATRE_eventPicture
	trigger = {
		culture_group = japanese
		OR = {
			adm = 4
			dip = 4
		}
		NOT = {
			has_country_flag = jap_higashiyama_culture_flag
		}
	}
	mean_time_to_happen = {
		months = 600
	}
	option = {
		name = "flavor_jap.EVTOPTA17"
		add_years_of_income = -0.5
		add_country_modifier = {
			name = jap_higashiyama_culture
			duration = 3650
		}
		set_country_flag = jap_higashiyama_culture_flag
		if = {
			limit = {
				adm = 4
				NOT = {
					dip = 4
				}
			}
			add_adm_power = -30
		}
		if = {
			limit = {
				dip = 4
				NOT = {
					adm = 4
				}
			}
			add_dip_power = -30
		}
		if = {
			limit = {
				dip = 4
				adm = 4
			}
			add_mil_power = -30
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB17"
		add_prestige = -5
		set_country_flag = jap_higashiyama_culture_flag
	}
}
country_event = {
	id = flavor_jap.18
	title = "flavor_jap.EVTNAME18"
	desc = "flavor_jap.EVTDESC18"
	picture = IMPORTANT_STATUE_eventPicture
	trigger = {
		culture_group = japanese
		any_owned_province = {
			NOT = {
				AND = {
					OR = {
						has_building = temple
						has_building = temple_heathen
					}
				}
			}
			has_province_modifier = emperors_palace
		}
		NOT = {
			has_global_flag = jap_ginkakuji
		}
		has_country_flag = jap_higashiyama_culture_flag
	}
	mean_time_to_happen = {
		months = 300
	}
	option = {
		name = "flavor_jap.EVTOPTA18"
		add_treasury = -30
		random_owned_province = {
			limit = {
				NOT = {
					AND = {
						OR = {
							has_building = temple
							has_building = temple_heathen
						}
					}
				}
				has_province_modifier = emperors_palace
			}
			add_building = temple
		}
		set_country_flag = jap_ginkakuji
	}
	option = {
		name = "flavor_jap.EVTOPTB18"
		add_prestige = 5
		set_global_flag = jap_ginkakuji
	}
}
country_event = {
	id = flavor_jap.19
	title = "flavor_jap.EVTNAME19"
	desc = "flavor_jap.EVTDESC19"
	picture = ANGRY_MOB_eventPicture
	trigger = {
		culture_group = japanese
		is_year = 1600
		has_regency = no
		NOT = {
			has_country_modifier = jap_sekisho
			has_country_flag = jap_sekisho
		}
	}
	mean_time_to_happen = {
		months = 600
		modifier = {
			factor = 0.8
			NOT = {
				stability = 0
			}
		}
		modifier = {
			factor = 0.8
			NOT = {
				stability = -1
			}
		}
		modifier = {
			factor = 0.8
			NOT = {
				stability = -2
			}
		}
	}
	immediate = {
		random_owned_province = {
			limit = {
				culture_group = japanese
			}
			set_province_flag = jap_sekisho
		}
		random_owned_province = {
			limit = {
				culture_group = japanese
				NOT = {
					has_province_flag = jap_sekisho
				}
			}
			set_province_flag = jap_sekisho
		}
		random_owned_province = {
			limit = {
				culture_group = japanese
				NOT = {
					has_province_flag = jap_sekisho
				}
			}
			set_province_flag = jap_sekisho
		}
		hidden_effect = {
			set_country_flag = jap_sekisho
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA19"
		add_years_of_income = -1
		add_country_modifier = {
			name = jap_sekisho
			duration = 7300
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_flag = jap_sekisho
				}
				clr_province_flag = jap_sekisho
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB19"
		every_owned_province = {
			limit = {
				has_province_flag = jap_sekisho
			}
			add_province_modifier = {
				name = add_unrest_5_modifier
				duration = 1825
			}
			clr_province_flag = jap_sekisho
		}
	}
}
country_event = {
	id = flavor_jap.20
	title = "flavor_jap.EVTNAME20"
	desc = "flavor_jap.EVTDESC20"
	picture = REFORM_eventPicture
	fire_only_once = yes
	trigger = {
		culture_group = japanese
		OR = {
			has_country_modifier = title_5
			has_country_modifier = title_6
		}
		any_subject_country = {
			is_subject_of_type = daimyo_vassal
			NOT = {
				has_country_modifier = jap_buke_shohatto
			}
		}
		is_year = 1600
	}
	mean_time_to_happen = {
		months = 400
	}
	option = {
		name = "flavor_jap.EVTOPTA20"
		add_years_of_income = -0.5
		add_country_modifier = {
			name = jap_buke_shohatto
			duration = 7300
		}
		hidden_effect = {
			every_subject_country = {
				limit = {
					is_subject_of_type = daimyo_vassal
					culture_group = japanese
				}
				country_event = {
					id = flavor_jap.21
				}
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB20"
		add_prestige = -10
	}
}
country_event = {
	id = flavor_jap.21
	title = "flavor_jap.EVTNAME20"
	desc = "flavor_jap.EVTDESC21"
	picture = REFORM_eventPicture
	is_triggered_only = yes
	option = {
		name = "flavor_jap.EVTOPTA21"
		add_prestige = -10
		add_country_modifier = {
			name = jap_buke_shohatto
			duration = 7300
		}
		add_opinion = {
			who = FROM
			modifier = opinion_mildly_displeased
		}
	}
}
country_event = {
	id = flavor_jap.23
	title = "flavor_jap.EVTNAME23"
	desc = "flavor_jap.EVTDESC23"
	picture = REFORM_eventPicture
	trigger = {
		culture_group = japanese
		has_country_flag = confucianism_dominates
		has_regency = no
		NOT = {
			has_ruler_modifier = jap_trade_reform
		}
		NOT = {
			has_ruler_modifier = jap_military_reform
		}
		NOT = {
			has_ruler_modifier = jap_economic_reform
		}
		NOT = {
			has_country_flag = jap_kyoho_reforms
		}
	}
	mean_time_to_happen = {
		months = 400
		modifier = {
			factor = 0.9
			stability = 1
		}
		modifier = {
			factor = 0.9
			stability = 2
		}
		modifier = {
			factor = 0.9
			stability = 3
		}
	}
	immediate = {
		set_country_flag = jap_kyoho_reforms
	}
	option = {
		name = "flavor_jap.EVTOPTA23"
		add_ruler_modifier = {
			name = jap_trade_reform
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB23"
		add_army_tradition = 20
		add_navy_tradition = 20
		add_ruler_modifier = {
			name = jap_military_reform
		}
	}
	option = {
		name = "flavor_jap.EVTOPTC23"
		add_ruler_modifier = {
			name = jap_economic_reform
		}
	}
}
country_event = {
	id = flavor_jap.24
	title = "flavor_jap.EVTNAME24"
	desc = "flavor_jap.EVTDESC24"
	picture = COURT_eventPicture
	trigger = {
		culture_group = japanese
		OR = {
			has_country_modifier = title_5
			has_country_modifier = title_6
		}
		has_country_flag = jap_higashiyama_culture_flag
		NOT = {
			has_country_modifier = jap_genroku
			has_country_flag = jap_genroku
		}
		check_variable = {
			which = "wellbeing_composite"
			value = 0.7
		}
	}
	mean_time_to_happen = {
		months = 800
	}
	option = {
		name = "flavor_jap.EVTOPTA24"
		custom_tooltip = stability_points_gained_50
		hidden_effect = {
			change_variable = {
				which = stability_points
				value = 50
			}
			country_event = {
				id = POP_Stability.002
			}
		}
		add_country_modifier = {
			name = jap_genroku
			duration = 7300
		}
		set_country_flag = jap_genroku
	}
}
country_event = {
	id = flavor_jap.27
	title = "flavor_jap.EVTNAME27"
	desc = "flavor_jap.EVTDESC27"
	picture = COURT_eventPicture
	trigger = {
		culture_group = japanese
		has_country_flag = confucianism_dominates
		NOT = {
			has_country_modifier = jap_kokugaku
		}
	}
	mean_time_to_happen = {
		months = 400
	}
	option = {
		name = "flavor_jap.EVTOPTA27"
		add_country_modifier = {
			name = jap_kokugaku
			duration = -1
		}
	}
}
country_event = {
	id = flavor_jap.28
	title = "flavor_jap.EVTNAME28"
	desc = "flavor_jap.EVTDESC28"
	picture = COURT_eventPicture
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = jap_oie_sodo
		}
		NOT = {
			has_country_modifier = title_5
			has_country_modifier = title_6
		}
		culture_group = japanese
		is_lesser_in_union = no
		has_heir = yes
		heir_age = 15
		has_regency = no
		NOT = {
			prestige = 40
		}
		NOT = {
			legitimacy = 50
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		hidden_effect = {
			set_country_flag = jap_oie_sodo
			set_variable = {
				which = lesser_nobles_loyalty_removed_a
				value = 10
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA28"
		kill_heir = yes
		add_legitimacy = 20
	}
	option = {
		name = "flavor_jap.EVTOPTB28"
		add_legitimacy = -10
		if = {
			limit = {
				check_variable = {
					which = estate_lesser_nobles_weight_share
					value = 0.01
				}
			}
			custom_tooltip = estate_lesser_nobles_loyalty_removed_a
			hidden_effect = {
				set_variable = {
					which = lesser_nobles_loyalty_removed
					value = 0
				}
				set_variable = {
					which = lesser_nobles_loyalty_removed
					which = lesser_nobles_loyalty_removed_a
				}
				if = {
					limit = {
						check_variable = {
							which = lesser_nobles_loyalty_removed
							value = 64
						}
					}
					add_estate_loyalty = {
						estate = estate_lesser_nobles
						loyalty = -64
					}
					change_variable = {
						which = estate_lesser_nobles_loyalty
						value = -0.64
					}
					subtract_variable = {
						which = lesser_nobles_loyalty_removed
						value = 64
					}
				}
				if = {
					limit = {
						check_variable = {
							which = lesser_nobles_loyalty_removed
							value = 32
						}
					}
					add_estate_loyalty = {
						estate = estate_lesser_nobles
						loyalty = -32
					}
					change_variable = {
						which = estate_lesser_nobles_loyalty
						value = -0.32
					}
					subtract_variable = {
						which = lesser_nobles_loyalty_removed
						value = 32
					}
				}
				if = {
					limit = {
						check_variable = {
							which = lesser_nobles_loyalty_removed
							value = 16
						}
					}
					add_estate_loyalty = {
						estate = estate_lesser_nobles
						loyalty = -16
					}
					change_variable = {
						which = estate_lesser_nobles_loyalty
						value = -0.16
					}
					subtract_variable = {
						which = lesser_nobles_loyalty_removed
						value = 16
					}
				}
				if = {
					limit = {
						check_variable = {
							which = lesser_nobles_loyalty_removed
							value = 8
						}
					}
					add_estate_loyalty = {
						estate = estate_lesser_nobles
						loyalty = -8
					}
					change_variable = {
						which = estate_lesser_nobles_loyalty
						value = -0.08
					}
					subtract_variable = {
						which = lesser_nobles_loyalty_removed
						value = 8
					}
				}
				if = {
					limit = {
						check_variable = {
							which = lesser_nobles_loyalty_removed
							value = 4
						}
					}
					add_estate_loyalty = {
						estate = estate_lesser_nobles
						loyalty = -4
					}
					change_variable = {
						which = estate_lesser_nobles_loyalty
						value = -0.04
					}
					subtract_variable = {
						which = lesser_nobles_loyalty_removed
						value = 4
					}
				}
				if = {
					limit = {
						check_variable = {
							which = lesser_nobles_loyalty_removed
							value = 2
						}
					}
					add_estate_loyalty = {
						estate = estate_lesser_nobles
						loyalty = -2
					}
					change_variable = {
						which = estate_lesser_nobles_loyalty
						value = -0.02
					}
					subtract_variable = {
						which = lesser_nobles_loyalty_removed
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = lesser_nobles_loyalty_removed
							value = 1
						}
					}
					add_estate_loyalty = {
						estate = estate_lesser_nobles
						loyalty = -1
					}
					change_variable = {
						which = estate_lesser_nobles_loyalty
						value = -0.01
					}
					subtract_variable = {
						which = lesser_nobles_loyalty_removed
						value = 1
					}
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = estate_lesser_nobles_loyalty
								value = 0.01
							}
						}
					}
					set_variable = {
						which = estate_lesser_nobles_loyalty
						value = 0.01
					}
				}
				every_owned_province = {
					limit = {
						has_province_flag = lesser_nobles_control_province
					}
					hidden_effect = {
						set_variable = {
							which = estate_lesser_nobles_loyalty
							which = owner
						}
						set_variable = {
							which = EstateProv_UnrestSave
							which = EstateProv_Unrest
						}
						set_variable = {
							which = EstateProv_Unrest
							which = estate_lesser_nobles_loyalty
						}
						set_variable = {
							which = estate_lesser_nobles_loyalty
							value = 0
						}
						if = {
							limit = {
								check_variable = {
									which = EstateProv_Unrest
									value = 0.6
								}
							}
							set_province_flag = loss
							subtract_variable = {
								which = EstateProv_Unrest
								value = 0.6
							}
						}
						else_if = {
							limit = {
								NOT = {
									check_variable = {
										which = EstateProv_Unrest
										value = 0.401
									}
								}
							}
							set_province_flag = gain
							subtract_variable = {
								which = EstateProv_Unrest
								value = 0.4
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = -1
							}
						}
						else = {
							set_variable = {
								which = EstateProv_Unrest
								value = 0
							}
						}
						multiply_variable = {
							which = EstateProv_Unrest
							value = 16.62
						}
						set_variable = {
							which = inp_m_exp
							which = EstateProv_Unrest
						}
						if = {
							limit = {
								NOT = {
									check_variable = {
										which = inp_m_exp
										value = 0
									}
								}
							}
							set_variable = {
								which = exp_val
								value = 0
							}
							change_variable = {
								which = err.math.exp.undef
								value = 1
							}
						}
						else_if = {
							limit = {
								is_variable_equal = {
									which = inp_m_exp
									value = 0
								}
							}
							set_variable = {
								which = exp_val
								value = 0
							}
						}
						else = {
							set_variable = {
								which = exp_m_exp
								value = 1.7
							}
							set_variable = {
								which = int_m_exp
								which = exp_m_exp
							}
							multiply_variable = {
								which = int_m_exp
								value = 0.001
							}
							multiply_variable = {
								which = int_m_exp
								value = 1000
							}
							set_variable = {
								which = dec_m_exp
								which = exp_m_exp
							}
							subtract_variable = {
								which = dec_m_exp
								which = int_m_exp
							}
							set_variable = {
								which = inp
								which = inp_m_exp
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = inp
											value = 0.001
										}
									}
								}
								set_variable = {
									which = ln_val
									value = 0
								}
								change_variable = {
									which = err.math.ln.undef
									value = 1
								}
							}
							else = {
								set_variable = {
									which = ln_val
									value = 0
								}
								set_variable = {
									which = scale
									value = 10000
								}
								set_variable = {
									which = k
									value = 0
								}
								set_variable = {
									which = k_div
									which = scale
								}
								while = {
									limit = {
										check_variable = {
											which = inp
											value = 2.001
										}
									}
									multiply_variable = {
										which = inp
										value = 0.5
									}
									change_variable = {
										which = ln_val
										value = 6931.472
									}
								}
								while = {
									limit = {
										NOT = {
											check_variable = {
												which = inp
												value = 1
											}
										}
									}
									multiply_variable = {
										which = inp
										value = 2
									}
									subtract_variable = {
										which = ln_val
										value = 6931.472
									}
								}
								multiply_variable = {
									which = inp
									which = scale
								}
								while = {
									limit = {
										NOT = {
											check_variable = {
												which = k
												value = 10
											}
										}
									}
									change_variable = {
										which = k
										value = 1
									}
									multiply_variable = {
										which = k_div
										value = 0.5
									}
									set_variable = {
										which = t_m_ln
										which = scale
									}
									change_variable = {
										which = t_m_ln
										which = k_div
									}
									if = {
										limit = {
											check_variable = {
												which = inp
												which = t_m_ln
											}
										}
										divide_variable = {
											which = inp
											which = t_m_ln
										}
										multiply_variable = {
											which = inp
											which = scale
										}
										set_variable = {
											which = lt_ind
											which = k
										}
										if = {
											limit = {
												check_variable = {
													which = lt_ind
													value = 6
												}
											}
											if = {
												limit = {
													check_variable = {
														which = lt_ind
														value = 8
													}
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 9
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 10
															}
														}
														set_variable = {
															which = lt_val
															value = 9.761
														}
													}
													else = {
														set_variable = {
															which = lt_val
															value = 19.512
														}
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 38.986
													}
												}
											}
											else = {
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 7
														}
													}
													set_variable = {
														which = lt_val
														value = 77.821
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 155.042
													}
												}
											}
										}
										else = {
											if = {
												limit = {
													check_variable = {
														which = lt_ind
														value = 3
													}
												}
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 4
														}
													}
													if = {
														limit = {
															check_variable = {
																which = lt_ind
																value = 5
															}
														}
														set_variable = {
															which = lt_val
															value = 307.717
														}
													}
													else = {
														set_variable = {
															which = lt_val
															value = 606.246
														}
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 1177.83
													}
												}
											}
											else = {
												if = {
													limit = {
														check_variable = {
															which = lt_ind
															value = 2
														}
													}
													set_variable = {
														which = lt_val
														value = 2231.436
													}
												}
												else = {
													set_variable = {
														which = lt_val
														value = 4054.651
													}
												}
											}
										}
										set_variable = {
											which = lt_ind
											value = 0
										}
										change_variable = {
											which = ln_val
											which = lt_val
										}
									}
									set_variable = {
										which = t_m_ln
										value = 0
									}
								}
								divide_variable = {
									which = ln_val
									value = 10000
								}
								set_variable = {
									which = scale
									value = 0
								}
								set_variable = {
									which = k
									value = 0
								}
								set_variable = {
									which = k_div
									value = 0
								}
								set_variable = {
									which = lt_val
									value = 0
								}
							}
							set_variable = {
								which = inp
								value = 0
							}
							multiply_variable = {
								which = dec_m_exp
								which = ln_val
							}
							set_variable = {
								which = math.e.expnt
								which = dec_m_exp
							}
							set_variable = {
								which = math.e.return
								value = 1
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = math.e.expnt
											value = -6.999
										}
									}
								}
								set_variable = {
									which = exp_val
									value = 0
								}
							}
							else = {
								while = {
									limit = {
										check_variable = {
											which = math.e.expnt
											value = 1
										}
									}
									subtract_variable = {
										which = math.e.expnt
										value = 1
									}
									multiply_variable = {
										which = math.e.return
										value = 2.718
									}
								}
								while = {
									limit = {
										NOT = {
											check_variable = {
												which = math.e.expnt
												value = 0
											}
										}
									}
									change_variable = {
										which = math.e.expnt
										value = 1
									}
									divide_variable = {
										which = math.e.return
										value = 2.718
									}
								}
								set_variable = {
									which = math.e.sm
									value = 1
								}
								if = {
									limit = {
										NOT = {
											is_variable_equal = {
												which = math.e.expnt
												value = 0
											}
										}
									}
									set_variable = {
										which = math.e.sq
										which = math.e.expnt
									}
									multiply_variable = {
										which = math.e.sq
										which = math.e.expnt
									}
									set_variable = {
										which = math.e.fct
										value = 2
									}
									set_variable = {
										which = math.e.fctl
										value = 2
									}
									set_variable = {
										which = math.e.a1
										which = math.e.sq
									}
									set_variable = {
										which = math.e.a2
										which = math.e.expnt
									}
									set_variable = {
										which = math.e.a3
										value = 2
									}
									set_variable = {
										which = math.e.tmp
										which = math.e.a2
									}
									multiply_variable = {
										which = math.e.tmp
										which = math.e.a3
									}
									change_variable = {
										which = math.e.tmp
										which = math.e.a1
									}
									divide_variable = {
										which = math.e.tmp
										which = math.e.fct
									}
									change_variable = {
										which = math.e.sm
										which = math.e.tmp
									}
									set_variable = {
										which = math.e.prec
										value = 3
									}
									subtract_variable = {
										which = math.e.prec
										value = 1
									}
									while = {
										limit = {
											check_variable = {
												which = math.e.prec
												value = 1
											}
										}
										subtract_variable = {
											which = math.e.prec
											value = 1
										}
										change_variable = {
											which = math.e.fctl
											value = 1
										}
										multiply_variable = {
											which = math.e.fct
											which = math.e.fctl
										}
										change_variable = {
											which = math.e.fctl
											value = 1
										}
										multiply_variable = {
											which = math.e.fct
											which = math.e.fctl
										}
										multiply_variable = {
											which = math.e.a1
											which = math.e.sq
										}
										multiply_variable = {
											which = math.e.a2
											which = math.e.sq
										}
										change_variable = {
											which = math.e.a3
											value = 2
										}
										set_variable = {
											which = math.e.tmp
											which = math.e.a2
										}
										multiply_variable = {
											which = math.e.tmp
											which = math.e.a3
										}
										change_variable = {
											which = math.e.tmp
											which = math.e.a1
										}
										divide_variable = {
											which = math.e.tmp
											which = math.e.fct
										}
										change_variable = {
											which = math.e.sm
											which = math.e.tmp
										}
									}
								}
								multiply_variable = {
									which = math.e.return
									which = math.e.sm
								}
								set_variable = {
									which = exp_val
									which = math.e.return
								}
								set_variable = {
									which = math.e.sm
									value = 0
								}
								set_variable = {
									which = math.e.tmp
									value = 0
								}
								set_variable = {
									which = math.e.a1
									value = 0
								}
								set_variable = {
									which = math.e.a2
									value = 0
								}
								set_variable = {
									which = math.e.a3
									value = 0
								}
								set_variable = {
									which = math.e.fctl
									value = 0
								}
								set_variable = {
									which = math.e.fct
									value = 0
								}
								set_variable = {
									which = math.e.prec
									value = 0
								}
								set_variable = {
									which = math.e.sq
									value = 0
								}
							}
							set_variable = {
								which = math.e.expnt
								value = 0
							}
							set_variable = {
								which = math.e.return
								value = 0
							}
							while = {
								limit = {
									check_variable = {
										which = int_m_exp
										value = 1
									}
								}
								subtract_variable = {
									which = int_m_exp
									value = 1
								}
								multiply_variable = {
									which = exp_val
									which = inp_m_exp
								}
							}
							set_variable = {
								which = exp_m_exp
								value = 0
							}
							set_variable = {
								which = int_m_exp
								value = 0
							}
							set_variable = {
								which = dec_m_exp
								value = 0
							}
							set_variable = {
								which = ln_val
								value = 0
							}
						}
						set_variable = {
							which = inp_m_exp
							value = 0
						}
						set_variable = {
							which = EstateProv_Unrest
							which = exp_val
						}
						set_variable = {
							which = exp_val
							value = 0
						}
						export_to_variable = {
							which = EstateProv_LA
							value = local_autonomy
						}
						multiply_variable = {
							which = EstateProv_LA
							value = 0.008
						}
						change_variable = {
							which = EstateProv_LA
							value = 0.2
						}
						multiply_variable = {
							which = EstateProv_Unrest
							which = EstateProv_LA
						}
						set_variable = {
							which = EstateProv_Unrest_Inp
							which = EstateProv_Unrest
						}
						if = {
							limit = {
								has_province_flag = loss
							}
							clr_province_flag = loss
							multiply_variable = {
								which = EstateProv_Unrest
								value = -1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 0.1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 10
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 25.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 25.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_25.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_25.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_25.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_25.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 12.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 12.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_12.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_12.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_12.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_12.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 6.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 6.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_6.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_6.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_6.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_6.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 3.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 3.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_3.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_3.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_3.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_3.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 1.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 1.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_1.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_1.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_1.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_1.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.1
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.1
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestLoss_0.1
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestLoss_0.1
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.1
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.1
							}
						}
						else_if = {
							limit = {
								has_province_flag = gain
							}
							clr_province_flag = gain
							multiply_variable = {
								which = EstateProv_Unrest
								value = 1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 0.1
							}
							multiply_variable = {
								which = EstateProv_Unrest
								value = 10
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 25.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 25.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_25.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_25.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_25.6
								}
								remove_province_modifier = EstateProv_UnrestGain_25.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 12.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 12.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_12.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_12.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_12.8
								}
								remove_province_modifier = EstateProv_UnrestGain_12.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 6.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 6.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_6.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_6.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_6.4
								}
								remove_province_modifier = EstateProv_UnrestGain_6.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 3.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 3.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_3.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_3.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_3.2
								}
								remove_province_modifier = EstateProv_UnrestGain_3.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 1.6
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 1.6
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_1.6
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_1.6
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_1.6
								}
								remove_province_modifier = EstateProv_UnrestGain_1.6
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.8
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.8
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.8
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.8
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.8
								}
								remove_province_modifier = EstateProv_UnrestGain_0.8
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.4
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.4
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.4
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.4
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.4
								}
								remove_province_modifier = EstateProv_UnrestGain_0.4
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.2
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.2
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.2
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.2
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.2
								}
								remove_province_modifier = EstateProv_UnrestGain_0.2
							}
							if = {
								limit = {
									check_variable = {
										which = EstateProv_Unrest_Inp
										value = 0.1
									}
								}
								subtract_variable = {
									which = EstateProv_Unrest_Inp
									value = 0.1
								}
								if = {
									limit = {
										NOT = {
											has_province_modifier = EstateProv_UnrestGain_0.1
										}
									}
									add_province_modifier = {
										name = EstateProv_UnrestGain_0.1
										duration = -1
										hidden = yes
									}
								}
							}
							else_if = {
								limit = {
									has_province_modifier = EstateProv_UnrestGain_0.1
								}
								remove_province_modifier = EstateProv_UnrestGain_0.1
							}
						}
						if = {
							limit = {
								check_variable = {
									which = EstateProv_UnrestSave
									value = 0.001
								}
							}
							if = {
								limit = {
									NOT = {
										check_variable = {
											which = EstateProv_Unrest
											value = 0.001
										}
									}
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_25.6
									}
									remove_province_modifier = EstateProv_UnrestGain_25.6
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_12.8
									}
									remove_province_modifier = EstateProv_UnrestGain_12.8
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_6.4
									}
									remove_province_modifier = EstateProv_UnrestGain_6.4
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_3.2
									}
									remove_province_modifier = EstateProv_UnrestGain_3.2
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_1.6
									}
									remove_province_modifier = EstateProv_UnrestGain_1.6
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.8
									}
									remove_province_modifier = EstateProv_UnrestGain_0.8
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.4
									}
									remove_province_modifier = EstateProv_UnrestGain_0.4
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.2
									}
									remove_province_modifier = EstateProv_UnrestGain_0.2
								}
								if = {
									limit = {
										has_province_modifier = EstateProv_UnrestGain_0.1
									}
									remove_province_modifier = EstateProv_UnrestGain_0.1
								}
							}
						}
						else_if = {
							limit = {
								NOT = {
									check_variable = {
										which = EstateProv_UnrestSave
										value = 0
									}
								}
								check_variable = {
									which = EstateProv_Unrest
									value = 0
								}
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_25.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_25.6
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_12.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_12.8
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_6.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_6.4
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_3.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_3.2
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_1.6
								}
								remove_province_modifier = EstateProv_UnrestLoss_1.6
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.8
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.8
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.4
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.4
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.2
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.2
							}
							if = {
								limit = {
									has_province_modifier = EstateProv_UnrestLoss_0.1
								}
								remove_province_modifier = EstateProv_UnrestLoss_0.1
							}
						}
						if = {
							limit = {
								is_variable_equal = {
									which = EstateProv_Unrest
									value = 0
								}
							}
							set_variable = {
								which = EstateProv_Unrest
								value = 0
							}
						}
						set_variable = {
							which = EstateProv_UnrestSave
							value = 0
						}
						set_variable = {
							which = EstateProv_LA
							value = 0
						}
						set_variable = {
							which = EstateProv_Unrest_Inp
							value = 0
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = flavor_jap.29
	title = "flavor_jap.EVTNAME29"
	desc = "flavor_jap.EVTDESC29"
	picture = COURT_eventPicture
	trigger = {
		culture_group = japanese
		OR = {
			has_country_modifier = title_5
			has_country_modifier = title_6
		}
		any_subject_country = {
			culture_group = japanese
			NOT = {
				has_country_modifier = sankin_kotai_daimyo
			}
		}
		NOT = {
			has_country_flag = jap_sankin_kotai
		}
		has_country_flag = jap_genroku
	}
	mean_time_to_happen = {
		months = 400
	}
	immediate = {
		hidden_effect = {
			set_country_flag = jap_sankin_kotai
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA29"
		add_country_modifier = {
			name = sankin_kotai
			duration = 3650
		}
		custom_tooltip = "sankin_kotai_TT_A"
		hidden_effect = {
			every_subject_country = {
				limit = {
					culture_group = japanese
				}
				country_event = {
					id = flavor_jap.30
				}
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB29"
		add_prestige = -5
		custom_tooltip = "sankin_kotai_TT_B"
		hidden_effect = {
			every_subject_country = {
				limit = {
					culture_group = japanese
				}
				add_opinion = {
					who = ROOT
					modifier = opinion_pleased
				}
			}
		}
	}
}
country_event = {
	id = flavor_jap.30
	title = "flavor_jap.EVTNAME29"
	desc = "flavor_jap.EVTDESC30"
	picture = COURT_eventPicture
	is_triggered_only = yes
	option = {
		name = "flavor_jap.EVTOPTA30"
		add_country_modifier = {
			name = sankin_kotai_daimyo
			duration = 3650
		}
		add_opinion = {
			who = FROM
			modifier = opinion_mildly_displeased
		}
	}
}
country_event = {
	id = flavor_jap.31
	title = "flavor_jap.EVTNAME31"
	desc = "flavor_jap.EVTDESC31"
	picture = BATTLE_eventPicture
	trigger = {
		culture_group = japanese
		NOT = {
			primary_culture = ryukyuan
		}
		is_at_war = no
		check_variable = {
			which = "wellbeing_composite "
			value = 0.8
		}
	}
	mean_time_to_happen = {
		months = 500
		modifier = {
			factor = 0.8
			NOT = {
				stability = -1
			}
		}
		modifier = {
			factor = 0.8
			NOT = {
				stability = -2
			}
		}
		modifier = {
			factor = 1.5
			stability = 0
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA31"
		add_country_modifier = {
			name = jap_unruly_samurai
			duration = 3650
		}
		add_army_tradition = 10
	}
	option = {
		name = "flavor_jap.EVTOPTB31"
		add_army_tradition = -10
		add_prestige = 10
	}
}
country_event = {
	id = flavor_jap.32
	title = "flavor_jap.EVTNAME32"
	desc = "flavor_jap.EVTDESC32"
	picture = ANGRY_MOB_eventPicture
	trigger = {
		is_subject_of_type = daimyo_vassal
		culture_group = japanese
		has_country_modifier = sword_hunter
		NOT = {
			has_country_flag = sword_hunter_flag
		}
		OR = {
			legitimacy = 75
			prestige = 75
			stability = 2
		}
	}
	mean_time_to_happen = {
		months = 1
	}
	immediate = {
		set_country_flag = sword_hunter_flag
	}
	option = {
		name = "flavor_jap.EVTOPTA32"
		random_owned_province = {
			limit = {
				NOT = {
					has_province_modifier = peasants_organizing
				}
				culture_group = japanese
			}
			add_province_modifier = {
				name = "peasants_organizing"
				duration = 1825
			}
			add_unrest = 5
		}
	}
}
country_event = {
	id = flavor_jap.33
	title = "flavor_jap.EVTNAME33"
	desc = "flavor_jap.EVTDESC33"
	picture = ANGRY_MOB_eventPicture
	trigger = {
		is_subject_of_type = daimyo_vassal
		culture_group = japanese
		has_country_modifier = sword_hunter
		NOT = {
			has_country_flag = sword_hunter_flag
		}
	}
	mean_time_to_happen = {
		months = 10
	}
	immediate = {
		set_country_flag = sword_hunter_flag
	}
	option = {
		name = "flavor_jap.EVTOPTA33"
		add_prestige = 25
	}
}
country_event = {
	id = flavor_jap.34
	title = "flavor_jap.EVTNAME34"
	desc = "flavor_jap.EVTDESC34"
	picture = ANGRY_MOB_eventPicture
	trigger = {
		is_subject_of_type = daimyo_vassal
		culture_group = japanese
		has_country_flag = sword_hunter_flag
	}
	mean_time_to_happen = {
		months = 10
	}
	option = {
		name = "flavor_jap.EVTOPTA34"
		add_stability = -1
		hidden_effect = {
			country_event = {
				id = POP_Stability.003
			}
		}
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -5
		}
		remove_country_modifier = sword_hunter
		clr_country_flag = sword_hunter_flag
	}
}
country_event = {
	id = flavor_jap.40
	title = "flavor_jap.EVTNAME40"
	desc = "flavor_jap.EVTDESC40"
	picture = COURT_eventPicture
	is_triggered_only = yes
	trigger = {
		culture_group = japanese
		any_owned_province = {
			has_province_modifier = emperors_palace
		}
		prestige = 10
	}
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.2
			prestige = 30
		}
		modifier = {
			factor = 1.3
			prestige = 40
		}
		modifier = {
			factor = 0.8
			NOT = {
				stability = 1
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA40"
		add_prestige = 10
	}
}
country_event = {
	id = flavor_jap.41
	title = "flavor_jap.EVTNAME41"
	desc = "flavor_jap.EVTDESC41"
	picture = NEW_HEIR_eventPicture
	trigger = {
		culture_group = japanese
		has_heir = no
	}
	mean_time_to_happen = {
		months = 400
		modifier = {
			factor = 0.9
			NOT = {
				legitimacy = 50
			}
		}
		modifier = {
			factor = 0.9
			NOT = {
				legitimacy = 40
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA41"
		add_prestige = 5
	}
	option = {
		name = "flavor_jap.EVTOPTB41"
		define_heir = {
			dynasty = ROOT
			claim = 30
		}
		add_prestige = -25
	}
}
country_event = {
	id = flavor_jap.42
	title = "flavor_jap.EVTNAME42"
	desc = "flavor_jap.EVTDESC42"
	picture = COURT_eventPicture
	is_triggered_only = yes
	trigger = {
		culture_group = japanese
		NOT = {
			stability = 1
		}
	}
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.3
			NOT = {
				stability = 0
			}
		}
		modifier = {
			factor = 1.2
			NOT = {
				stability = -1
			}
		}
		modifier = {
			factor = 0.66
			stability = 0
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA42"
		add_prestige = -10
	}
	option = {
		name = "flavor_jap.EVTOPTB42"
		random_list = {
			30 = {}
			40 = {
				custom_tooltip = stability_points_lost_50
				hidden_effect = {
					subtract_variable = {
						which = stability_points
						value = 50
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = stability_points
									value = 0
								}
							}
						}
						add_stability = -1
						country_event = {
							id = POP_Stability.003
						}
						if = {
							limit = {
								is_emperor_of_china = yes
							}
							add_mandate = -5
						}
					}
				}
			}
			30 = {
				add_stability = -1
				hidden_effect = {
					country_event = {
						id = POP_Stability.003
					}
				}
				if = {
					limit = {
						is_emperor_of_china = yes
					}
					add_mandate = -5
				}
			}
		}
	}
}
country_event = {
	id = flavor_jap.44
	title = "flavor_jap.EVTNAME44"
	desc = "flavor_jap.EVTDESC44"
	picture = COURT_eventPicture
	trigger = {
		culture_group = japanese
		NOT = {
			primary_culture = ryukyuan
		}
		NOT = {
			has_country_modifier = title_5
			has_country_modifier = title_6
		}
		overextension_percentage = 0.04
		stability = 1
	}
	mean_time_to_happen = {
		months = 400
		modifier = {
			factor = 0.8
			overextension_percentage = 0.06
		}
		modifier = {
			factor = 0.8
			overextension_percentage = 0.08
		}
		modifier = {
			factor = 0.8
			stability = 3
		}
		modifier = {
			factor = 1.5
			NOT = {
				legitimacy = 50
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA44"
		custom_tooltip = "daimyo_displeased_TT"
		hidden_effect = {
			every_known_country = {
				limit = {
					culture_group = japanese
					NOT = {
						primary_culture = ryukyuan
					}
				}
				add_opinion = {
					modifier = opinion_angry
					who = ROOT
				}
			}
		}
		add_prestige = 25
	}
	option = {
		name = "flavor_jap.EVTOPTB44"
		add_ruler_modifier = {
			name = jap_sword_of_the_daimyo
		}
	}
}
country_event = {
	id = flavor_jap.45
	title = "flavor_jap.EVTNAME45"
	desc = "flavor_jap.EVTDESC45"
	picture = COURT_eventPicture
	is_triggered_only = yes
	trigger = {
		overlord = {
			OR = {
				any_owned_province = {
					has_province_modifier = emperors_palace
				}
				tag = JAP
			}
		}
		years_of_income = 0.6
	}
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = "flavor_jap.EVTOPTA45"
		add_years_of_income = -0.5
		overlord = {
			add_opinion = {
				who = ROOT
				modifier = opinion_pleased
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB45"
		add_prestige = -15
	}
}
country_event = {
	id = flavor_jap.46
	title = "flavor_jap.EVTNAME46"
	desc = "flavor_jap.EVTDESC46"
	picture = COURT_eventPicture
	trigger = {
		overlord = {
			OR = {
				any_owned_province = {
					has_province_modifier = emperors_palace
				}
				tag = JAP
			}
		}
		NOT = {
			has_country_modifier = jap_first_sake
		}
		has_regency = no
		is_month = 0
		NOT = {
			is_month = 5
		}
	}
	mean_time_to_happen = {
		months = 300
		modifier = {
			factor = 0.9
			stability = 1
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA46"
		add_prestige = 15
		overlord = {
			add_opinion = {
				who = ROOT
				modifier = opinion_pleased
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB46"
		add_country_modifier = {
			name = jap_first_sake
			duration = 7300
		}
	}
}
country_event = {
	id = flavor_jap.48
	title = "flavor_jap.EVTNAME48"
	desc = "flavor_jap.EVTDESC48"
	picture = COURT_eventPicture
	trigger = {
		culture_group = japanese
		OR = {
			has_country_modifier = title_5
			has_country_modifier = title_6
		}
		AND = {
			OR = {
				is_subject = no
				is_subject_of_type = tributary_state
				is_subject_of_type = close_tributary_state
			}
		}
		NOT = {
			AND = {
				OR = {
					AND = {
						culture_group = japanese
						has_reform = celestial_empire
					}
					has_reform = daimyo_legacy
					has_reform = shogunate_legacy
					has_reform = indep_daimyo_legacy
				}
			}
		}
		years_of_income = 1.1
		has_global_flag = japan_has_encountered_the_west
		NOT = {
			has_country_flag = jap_bushido
		}
	}
	mean_time_to_happen = {
		months = 400
	}
	immediate = {
		hidden_effect = {
			set_country_flag = jap_bushido
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA48"
		add_army_tradition = -10
		add_adm_power = 150
	}
	option = {
		name = "flavor_jap.EVTOPTB48"
		add_years_of_income = -1
		add_army_tradition = 10
		add_mil_power = 150
	}
}
country_event = {
	id = flavor_jap.49
	title = "flavor_jap.EVTNAME49"
	desc = "flavor_jap.EVTDESC49"
	picture = ELECTION_REPUBLICAN_eventPicture
	is_triggered_only = yes
	trigger = {
		is_subject_of_type = daimyo_vassal
		culture_group = japanese
		NOT = {
			has_ruler_modifier = jap_gossip
		}
	}
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.5
			NOT = {
				spy_ideas = 1
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA49"
		add_ruler_modifier = {
			name = jap_gossip
		}
		add_dip_power = 150
		custom_tooltip = "daimyo_displeased_TT"
		hidden_effect = {
			every_known_country = {
				limit = {
					is_subject_of_type = daimyo_vassal
					culture_group = japanese
				}
				add_opinion = {
					modifier = opinion_mildly_displeased
					who = ROOT
				}
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB49"
		add_ruler_modifier = {
			name = jap_gossip_spies
		}
	}
}
country_event = {
	id = flavor_jap.50
	title = "flavor_jap.EVTNAME50"
	desc = "flavor_jap.EVTDESC50"
	picture = NEW_HEIR_eventPicture
	trigger = {
		is_subject_of_type = daimyo_vassal
		any_neighbor_country = {
			is_subject_of_type = daimyo_vassal
		}
		culture_group = japanese
		NOT = {
			has_heir = yes
		}
	}
	mean_time_to_happen = {
		months = 600
		modifier = {
			factor = 0.8
			any_neighbor_country = {
				is_subject_of_type = daimyo_vassal
				is_rival = ROOT
			}
		}
		modifier = {
			factor = 0.8
			any_neighbor_country = {
				is_subject_of_type = daimyo_vassal
				truce_with = ROOT
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA50"
		add_dip_power = 50
		define_heir = {
			claim = 95
			male = yes
			name = "Motonobu"
			age = 15
			dip = 4
			dynasty = ROOT
		}
	}
	option = {
		name = "flavor_jap.EVTOPTB50"
		add_adm_power = 50
		define_heir = {
			claim = 95
			male = yes
			name = "Ieyasu"
			age = 15
			adm = 4
			dynasty = ROOT
		}
	}
	option = {
		name = "flavor_jap.EVTOPTC50"
		add_mil_power = 30
		add_army_tradition = 5
		define_heir = {
			claim = 95
			male = yes
			name = "Motoyasu"
			age = 15
			mil = 4
			dynasty = ROOT
		}
	}
}
country_event = {
	id = flavor_jap.51
	title = "flavor_jap.EVTNAME51"
	desc = "flavor_jap.EVTDESC51"
	picture = MILITARY_CAMP_eventPicture
	is_triggered_only = yes
	trigger = {
		is_subject_of_type = daimyo_vassal
		culture_group = japanese
	}
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = "flavor_jap.EVTOPTA51"
		add_army_tradition = 10
	}
	option = {
		name = "flavor_jap.EVTOPTB51"
		add_years_of_income = 1
		add_country_modifier = {
			name = japanese_downprioritized_military
			duration = 3650
		}
	}
}
country_event = {
	id = flavor_jap.52
	title = "flavor_jap.EVTNAME52"
	desc = "flavor_jap.EVTDESC52"
	picture = ANGRY_MOB_eventPicture
	is_triggered_only = yes
	trigger = {
		is_subject_of_type = daimyo_vassal
		culture_group = japanese
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					culture_group = japanese
					is_core = owner
				}
				set_province_flag = shogunate_destabilized_flag1
			}
			random_owned_province = {
				limit = {
					culture_group = japanese
					is_core = owner
					NOT = {
						has_province_flag = shogunate_destabilized_flag1
					}
				}
				set_province_flag = shogunate_destabilized_flag2
			}
			random_owned_province = {
				limit = {
					culture_group = japanese
					is_core = owner
					NOT = {
						has_province_flag = shogunate_destabilized_flag1
					}
					NOT = {
						has_province_flag = shogunate_destabilized_flag2
					}
				}
				set_province_flag = shogunate_destabilized_flag3
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA52"
		random_owned_province = {
			limit = {
				has_province_flag = shogunate_destabilized_flag1
			}
			clr_province_flag = shogunate_destabilized_flag1
			add_province_modifier = {
				name = add_unrest_5_modifier
				duration = 1825
			}
		}
		random_owned_province = {
			limit = {
				has_province_flag = shogunate_destabilized_flag2
			}
			clr_province_flag = shogunate_destabilized_flag2
			add_province_modifier = {
				name = add_unrest_5_modifier
				duration = 1825
			}
		}
		random_owned_province = {
			limit = {
				has_province_flag = shogunate_destabilized_flag3
			}
			clr_province_flag = shogunate_destabilized_flag3
			add_province_modifier = {
				name = add_unrest_5_modifier
				duration = 1825
			}
		}
		add_prestige = -10
	}
	option = {
		name = "flavor_jap.EVTOPTB52"
		add_stability = -1
		hidden_effect = {
			country_event = {
				id = POP_Stability.003
			}
		}
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -5
		}
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = shogunate_destabilized_flag1
				}
				clr_province_flag = shogunate_destabilized_flag1
			}
			random_owned_province = {
				limit = {
					has_province_flag = shogunate_destabilized_flag2
				}
				clr_province_flag = shogunate_destabilized_flag2
			}
			random_owned_province = {
				limit = {
					has_province_flag = shogunate_destabilized_flag3
				}
				clr_province_flag = shogunate_destabilized_flag3
			}
		}
	}
}
country_event = {
	id = flavor_jap.53
	title = "flavor_jap.EVTNAME53"
	desc = "flavor_jap.EVTDESC53"
	picture = MILITARY_CAMP_eventPicture
	is_triggered_only = yes
	trigger = {
		culture_group = japanese
		NOT = {
			war_exhaustion = 1
		}
		NOT = {
			is_at_war = yes
		}
	}
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.66
			NOT = {
				stability = 0
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA53"
		add_adm_power = 30
	}
	option = {
		name = "flavor_jap.EVTOPTB53"
		add_army_tradition = 5
	}
}
country_event = {
	id = flavor_jap.54
	title = "flavor_jap.EVTNAME54"
	desc = "flavor_jap.EVTDESC54"
	picture = LAND_MILITARY_eventPicture
	is_triggered_only = yes
	trigger = {
		is_subject_of_type = daimyo_vassal
		culture_group = japanese
		OR = {
			legitimacy = 75
			prestige = 75
		}
		army_tradition = 10
	}
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.1
			army_tradition = 25
		}
		modifier = {
			factor = 1.1
			army_tradition = 30
		}
		modifier = {
			factor = 0.66
			NOT = {
				army_tradition = 20
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA54"
		add_adm_power = 50
	}
	option = {
		name = "flavor_jap.EVTOPTB54"
		add_army_tradition = 10
	}
}
country_event = {
	id = flavor_jap.55
	title = "flavor_jap.EVTNAME55"
	desc = "flavor_jap.EVTDESC55"
	picture = ANGRY_MOB_eventPicture
	is_triggered_only = yes
	trigger = {
		is_subject_of_type = daimyo_vassal
		culture_group = japanese
	}
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.1
			NOT = {
				stability = -1
			}
		}
		modifier = {
			factor = 1.1
			NOT = {
				stability = -2
			}
		}
	}
	option = {
		name = "flavor_jap.EVTOPTA55"
		add_prestige = 10
		add_corruption = 1
	}
	option = {
		name = "flavor_jap.EVTOPTB55"
		add_prestige = -10
		if = {
			limit = {
				corruption = 1
			}
			add_corruption = -1
		}
		if = {
			limit = {
				NOT = {
					corruption = 1
				}
			}
			add_dip_power = 50
		}
	}
}
