namespace = POP_province_damage
province_event = {
	id = POP_province_damage.001
	title = POP_province_damage.001.t
	desc = POP_province_damage.001.d
	picture = BURNING_CITY_eventPicture
	hidden = yes
	is_triggered_only = yes
	trigger = {
		NOT = {
			controlled_by = REB
		}
		NOT = {
			controlled_by = owner
		}
		NOT = {
			has_province_modifier = province_damaged
		}
		is_colony = no
	}
	immediate = {
		set_variable = {
			which = country_loot_modifier
			which = controller
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = country_loot_modifier
						value = 0.01
					}
				}
			}
			set_variable = {
				which = country_loot_modifier
				value = 0.01
			}
		}
		set_variable = {
			which = temp_damage_modifier
			which = country_loot_modifier
		}
		set_variable = {
			which = country_loot_modifier
			value = 0
		}
		if = {
			limit = {
				has_province_flag = tribals_control_province
			}
			multiply_variable = {
				which = temp_damage_modifier
				value = 0.75
			}
		}
		if = {
			limit = {
				culture = controller
			}
			multiply_variable = {
				which = temp_damage_modifier
				value = 0.85
			}
		}
		if = {
			limit = {
				culture_group = controller
			}
			multiply_variable = {
				which = temp_damage_modifier
				value = 0.9
			}
		}
		if = {
			limit = {
				religion = controller
			}
			multiply_variable = {
				which = temp_damage_modifier
				value = 0.8
			}
		}
		if = {
			limit = {
				religion_group = controller
			}
			multiply_variable = {
				which = temp_damage_modifier
				value = 0.9
			}
		}
		if = {
			limit = {
				is_core = controller
			}
			multiply_variable = {
				which = temp_damage_modifier
				value = 0.75
			}
		}
		if = {
			limit = {
				is_claim = controller
			}
			multiply_variable = {
				which = temp_damage_modifier
				value = 0.85
			}
		}
		multiply_variable = {
			which = temp_damage_modifier
			value = 0.8
		}
		if = {
			limit = {
				NOT = {
					has_province_modifier = province_looted_this_war
				}
			}
			set_variable = {
				which = wealth_urban_percentage_removed
				value = 0
			}
			random_list = {
				10 = {
					set_variable = {
						which = wealth_urban_percentage_removed
						value = 0.5
					}
				}
				20 = {
					set_variable = {
						which = wealth_urban_percentage_removed
						value = 0.4
					}
				}
				40 = {
					set_variable = {
						which = wealth_urban_percentage_removed
						value = 0.3
					}
				}
				30 = {
					set_variable = {
						which = wealth_urban_percentage_removed
						value = 0.2
					}
				}
			}
			multiply_variable = {
				which = wealth_urban_percentage_removed
				which = temp_damage_modifier
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_urban_looted_fatigue
						value = 0.001
					}
				}
				set_variable = {
					which = temp_fatigue_modifier
					value = 1
				}
				subtract_variable = {
					which = temp_fatigue_modifier
					which = wealth_urban_looted_fatigue
				}
				multiply_variable = {
					which = wealth_urban_percentage_removed
					which = temp_fatigue_modifier
				}
				set_variable = {
					which = temp_fatigue_modifier
					value = 0
				}
			}
			else = {
				set_variable = {
					which = wealth_urban_looted_fatigue
					value = 0
				}
			}
			change_variable = {
				which = wealth_urban_looted_fatigue
				which = wealth_urban_percentage_removed
			}
			change_variable = {
				which = wealth_urban_looted_fatigue
				which = wealth_urban_percentage_removed
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_urban_looted_fatigue
						value = 0.95
					}
				}
				set_variable = {
					which = wealth_urban_looted_fatigue
					value = 0.95
				}
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_urban_percentage_removed
						value = 0.9
					}
				}
				set_variable = {
					which = wealth_urban_percentage_removed
					value = 0.9
				}
			}
			else_if = {
				limit = {
					NOT = {
						check_variable = {
							which = wealth_urban_percentage_removed
							value = 0.01
						}
					}
				}
				set_variable = {
					which = wealth_urban_percentage_removed
					value = 0.01
				}
			}
			hidden_effect = {
				set_variable = {
					which = wealth_urban_total_damage
					value = 0
				}
				set_variable = {
					which = wealth_urban_fluid_damaged
					value = 0
				}
				set_variable = {
					which = wealth_urban_as_asset_damaged
					value = 0
				}
				if = {
					limit = {
						check_variable = {
							which = wealth_urban_as_asset
							value = 0.001
						}
					}
					set_variable = {
						which = wealth_urban_as_asset_damaged
						which = wealth_urban_as_asset
					}
					multiply_variable = {
						which = wealth_urban_as_asset_damaged
						which = wealth_urban_percentage_removed
					}
				}
				set_variable = {
					which = wealth_urban_fluid_damaged
					which = wealth_urban_fluid
				}
				multiply_variable = {
					which = wealth_urban_fluid_damaged
					which = wealth_urban_percentage_removed
				}
				multiply_variable = {
					which = wealth_urban_percentage_removed
					value = 0.5
				}
				set_variable = {
					which = wealth_urban_total_damage
					which = wealth_urban_fluid_damaged
				}
				change_variable = {
					which = wealth_urban_total_damage
					which = wealth_urban_as_asset_damaged
				}
				if = {
					limit = {
						has_global_flag = show_for_developers
					}
					subtract_variable = {
						which = wealth_z_urban_gamelong_damage
						which = wealth_urban_total_damage
					}
				}
				subtract_variable = {
					which = wealth_urban_fluid
					which = wealth_urban_total_damage
				}
				set_variable = {
					which = wealth_urban_pillaging_threshold
					value = 0
				}
				subtract_variable = {
					which = wealth_urban_pillaging_threshold
					which = wealth_urban_as_asset
				}
				multiply_variable = {
					which = wealth_urban_pillaging_threshold
					value = 0.1
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = wealth_urban_fluid
								which = wealth_urban_pillaging_threshold
							}
						}
					}
					province_event = {
						id = POP_looting.001
					}
				}
				if = {
					limit = {
						NOT = {
							has_global_flag = show_for_developers
						}
					}
					set_variable = {
						which = wealth_urban_fluid_damaged
						value = 0
					}
					set_variable = {
						which = wealth_urban_as_asset_damaged
						value = 0
					}
					set_variable = {
						which = wealth_urban_percentage_removed
						value = 0
					}
				}
			}
			set_variable = {
				which = wealth_rural_percentage_removed
				value = 0
			}
			random_list = {
				10 = {
					set_variable = {
						which = wealth_rural_percentage_removed
						value = 0.3
					}
				}
				20 = {
					set_variable = {
						which = wealth_rural_percentage_removed
						value = 0.25
					}
				}
				40 = {
					set_variable = {
						which = wealth_rural_percentage_removed
						value = 0.2
					}
				}
				30 = {
					set_variable = {
						which = wealth_rural_percentage_removed
						value = 0.15
					}
				}
			}
			multiply_variable = {
				which = wealth_rural_percentage_removed
				which = temp_damage_modifier
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_rural_looted_fatigue
						value = 0.001
					}
				}
				set_variable = {
					which = temp_fatigue_modifier
					value = 1
				}
				subtract_variable = {
					which = temp_fatigue_modifier
					which = wealth_rural_looted_fatigue
				}
				multiply_variable = {
					which = wealth_rural_percentage_removed
					which = temp_fatigue_modifier
				}
				set_variable = {
					which = temp_fatigue_modifier
					value = 0
				}
			}
			else = {
				set_variable = {
					which = wealth_rural_looted_fatigue
					value = 0
				}
			}
			change_variable = {
				which = wealth_rural_looted_fatigue
				which = wealth_rural_percentage_removed
			}
			change_variable = {
				which = wealth_rural_looted_fatigue
				which = wealth_rural_percentage_removed
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_rural_looted_fatigue
						value = 0.95
					}
				}
				set_variable = {
					which = wealth_rural_looted_fatigue
					value = 0.95
				}
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_rural_percentage_removed
						value = 0.9
					}
				}
				set_variable = {
					which = wealth_rural_percentage_removed
					value = 0.9
				}
			}
			else_if = {
				limit = {
					NOT = {
						check_variable = {
							which = wealth_rural_percentage_removed
							value = 0.01
						}
					}
				}
				set_variable = {
					which = wealth_rural_percentage_removed
					value = 0.01
				}
			}
			hidden_effect = {
				set_variable = {
					which = wealth_rural_total_damage
					value = 0
				}
				set_variable = {
					which = wealth_rural_fluid_damaged
					value = 0
				}
				set_variable = {
					which = wealth_rural_fluid_damaged
					which = wealth_rural_fluid
				}
				multiply_variable = {
					which = wealth_rural_fluid_damaged
					which = wealth_rural_percentage_removed
				}
				set_variable = {
					which = wealth_rural_as_asset_damaged
					value = 0
				}
				if = {
					limit = {
						check_variable = {
							which = wealth_rural_as_asset
							value = 0.001
						}
					}
					set_variable = {
						which = wealth_rural_as_asset_damaged
						which = wealth_rural_as_asset
					}
					multiply_variable = {
						which = wealth_rural_as_asset_damaged
						which = wealth_rural_percentage_removed
					}
					divide_variable = {
						which = wealth_rural_as_asset_damaged
						value = 1.5
					}
				}
				set_variable = {
					which = wealth_rural_total_damage
					which = wealth_rural_fluid_damaged
				}
				change_variable = {
					which = wealth_rural_total_damage
					which = wealth_rural_as_asset_damaged
				}
				if = {
					limit = {
						has_global_flag = show_for_developers
					}
					subtract_variable = {
						which = wealth_z_rural_gamelong_damage
						which = wealth_rural_total_damage
					}
				}
				subtract_variable = {
					which = wealth_rural_fluid
					which = wealth_rural_total_damage
				}
				if = {
					limit = {
						check_variable = {
							which = farm_efficiency_ducats_invested
							value = 0.001
						}
					}
					set_variable = {
						which = farm_efficiency_ducats_damaged
						value = 0
					}
					set_variable = {
						which = farm_efficiency_ducats_damaged
						which = farm_efficiency_ducats_invested
					}
					multiply_variable = {
						which = farm_efficiency_ducats_damaged
						which = wealth_rural_percentage_removed
					}
					multiply_variable = {
						which = farm_efficiency_ducats_damaged
						value = 0.75
					}
					subtract_variable = {
						which = farm_efficiency_ducats_invested
						which = farm_efficiency_ducats_damaged
					}
				}
				multiply_variable = {
					which = farm_efficiency_ducats_damaged
					value = 0.15
				}
				change_variable = {
					which = wealth_rural_total_damage
					which = farm_efficiency_ducats_damaged
				}
				if = {
					limit = {
						has_global_flag = show_for_developers
					}
					change_variable = {
						which = farm_efficiency_z_ducats_gamelong_damaged
						which = farm_efficiency_ducats_damaged
					}
				}
				if = {
					limit = {
						check_variable = {
							which = rural_production_power
							value = 0.001
						}
					}
					set_variable = {
						which = rural_production_power_damaged
						value = 0
					}
					set_variable = {
						which = rural_production_power_damaged
						which = wealth_rural_percentage_removed
					}
					multiply_variable = {
						which = rural_production_power_damaged
						which = rural_production_power
					}
					subtract_variable = {
						which = rural_production_power
						which = rural_production_power_damaged
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = rural_production_power
									value = 0.1
								}
							}
						}
						set_variable = {
							which = rural_production_power
							value = 0.1
						}
					}
				}
				set_variable = {
					which = wealth_rural_pillaging_threshold
					value = 0
				}
				subtract_variable = {
					which = wealth_rural_pillaging_threshold
					which = wealth_rural_as_asset
				}
				multiply_variable = {
					which = wealth_rural_pillaging_threshold
					value = 0.1
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = wealth_rural_fluid
								which = wealth_rural_pillaging_threshold
							}
						}
					}
					province_event = {
						id = POP_looting.004
					}
				}
				if = {
					limit = {
						NOT = {
							has_global_flag = show_for_developers
						}
					}
					set_variable = {
						which = wealth_rural_fluid_damaged
						value = 0
					}
					set_variable = {
						which = wealth_rural_as_asset_damaged
						value = 0
					}
					set_variable = {
						which = wealth_rural_percentage_removed
						value = 0
					}
					set_variable = {
						which = farm_efficiency_ducats_damaged
						value = 0
					}
					set_variable = {
						which = rural_production_power_damaged
						value = 0
					}
				}
			}
			hidden_effect = {
				set_variable = {
					which = wealth_total_loot
					value = 0
				}
				if = {
					limit = {
						check_variable = {
							which = wealth_rural_total_damage
							value = 0.001
						}
					}
					change_variable = {
						which = wealth_total_loot
						which = wealth_rural_total_damage
					}
				}
				if = {
					limit = {
						check_variable = {
							which = wealth_urban_total_damage
							value = 0.001
						}
					}
					change_variable = {
						which = wealth_total_loot
						which = wealth_urban_total_damage
					}
				}
				set_variable = {
					which = wealth_loot_percent
					value = 0.4
				}
				set_variable = {
					which = country_loot_modifier
					which = controller
				}
				if = {
					limit = {
						NOT = {
							is_variable_equal = {
								which = country_loot_modifier
								value = 0
							}
						}
					}
					multiply_variable = {
						which = wealth_loot_percent
						which = country_loot_modifier
					}
					set_variable = {
						which = country_loot_modifier
						value = 0
					}
				}
				multiply_variable = {
					which = wealth_total_loot
					which = wealth_loot_percent
				}
				controller = {
					set_variable = {
						which = wealth_total_loot
						which = PREV
					}
					change_variable = {
						which = loot_pool_moving
						which = wealth_total_loot
					}
					set_variable = {
						which = wealth_total_loot
						value = 0
					}
				}
				set_variable = {
					which = wealth_total_loot
					value = 0
				}
				set_variable = {
					which = wealth_loot_percent
					value = 0
				}
				if = {
					limit = {
						NOT = {
							has_global_flag = show_for_developers
						}
					}
					set_variable = {
						which = wealth_rural_total_damage
						value = 0
					}
					set_variable = {
						which = wealth_urban_total_damage
						value = 0
					}
				}
			}
			add_permanent_province_modifier = {
				name = province_looted_this_war
				duration = -1
			}
		}
		add_province_modifier = {
			name = province_damaged
			duration = -1
			hidden = yes
		}
		add_province_modifier = {
			name = province_damage_cooldown
			duration = 365
			hidden = yes
		}
		set_variable = {
			which = urban_percentage_removed
			value = 0
		}
		set_variable = {
			which = rural_percentage_removed
			value = 0
		}
		random_list = {
			10 = {
				set_variable = {
					which = population_bloodied
					value = 0.35
				}
			}
			20 = {
				set_variable = {
					which = population_bloodied
					value = 0.3
				}
			}
			40 = {
				set_variable = {
					which = population_bloodied
					value = 0.25
				}
			}
			30 = {
				set_variable = {
					which = population_bloodied
					value = 0.2
				}
			}
		}
		multiply_variable = {
			which = population_bloodied
			which = temp_damage_modifier
		}
		multiply_variable = {
			which = population_bloodied
			value = 0.75
		}
		set_variable = {
			which = rural_percentage_removed
			which = population_bloodied
		}
		multiply_variable = {
			which = rural_percentage_removed
			value = 0.5
		}
		if = {
			limit = {
				check_variable = {
					which = rural_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.01
			}
		}
		set_variable = {
			which = urban_percentage_removed
			which = population_bloodied
		}
		multiply_variable = {
			which = urban_percentage_removed
			value = 2
		}
		if = {
			limit = {
				check_variable = {
					which = urban_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.01
			}
		}
		owner = {
			save_event_target_as = victim_country
		}
		set_variable = {
			which = loot_relation_impact_rural
			which = rural_pop
		}
		change_variable = {
			which = loot_relation_impact_rural
			value = 3
		}
		multiply_variable = {
			which = loot_relation_impact_rural
			which = rural_percentage_removed
		}
		set_variable = {
			which = loot_relation_impact
			which = urban_pop
		}
		multiply_variable = {
			which = loot_relation_impact
			which = urban_percentage_removed
		}
		change_variable = {
			which = loot_relation_impact
			which = loot_relation_impact_rural
		}
		multiply_variable = {
			which = loot_relation_impact
			value = 1.5
		}
		set_variable = {
			which = loot_relation_impact_rural
			value = 0
		}
		if = {
			limit = {
				controller = {
					has_country_modifier = loot_policy_1
				}
			}
			multiply_variable = {
				which = loot_relation_impact
				value = 0.6
			}
		}
		if = {
			limit = {
				controller = {
					has_country_modifier = loot_policy_2
				}
			}
			multiply_variable = {
				which = loot_relation_impact
				value = 0.8
			}
		}
		if = {
			limit = {
				controller = {
					has_country_modifier = loot_policy_4
				}
			}
			multiply_variable = {
				which = loot_relation_impact
				value = 1.5
			}
		}
		if = {
			limit = {
				controller = {
					has_country_modifier = loot_policy_5
				}
			}
			multiply_variable = {
				which = loot_relation_impact
				value = 2
			}
		}
		if = {
			limit = {
				controller = {
					has_country_modifier = loot_policy_6
				}
			}
			multiply_variable = {
				which = loot_relation_impact
				value = 2.5
			}
		}
		if = {
			limit = {
				controller = {
					has_country_modifier = loot_policy_7
				}
			}
			multiply_variable = {
				which = loot_relation_impact
				value = 3
			}
		}
		if = {
			limit = {
				controller = {
					has_country_modifier = loot_policy_8
				}
			}
			multiply_variable = {
				which = loot_relation_impact
				value = 4
			}
		}
		controller = {
			every_known_country = {
				limit = {
					OR = {
						culture_group = ROOT
						religion_group = ROOT
					}
					OR = {
						NOT = {
							border_distance = {
								who = PREV
								distance = 150
							}
						}
						NOT = {
							border_distance = {
								who = event_target:victim_country
								distance = 150
							}
						}
					}
				}
				export_to_variable = {
					which = distance_offender
					value = border_distance
					who = PREV
				}
				set_variable = {
					which = distance_inverted_offender
					value = 175
				}
				subtract_variable = {
					which = distance_inverted_offender
					which = distance_offender
				}
				divide_variable = {
					which = distance_inverted_offender
					value = 175
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = distance_inverted_offender
								value = 0.2
							}
						}
					}
					set_variable = {
						which = distance_inverted_offender
						value = 0.2
					}
				}
				export_to_variable = {
					which = distance_victim
					value = border_distance
					who = event_target:victim_country
				}
				set_variable = {
					which = distance_inverted_victim
					value = 175
				}
				subtract_variable = {
					which = distance_inverted_victim
					which = distance_victim
				}
				divide_variable = {
					which = distance_inverted_victim
					value = 175
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = distance_inverted_victim
								value = 0.2
							}
						}
					}
					set_variable = {
						which = distance_inverted_victim
						value = 0.2
					}
				}
				set_variable = {
					which = reciever_population
					value = 1
				}
				if = {
					limit = {
						is_variable_equal = {
							which = country_total_pop
							value = 0
						}
					}
				}
				else = {
					divide_variable = {
						which = reciever_population
						which = country_total_pop
					}
				}
				multiply_variable = {
					which = reciever_population
					value = 65
				}
				if = {
					limit = {
						check_variable = {
							which = reciever_population
							value = 1
						}
					}
					set_variable = {
						which = reciever_population
						value = 1
					}
				}
				set_variable = {
					which = loot_relation_impact
					which = ROOT
				}
				multiply_variable = {
					which = loot_relation_impact
					which = distance_inverted_offender
				}
				multiply_variable = {
					which = loot_relation_impact
					which = distance_inverted_victim
				}
				multiply_variable = {
					which = loot_relation_impact
					which = reciever_population
				}
				if = {
					limit = {
						NOT = {
							has_global_flag = show_for_developers
						}
					}
					set_variable = {
						which = distance_offender
						value = 0
					}
					set_variable = {
						which = distance_victim
						value = 0
					}
					set_variable = {
						which = distance_inverted_offender
						value = 0
					}
					set_variable = {
						which = distance_inverted_victim
						value = 0
					}
				}
				if = {
					limit = {
						primary_culture = ROOT
					}
					multiply_variable = {
						which = loot_relation_impact
						value = 1.35
					}
				}
				if = {
					limit = {
						culture_group = ROOT
					}
					multiply_variable = {
						which = loot_relation_impact
						value = 1.35
					}
				}
				if = {
					limit = {
						religion = ROOT
					}
					multiply_variable = {
						which = loot_relation_impact
						value = 1.4
					}
				}
				if = {
					limit = {
						religion_group = ROOT
					}
					multiply_variable = {
						which = loot_relation_impact
						value = 1.4
					}
				}
				if = {
					limit = {
						alliance_with = PREV
					}
					multiply_variable = {
						which = loot_relation_impact
						value = 0.25
					}
				}
				if = {
					limit = {
						is_subject_of = PREV
					}
					multiply_variable = {
						which = loot_relation_impact
						value = 0.1
					}
				}
				if = {
					limit = {
						owns = ROOT
					}
					multiply_variable = {
						which = loot_relation_impact
						value = 5
					}
				}
				if = {
					limit = {
						check_variable = {
							which = loot_relation_impact
							value = 75
						}
					}
					set_variable = {
						which = loot_relation_impact
						value = 75
					}
				}
				while = {
					limit = {
						check_variable = {
							which = loot_relation_impact
							value = 0.5
						}
					}
					subtract_variable = {
						which = loot_relation_impact
						value = 1
					}
					add_opinion = {
						who = PREV
						modifier = loot_scare
					}
				}
				set_variable = {
					which = loot_relation_impact
					value = 0
				}
				set_variable = {
					which = distance_inverted
					value = 0
				}
				set_variable = {
					which = reciever_population
					value = 0
				}
			}
		}
		set_variable = {
			which = loot_relation_impact
			value = 0
		}
		set_variable = {
			which = distance_inverted
			value = 0
		}
		set_variable = {
			which = reciever_population
			value = 0
		}
		set_variable = {
			which = urbans_dead
			which = urban_percentage_removed
		}
		multiply_variable = {
			which = urbans_dead
			value = 10
		}
		multiply_variable = {
			which = urbans_dead
			which = urban_pop
		}
		set_variable = {
			which = urbans_killed
			which = urbans_dead
		}
		set_variable = {
			which = urbans_dead_total
			which = urbans_dead
		}
		set_variable = {
			which = urbans_killed_total
			which = urbans_dead
		}
		set_variable = {
			which = rurals_dead
			which = rural_percentage_removed
		}
		multiply_variable = {
			which = rurals_dead
			value = 10
		}
		multiply_variable = {
			which = rurals_dead
			which = rural_pop
		}
		set_variable = {
			which = rurals_killed
			which = rurals_dead
		}
		set_variable = {
			which = rurals_dead_total
			which = rurals_dead
		}
		set_variable = {
			which = rurals_killed_total
			which = rurals_dead
		}
		controller = {
			save_event_target_as = prov_controller
		}
		owner = {
			save_event_target_as = prov_owner
			change_variable = {
				which = urbans_dead
				which = PREV
			}
			change_variable = {
				which = rurals_dead
				which = PREV
			}
			every_country = {
				limit = {
					war_with = PREV
					OR = {
						is_in_war = {
							attackers = event_target:prov_controller
							defenders = PREV
						}
						is_in_war = {
							attackers = PREV
							defenders = event_target:prov_controller
						}
					}
				}
				change_variable = {
					which = urbans_killed_total
					which = ROOT
				}
				change_variable = {
					which = rurals_killed_total
					which = ROOT
				}
			}
		}
		controller = {
			change_variable = {
				which = urbans_killed
				which = PREV
			}
			change_variable = {
				which = rurals_killed
				which = PREV
			}
			every_country = {
				limit = {
					war_with = PREV
					OR = {
						is_in_war = {
							attackers = event_target:prov_owner
							defenders = PREV
						}
						is_in_war = {
							attackers = PREV
							defenders = event_target:prov_owner
						}
					}
				}
				change_variable = {
					which = urbans_dead_total
					which = ROOT
				}
				change_variable = {
					which = rurals_dead_total
					which = ROOT
				}
			}
		}
		set_variable = {
			which = urbans_dead
			value = 0
		}
		set_variable = {
			which = urbans_killed
			value = 0
		}
		set_variable = {
			which = urbans_dead_total
			value = 0
		}
		set_variable = {
			which = urbans_killed_total
			value = 0
		}
		set_variable = {
			which = rurals_dead
			value = 0
		}
		set_variable = {
			which = rurals_killed
			value = 0
		}
		set_variable = {
			which = rurals_dead_total
			value = 0
		}
		set_variable = {
			which = rurals_killed_total
			value = 0
		}
		hidden_effect = {
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_pop
				}
				multiply_variable = {
					which = urban_population_removed
					which = urban_percentage_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_percentage_removed
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_base_pop_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				set_variable = {
					which = urban_pop_total
					value = 0
				}
				change_variable = {
					which = urban_pop_total
					which = urban_pop
				}
				set_variable = {
					which = urban_pop_loss_percent
					value = 0
				}
				set_variable = {
					which = urban_pop_loss_percent
					which = urban_base_pop_removed
				}
				if = {
					limit = {
						is_variable_equal = {
							which = urban_pop_total
							value = 0
						}
					}
				}
				else = {
					divide_variable = {
						which = urban_pop_loss_percent
						which = urban_pop_total
					}
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_pop_loss_percent
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = percent_urban_transfered
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_fleeing
					value = 0
				}
				set_variable = {
					which = urban_population_fleeing
					which = urban_population_removed
				}
				multiply_variable = {
					which = urban_population_fleeing
					which = percent_rural_transfered
				}
			}
			multiply_variable = {
				which = urban_population_removed
				value = -10
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = urban_ratio
			}
			change_variable = {
				which = total_pop_r
				which = urban_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = urban_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = urban_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = urban_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = urban_ratio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = urban_pop
							value = 0.001
						}
					}
				}
				set_variable = {
					which = urban_pop
					value = 0.001
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_gravity_total
						value = 0.01
					}
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = urban_ratio
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = urban_density
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				divide_variable = {
					which = urban_density
					which = urban_gravity_total
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = urban_density
								value = 0.5
							}
						}
					}
					set_variable = {
						which = urban_density
						value = 0.5
					}
				}
			}
			else = {
				set_variable = {
					which = urban_density
					value = 0
				}
			}
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0
			}
			set_variable = {
				which = urban_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_urban_transfered
				value = 0
			}
		}
		hidden_effect = {
			set_variable = {
				which = rural_population_old
				which = rural_pop
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_pop
				}
				multiply_variable = {
					which = rural_population_removed
					which = rural_percentage_removed
				}
				if = {
					limit = {
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
					set_variable = {
						which = rural_population_fleeing
						value = 0
					}
					set_variable = {
						which = rural_population_fleeing
						which = rural_population_removed
					}
					multiply_variable = {
						which = rural_population_fleeing
						which = percent_rural_transfered
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = rural_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_base_pop_removed
				}
			}
			multiply_variable = {
				which = rural_population_removed
				value = -10
			}
			set_variable = {
				which = InvPopRatio
				value = 100
			}
			subtract_variable = {
				which = InvPopRatio
				which = urban_ratio
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = InvPopRatio
			}
			change_variable = {
				which = total_pop_r
				which = rural_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = rural_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = rural_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = rural_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = InvPopRatio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			set_variable = {
				which = urban_ratio
				value = 100
			}
			subtract_variable = {
				which = urban_ratio
				which = InvPopRatio
			}
			set_variable = {
				which = InvPopRatio
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_pop
							value = 0.01
						}
					}
				}
				set_variable = {
					which = rural_pop
					value = 0.01
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = ideal_rural_pop
							value = 1
						}
					}
				}
				set_variable = {
					which = ideal_rural_pop
					value = 1
				}
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_density
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_density
						value = 0.01
					}
				}
				set_variable = {
					which = total_pop_compare
					which = rural_density
				}
				multiply_variable = {
					which = total_pop_compare
					value = 2
				}
				if = {
					limit = {
						check_variable = {
							which = ideal_rural_pop
							which = total_pop_compare
						}
						check_variable = {
							which = rural_density
							value = 10
						}
					}
					set_variable = {
						which = ideal_rural_pop
						which = rural_density
					}
				}
				set_variable = {
					which = total_pop_compare
					value = 0
				}
				divide_variable = {
					which = rural_density
					which = ideal_rural_pop
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_density
							value = 0.5
						}
					}
				}
				set_variable = {
					which = rural_density
					value = 0.5
				}
			}
			if = {
				limit = {
					check_variable = {
						which = tribals_ratio
						value = 0.001
					}
					OR = {
						check_variable = {
							which = rural_percentage_removed
							value = 0.001
						}
						check_variable = {
							which = rural_base_pop_removed
							value = 0.001
						}
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
				}
				if = {
					limit = {
						OR = {
							is_city = yes
							is_colony = yes
						}
						has_province_flag = plague_attacked
						owner = {
							NOT = {
								is_tribal = yes
							}
						}
						NOT = {
							check_variable = {
								which = province_plague_immunity
								value = 0
							}
						}
						OR = {
							continent = north_america
							continent = south_america
							superregion = australia_superregion
						}
						OR = {
							AND = {
								owner = {
									is_colonial_nation = no
								}
								owner = {
									capital_scope = {
										continent = europe
									}
								}
							}
							AND = {
								owner = {
									is_colonial_nation = yes
								}
								owner = {
									colonial_parent = {
										capital_scope = {
											continent = europe
										}
									}
								}
							}
						}
					}
					set_variable = {
						which = rural_population_tribal_decrease
						which = rural_pop
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						which = rural_population_old
					}
					change_variable = {
						which = rural_population_tribal_decrease
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_decrease
					}
					set_variable = {
						which = rural_population_tribal_decrease
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
				else = {
					set_variable = {
						which = rural_population_tribal_increase
						which = rural_population_old
					}
					divide_variable = {
						which = rural_population_tribal_increase
						which = rural_pop
					}
					change_variable = {
						which = rural_population_tribal_increase
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_increase
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_increase
					}
					set_variable = {
						which = rural_population_tribal_increase
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0
			}
			set_variable = {
				which = rural_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_rural_transfered
				value = 0
			}
			set_variable = {
				which = rural_population_old
				value = 0
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = province_trauma
						value = 0.01
					}
				}
			}
			set_variable = {
				which = province_trauma
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = province_trauma
						value = 100
					}
				}
			}
			set_variable = {
				which = province_trauma_added
				value = 0
			}
			random_list = {
				5 = {
					change_variable = {
						which = province_trauma_added
						value = 3
					}
				}
				10 = {
					change_variable = {
						which = province_trauma_added
						value = 2
					}
				}
				20 = {
					change_variable = {
						which = province_trauma_added
						value = 1.75
					}
				}
				40 = {
					change_variable = {
						which = province_trauma_added
						value = 1.5
					}
				}
				25 = {
					change_variable = {
						which = province_trauma_added
						value = 1
					}
				}
			}
			multiply_variable = {
				which = province_trauma_added
				which = temp_damage_modifier
			}
			change_variable = {
				which = province_trauma
				which = province_trauma_added
			}
		}
		if = {
			limit = {
				check_variable = {
					which = province_trauma
					value = 6
				}
			}
			if = {
				limit = {
					check_variable = {
						which = province_trauma
						value = 8
					}
				}
				if = {
					limit = {
						check_variable = {
							which = province_trauma
							value = 10
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_devastating
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_devastating
							duration = -1
						}
						add_devastation = 100
					}
				}
				else = {
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_terrible
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_terrible
							duration = -1
						}
						add_devastation = -100
						add_devastation = 80
					}
				}
			}
			else = {
				if = {
					limit = {
						NOT = {
							has_province_modifier = trauma_harsh
						}
					}
					trigger_switch = {
						on_trigger = has_province_modifier
						trauma_mild = {
							remove_province_modifier = trauma_mild
						}
						trauma_limited = {
							remove_province_modifier = trauma_limited
						}
						trauma_harsh = {
							remove_province_modifier = trauma_harsh
						}
						trauma_terrible = {
							remove_province_modifier = trauma_terrible
						}
						trauma_devastating = {
							remove_province_modifier = trauma_devastating
						}
					}
					add_permanent_province_modifier = {
						name = trauma_harsh
						duration = -1
					}
					add_devastation = -100
					add_devastation = 60
				}
			}
		}
		else = {
			if = {
				limit = {
					check_variable = {
						which = province_trauma
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = province_trauma
							value = 4
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_limited
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_limited
							duration = -1
						}
						add_devastation = -100
						add_devastation = 40
					}
				}
				else = {
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_mild
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_mild
							duration = -1
						}
						add_devastation = -100
						add_devastation = 20
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_global_flag = show_for_developers
				}
			}
			set_variable = {
				which = population_bloodied
				value = 0
			}
			set_variable = {
				which = temp_damage_modifier
				value = 0
			}
		}
	}
	option = {
		name = "POP_province_damage.001.a"
	}
}
province_event = {
	id = POP_province_damage.002
	title = POP_province_damage.002.t
	desc = POP_province_damage.002.d
	picture = BURNING_CITY_eventPicture
	hidden = yes
	trigger = {
		has_province_modifier = province_damaged
		NOT = {
			has_province_modifier = province_damage_cooldown
		}
		is_colony = no
	}
	mean_time_to_happen = {
		months = 1
	}
	immediate = {
		add_province_modifier = {
			name = province_damage_cooldown
			duration = 365
			hidden = yes
		}
		set_variable = {
			which = urban_percentage_removed
			value = 0
		}
		set_variable = {
			which = rural_percentage_removed
			value = 0
		}
		random_list = {
			10 = {
				set_variable = {
					which = population_bleeding
					value = 0.05
				}
			}
			20 = {
				set_variable = {
					which = population_bleeding
					value = 0.04
				}
			}
			40 = {
				set_variable = {
					which = population_bleeding
					value = 0.03
				}
			}
			30 = {
				set_variable = {
					which = population_bleeding
					value = 0.02
				}
			}
		}
		multiply_variable = {
			which = population_bleeding
			value = 0.75
		}
		set_variable = {
			which = rural_percentage_removed
			which = population_bleeding
		}
		multiply_variable = {
			which = rural_percentage_removed
			value = 0.5
		}
		if = {
			limit = {
				check_variable = {
					which = rural_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.01
			}
		}
		set_variable = {
			which = urban_percentage_removed
			which = population_bleeding
		}
		multiply_variable = {
			which = urban_percentage_removed
			value = 2
		}
		if = {
			limit = {
				check_variable = {
					which = urban_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.01
			}
		}
		if = {
			limit = {
				NOT = {
					controlled_by = owner
				}
				NOT = {
					controlled_by = REB
				}
			}
			set_variable = {
				which = urbans_dead
				which = urban_percentage_removed
			}
			multiply_variable = {
				which = urbans_dead
				value = 10
			}
			multiply_variable = {
				which = urbans_dead
				which = urban_pop
			}
			set_variable = {
				which = urbans_killed
				which = urbans_dead
			}
			set_variable = {
				which = urbans_dead_total
				which = urbans_dead
			}
			set_variable = {
				which = urbans_killed_total
				which = urbans_dead
			}
			set_variable = {
				which = rurals_dead
				which = rural_percentage_removed
			}
			multiply_variable = {
				which = rurals_dead
				value = 10
			}
			multiply_variable = {
				which = rurals_dead
				which = rural_pop
			}
			set_variable = {
				which = rurals_killed
				which = rurals_dead
			}
			set_variable = {
				which = rurals_dead_total
				which = rurals_dead
			}
			set_variable = {
				which = rurals_killed_total
				which = rurals_dead
			}
			controller = {
				save_event_target_as = prov_controller
			}
			owner = {
				save_event_target_as = prov_owner
				change_variable = {
					which = urbans_dead
					which = PREV
				}
				change_variable = {
					which = rurals_dead
					which = PREV
				}
				every_country = {
					limit = {
						war_with = PREV
						OR = {
							is_in_war = {
								attackers = event_target:prov_controller
								defenders = PREV
							}
							is_in_war = {
								attackers = PREV
								defenders = event_target:prov_controller
							}
						}
					}
					change_variable = {
						which = urbans_killed_total
						which = ROOT
					}
					change_variable = {
						which = rurals_killed_total
						which = ROOT
					}
				}
			}
			controller = {
				change_variable = {
					which = urbans_killed
					which = PREV
				}
				change_variable = {
					which = rurals_killed
					which = PREV
				}
				every_country = {
					limit = {
						war_with = PREV
						OR = {
							is_in_war = {
								attackers = event_target:prov_owner
								defenders = PREV
							}
							is_in_war = {
								attackers = PREV
								defenders = event_target:prov_owner
							}
						}
					}
					change_variable = {
						which = urbans_dead_total
						which = ROOT
					}
					change_variable = {
						which = rurals_dead_total
						which = ROOT
					}
				}
			}
			set_variable = {
				which = urbans_dead
				value = 0
			}
			set_variable = {
				which = urbans_killed
				value = 0
			}
			set_variable = {
				which = urbans_dead_total
				value = 0
			}
			set_variable = {
				which = urbans_killed_total
				value = 0
			}
			set_variable = {
				which = rurals_dead
				value = 0
			}
			set_variable = {
				which = rurals_killed
				value = 0
			}
			set_variable = {
				which = rurals_dead_total
				value = 0
			}
			set_variable = {
				which = rurals_killed_total
				value = 0
			}
		}
		hidden_effect = {
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_pop
				}
				multiply_variable = {
					which = urban_population_removed
					which = urban_percentage_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_percentage_removed
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_base_pop_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				set_variable = {
					which = urban_pop_total
					value = 0
				}
				change_variable = {
					which = urban_pop_total
					which = urban_pop
				}
				set_variable = {
					which = urban_pop_loss_percent
					value = 0
				}
				set_variable = {
					which = urban_pop_loss_percent
					which = urban_base_pop_removed
				}
				if = {
					limit = {
						is_variable_equal = {
							which = urban_pop_total
							value = 0
						}
					}
				}
				else = {
					divide_variable = {
						which = urban_pop_loss_percent
						which = urban_pop_total
					}
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_pop_loss_percent
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = percent_urban_transfered
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_fleeing
					value = 0
				}
				set_variable = {
					which = urban_population_fleeing
					which = urban_population_removed
				}
				multiply_variable = {
					which = urban_population_fleeing
					which = percent_rural_transfered
				}
			}
			multiply_variable = {
				which = urban_population_removed
				value = -10
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = urban_ratio
			}
			change_variable = {
				which = total_pop_r
				which = urban_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = urban_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = urban_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = urban_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = urban_ratio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = urban_pop
							value = 0.001
						}
					}
				}
				set_variable = {
					which = urban_pop
					value = 0.001
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_gravity_total
						value = 0.01
					}
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = urban_ratio
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = urban_density
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				divide_variable = {
					which = urban_density
					which = urban_gravity_total
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = urban_density
								value = 0.5
							}
						}
					}
					set_variable = {
						which = urban_density
						value = 0.5
					}
				}
			}
			else = {
				set_variable = {
					which = urban_density
					value = 0
				}
			}
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0
			}
			set_variable = {
				which = urban_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_urban_transfered
				value = 0
			}
		}
		hidden_effect = {
			set_variable = {
				which = rural_population_old
				which = rural_pop
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_pop
				}
				multiply_variable = {
					which = rural_population_removed
					which = rural_percentage_removed
				}
				if = {
					limit = {
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
					set_variable = {
						which = rural_population_fleeing
						value = 0
					}
					set_variable = {
						which = rural_population_fleeing
						which = rural_population_removed
					}
					multiply_variable = {
						which = rural_population_fleeing
						which = percent_rural_transfered
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = rural_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_base_pop_removed
				}
			}
			multiply_variable = {
				which = rural_population_removed
				value = -10
			}
			set_variable = {
				which = InvPopRatio
				value = 100
			}
			subtract_variable = {
				which = InvPopRatio
				which = urban_ratio
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = InvPopRatio
			}
			change_variable = {
				which = total_pop_r
				which = rural_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = rural_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = rural_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = rural_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = InvPopRatio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			set_variable = {
				which = urban_ratio
				value = 100
			}
			subtract_variable = {
				which = urban_ratio
				which = InvPopRatio
			}
			set_variable = {
				which = InvPopRatio
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_pop
							value = 0.01
						}
					}
				}
				set_variable = {
					which = rural_pop
					value = 0.01
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = ideal_rural_pop
							value = 1
						}
					}
				}
				set_variable = {
					which = ideal_rural_pop
					value = 1
				}
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_density
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_density
						value = 0.01
					}
				}
				set_variable = {
					which = total_pop_compare
					which = rural_density
				}
				multiply_variable = {
					which = total_pop_compare
					value = 2
				}
				if = {
					limit = {
						check_variable = {
							which = ideal_rural_pop
							which = total_pop_compare
						}
						check_variable = {
							which = rural_density
							value = 10
						}
					}
					set_variable = {
						which = ideal_rural_pop
						which = rural_density
					}
				}
				set_variable = {
					which = total_pop_compare
					value = 0
				}
				divide_variable = {
					which = rural_density
					which = ideal_rural_pop
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_density
							value = 0.5
						}
					}
				}
				set_variable = {
					which = rural_density
					value = 0.5
				}
			}
			if = {
				limit = {
					check_variable = {
						which = tribals_ratio
						value = 0.001
					}
					OR = {
						check_variable = {
							which = rural_percentage_removed
							value = 0.001
						}
						check_variable = {
							which = rural_base_pop_removed
							value = 0.001
						}
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
				}
				if = {
					limit = {
						OR = {
							is_city = yes
							is_colony = yes
						}
						has_province_flag = plague_attacked
						owner = {
							NOT = {
								is_tribal = yes
							}
						}
						NOT = {
							check_variable = {
								which = province_plague_immunity
								value = 0
							}
						}
						OR = {
							continent = north_america
							continent = south_america
							superregion = australia_superregion
						}
						OR = {
							AND = {
								owner = {
									is_colonial_nation = no
								}
								owner = {
									capital_scope = {
										continent = europe
									}
								}
							}
							AND = {
								owner = {
									is_colonial_nation = yes
								}
								owner = {
									colonial_parent = {
										capital_scope = {
											continent = europe
										}
									}
								}
							}
						}
					}
					set_variable = {
						which = rural_population_tribal_decrease
						which = rural_pop
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						which = rural_population_old
					}
					change_variable = {
						which = rural_population_tribal_decrease
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_decrease
					}
					set_variable = {
						which = rural_population_tribal_decrease
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
				else = {
					set_variable = {
						which = rural_population_tribal_increase
						which = rural_population_old
					}
					divide_variable = {
						which = rural_population_tribal_increase
						which = rural_pop
					}
					change_variable = {
						which = rural_population_tribal_increase
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_increase
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_increase
					}
					set_variable = {
						which = rural_population_tribal_increase
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0
			}
			set_variable = {
				which = rural_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_rural_transfered
				value = 0
			}
			set_variable = {
				which = rural_population_old
				value = 0
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
		}
		set_variable = {
			which = population_bleeding
			value = 0
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = province_trauma
						value = 0.01
					}
				}
			}
			set_variable = {
				which = province_trauma
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = province_trauma
						value = 100
					}
				}
			}
			set_variable = {
				which = province_trauma_added
				value = 0
			}
			random_list = {
				30 = {
					change_variable = {
						which = province_trauma_added
						value = 1
					}
				}
				40 = {
					change_variable = {
						which = province_trauma_added
						value = 0.75
					}
				}
				30 = {
					change_variable = {
						which = province_trauma_added
						value = 0.5
					}
				}
			}
			change_variable = {
				which = province_trauma
				which = province_trauma_added
			}
		}
		if = {
			limit = {
				check_variable = {
					which = province_trauma
					value = 6
				}
			}
			if = {
				limit = {
					check_variable = {
						which = province_trauma
						value = 8
					}
				}
				if = {
					limit = {
						check_variable = {
							which = province_trauma
							value = 10
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_devastating
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_devastating
							duration = -1
						}
						add_devastation = 100
					}
				}
				else = {
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_terrible
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_terrible
							duration = -1
						}
						add_devastation = -100
						add_devastation = 80
					}
				}
			}
			else = {
				if = {
					limit = {
						NOT = {
							has_province_modifier = trauma_harsh
						}
					}
					trigger_switch = {
						on_trigger = has_province_modifier
						trauma_mild = {
							remove_province_modifier = trauma_mild
						}
						trauma_limited = {
							remove_province_modifier = trauma_limited
						}
						trauma_harsh = {
							remove_province_modifier = trauma_harsh
						}
						trauma_terrible = {
							remove_province_modifier = trauma_terrible
						}
						trauma_devastating = {
							remove_province_modifier = trauma_devastating
						}
					}
					add_permanent_province_modifier = {
						name = trauma_harsh
						duration = -1
					}
					add_devastation = -100
					add_devastation = 60
				}
			}
		}
		else = {
			if = {
				limit = {
					check_variable = {
						which = province_trauma
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = province_trauma
							value = 4
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_limited
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_limited
							duration = -1
						}
						add_devastation = -100
						add_devastation = 40
					}
				}
				else = {
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_mild
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_mild
							duration = -1
						}
						add_devastation = -100
						add_devastation = 20
					}
				}
			}
		}
	}
	option = {
		name = "POP_province_damage.002.a"
	}
}
province_event = {
	id = POP_province_damage.003
	title = POP_province_damage.003.t
	desc = POP_province_damage.003.d
	picture = BURNING_CITY_eventPicture
	hidden = yes
	trigger = {
		has_province_modifier = province_looted_this_war
		owner = {
			is_at_war = no
		}
		is_colony = no
	}
	mean_time_to_happen = {
		months = 1
	}
	immediate = {
		remove_province_modifier = province_looted_this_war
		if = {
			limit = {
				has_province_modifier = province_damaged
			}
			remove_province_modifier = province_damaged
		}
	}
	option = {
		name = "POP_province_damage.003.a"
	}
}
province_event = {
	id = POP_province_damage.004
	title = POP_province_damage.004.t
	desc = POP_province_damage.004.d
	picture = BURNING_CITY_eventPicture
	hidden = yes
	is_triggered_only = yes
	trigger = {
		controlled_by = REB
		NOT = {
			has_province_modifier = rebel_occupied
		}
		is_colony = no
	}
	immediate = {
		if = {
			limit = {
				NOT = {
					has_province_modifier = province_looted_this_war
				}
			}
			set_variable = {
				which = wealth_urban_percentage_removed
				value = 0.15
			}
			hidden_effect = {
				set_variable = {
					which = wealth_urban_total_damage
					value = 0
				}
				set_variable = {
					which = wealth_urban_fluid_damaged
					value = 0
				}
				set_variable = {
					which = wealth_urban_as_asset_damaged
					value = 0
				}
				if = {
					limit = {
						check_variable = {
							which = wealth_urban_as_asset
							value = 0.001
						}
					}
					set_variable = {
						which = wealth_urban_as_asset_damaged
						which = wealth_urban_as_asset
					}
					multiply_variable = {
						which = wealth_urban_as_asset_damaged
						which = wealth_urban_percentage_removed
					}
				}
				set_variable = {
					which = wealth_urban_fluid_damaged
					which = wealth_urban_fluid
				}
				multiply_variable = {
					which = wealth_urban_fluid_damaged
					which = wealth_urban_percentage_removed
				}
				multiply_variable = {
					which = wealth_urban_percentage_removed
					value = 0.5
				}
				set_variable = {
					which = wealth_urban_total_damage
					which = wealth_urban_fluid_damaged
				}
				change_variable = {
					which = wealth_urban_total_damage
					which = wealth_urban_as_asset_damaged
				}
				if = {
					limit = {
						has_global_flag = show_for_developers
					}
					subtract_variable = {
						which = wealth_z_urban_gamelong_damage
						which = wealth_urban_total_damage
					}
				}
				subtract_variable = {
					which = wealth_urban_fluid
					which = wealth_urban_total_damage
				}
				set_variable = {
					which = wealth_urban_pillaging_threshold
					value = 0
				}
				subtract_variable = {
					which = wealth_urban_pillaging_threshold
					which = wealth_urban_as_asset
				}
				multiply_variable = {
					which = wealth_urban_pillaging_threshold
					value = 0.1
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = wealth_urban_fluid
								which = wealth_urban_pillaging_threshold
							}
						}
					}
					province_event = {
						id = POP_looting.001
					}
				}
				if = {
					limit = {
						NOT = {
							has_global_flag = show_for_developers
						}
					}
					set_variable = {
						which = wealth_urban_fluid_damaged
						value = 0
					}
					set_variable = {
						which = wealth_urban_as_asset_damaged
						value = 0
					}
					set_variable = {
						which = wealth_urban_percentage_removed
						value = 0
					}
				}
			}
			set_variable = {
				which = wealth_rural_percentage_removed
				value = 0.075
			}
			hidden_effect = {
				set_variable = {
					which = wealth_rural_total_damage
					value = 0
				}
				set_variable = {
					which = wealth_rural_fluid_damaged
					value = 0
				}
				set_variable = {
					which = wealth_rural_fluid_damaged
					which = wealth_rural_fluid
				}
				multiply_variable = {
					which = wealth_rural_fluid_damaged
					which = wealth_rural_percentage_removed
				}
				set_variable = {
					which = wealth_rural_as_asset_damaged
					value = 0
				}
				if = {
					limit = {
						check_variable = {
							which = wealth_rural_as_asset
							value = 0.001
						}
					}
					set_variable = {
						which = wealth_rural_as_asset_damaged
						which = wealth_rural_as_asset
					}
					multiply_variable = {
						which = wealth_rural_as_asset_damaged
						which = wealth_rural_percentage_removed
					}
					divide_variable = {
						which = wealth_rural_as_asset_damaged
						value = 1.5
					}
				}
				set_variable = {
					which = wealth_rural_total_damage
					which = wealth_rural_fluid_damaged
				}
				change_variable = {
					which = wealth_rural_total_damage
					which = wealth_rural_as_asset_damaged
				}
				if = {
					limit = {
						has_global_flag = show_for_developers
					}
					subtract_variable = {
						which = wealth_z_rural_gamelong_damage
						which = wealth_rural_total_damage
					}
				}
				subtract_variable = {
					which = wealth_rural_fluid
					which = wealth_rural_total_damage
				}
				if = {
					limit = {
						check_variable = {
							which = farm_efficiency_ducats_invested
							value = 0.001
						}
					}
					set_variable = {
						which = farm_efficiency_ducats_damaged
						value = 0
					}
					set_variable = {
						which = farm_efficiency_ducats_damaged
						which = farm_efficiency_ducats_invested
					}
					multiply_variable = {
						which = farm_efficiency_ducats_damaged
						which = wealth_rural_percentage_removed
					}
					multiply_variable = {
						which = farm_efficiency_ducats_damaged
						value = 0.75
					}
					subtract_variable = {
						which = farm_efficiency_ducats_invested
						which = farm_efficiency_ducats_damaged
					}
				}
				multiply_variable = {
					which = farm_efficiency_ducats_damaged
					value = 0.15
				}
				change_variable = {
					which = wealth_rural_total_damage
					which = farm_efficiency_ducats_damaged
				}
				if = {
					limit = {
						has_global_flag = show_for_developers
					}
					change_variable = {
						which = farm_efficiency_z_ducats_gamelong_damaged
						which = farm_efficiency_ducats_damaged
					}
				}
				if = {
					limit = {
						check_variable = {
							which = rural_production_power
							value = 0.001
						}
					}
					set_variable = {
						which = rural_production_power_damaged
						value = 0
					}
					set_variable = {
						which = rural_production_power_damaged
						which = wealth_rural_percentage_removed
					}
					multiply_variable = {
						which = rural_production_power_damaged
						which = rural_production_power
					}
					subtract_variable = {
						which = rural_production_power
						which = rural_production_power_damaged
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = rural_production_power
									value = 0.1
								}
							}
						}
						set_variable = {
							which = rural_production_power
							value = 0.1
						}
					}
				}
				set_variable = {
					which = wealth_rural_pillaging_threshold
					value = 0
				}
				subtract_variable = {
					which = wealth_rural_pillaging_threshold
					which = wealth_rural_as_asset
				}
				multiply_variable = {
					which = wealth_rural_pillaging_threshold
					value = 0.1
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = wealth_rural_fluid
								which = wealth_rural_pillaging_threshold
							}
						}
					}
					province_event = {
						id = POP_looting.004
					}
				}
				if = {
					limit = {
						NOT = {
							has_global_flag = show_for_developers
						}
					}
					set_variable = {
						which = wealth_rural_fluid_damaged
						value = 0
					}
					set_variable = {
						which = wealth_rural_as_asset_damaged
						value = 0
					}
					set_variable = {
						which = wealth_rural_percentage_removed
						value = 0
					}
					set_variable = {
						which = farm_efficiency_ducats_damaged
						value = 0
					}
					set_variable = {
						which = rural_production_power_damaged
						value = 0
					}
				}
			}
		}
		add_province_modifier = {
			name = rebel_occupied
			duration = 3650
			hidden = yes
		}
		add_province_modifier = {
			name = rebel_damage_cooldown
			duration = 750
			hidden = yes
		}
		set_variable = {
			which = urban_percentage_removed
			value = 0
		}
		set_variable = {
			which = rural_percentage_removed
			value = 0
		}
		random_list = {
			10 = {
				set_variable = {
					which = population_bloodied
					value = 0.15
				}
			}
			20 = {
				set_variable = {
					which = population_bloodied
					value = 0.12
				}
			}
			40 = {
				set_variable = {
					which = population_bloodied
					value = 0.10
				}
			}
			30 = {
				set_variable = {
					which = population_bloodied
					value = 0.05
				}
			}
		}
		multiply_variable = {
			which = population_bloodied
			value = 0.75
		}
		set_variable = {
			which = rural_percentage_removed
			which = population_bloodied
		}
		multiply_variable = {
			which = rural_percentage_removed
			value = 0.5
		}
		if = {
			limit = {
				check_variable = {
					which = rural_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.01
			}
		}
		set_variable = {
			which = urban_percentage_removed
			which = population_bloodied
		}
		multiply_variable = {
			which = urban_percentage_removed
			value = 2
		}
		if = {
			limit = {
				check_variable = {
					which = urban_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.01
			}
		}
		hidden_effect = {
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_pop
				}
				multiply_variable = {
					which = urban_population_removed
					which = urban_percentage_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_percentage_removed
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_base_pop_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				set_variable = {
					which = urban_pop_total
					value = 0
				}
				change_variable = {
					which = urban_pop_total
					which = urban_pop
				}
				set_variable = {
					which = urban_pop_loss_percent
					value = 0
				}
				set_variable = {
					which = urban_pop_loss_percent
					which = urban_base_pop_removed
				}
				if = {
					limit = {
						is_variable_equal = {
							which = urban_pop_total
							value = 0
						}
					}
				}
				else = {
					divide_variable = {
						which = urban_pop_loss_percent
						which = urban_pop_total
					}
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_pop_loss_percent
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = percent_urban_transfered
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_fleeing
					value = 0
				}
				set_variable = {
					which = urban_population_fleeing
					which = urban_population_removed
				}
				multiply_variable = {
					which = urban_population_fleeing
					which = percent_rural_transfered
				}
			}
			multiply_variable = {
				which = urban_population_removed
				value = -10
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = urban_ratio
			}
			change_variable = {
				which = total_pop_r
				which = urban_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = urban_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = urban_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = urban_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = urban_ratio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = urban_pop
							value = 0.001
						}
					}
				}
				set_variable = {
					which = urban_pop
					value = 0.001
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_gravity_total
						value = 0.01
					}
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = urban_ratio
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = urban_density
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				divide_variable = {
					which = urban_density
					which = urban_gravity_total
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = urban_density
								value = 0.5
							}
						}
					}
					set_variable = {
						which = urban_density
						value = 0.5
					}
				}
			}
			else = {
				set_variable = {
					which = urban_density
					value = 0
				}
			}
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0
			}
			set_variable = {
				which = urban_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_urban_transfered
				value = 0
			}
		}
		hidden_effect = {
			set_variable = {
				which = rural_population_old
				which = rural_pop
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_pop
				}
				multiply_variable = {
					which = rural_population_removed
					which = rural_percentage_removed
				}
				if = {
					limit = {
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
					set_variable = {
						which = rural_population_fleeing
						value = 0
					}
					set_variable = {
						which = rural_population_fleeing
						which = rural_population_removed
					}
					multiply_variable = {
						which = rural_population_fleeing
						which = percent_rural_transfered
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = rural_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_base_pop_removed
				}
			}
			multiply_variable = {
				which = rural_population_removed
				value = -10
			}
			set_variable = {
				which = InvPopRatio
				value = 100
			}
			subtract_variable = {
				which = InvPopRatio
				which = urban_ratio
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = InvPopRatio
			}
			change_variable = {
				which = total_pop_r
				which = rural_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = rural_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = rural_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = rural_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = InvPopRatio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			set_variable = {
				which = urban_ratio
				value = 100
			}
			subtract_variable = {
				which = urban_ratio
				which = InvPopRatio
			}
			set_variable = {
				which = InvPopRatio
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_pop
							value = 0.01
						}
					}
				}
				set_variable = {
					which = rural_pop
					value = 0.01
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = ideal_rural_pop
							value = 1
						}
					}
				}
				set_variable = {
					which = ideal_rural_pop
					value = 1
				}
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_density
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_density
						value = 0.01
					}
				}
				set_variable = {
					which = total_pop_compare
					which = rural_density
				}
				multiply_variable = {
					which = total_pop_compare
					value = 2
				}
				if = {
					limit = {
						check_variable = {
							which = ideal_rural_pop
							which = total_pop_compare
						}
						check_variable = {
							which = rural_density
							value = 10
						}
					}
					set_variable = {
						which = ideal_rural_pop
						which = rural_density
					}
				}
				set_variable = {
					which = total_pop_compare
					value = 0
				}
				divide_variable = {
					which = rural_density
					which = ideal_rural_pop
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_density
							value = 0.5
						}
					}
				}
				set_variable = {
					which = rural_density
					value = 0.5
				}
			}
			if = {
				limit = {
					check_variable = {
						which = tribals_ratio
						value = 0.001
					}
					OR = {
						check_variable = {
							which = rural_percentage_removed
							value = 0.001
						}
						check_variable = {
							which = rural_base_pop_removed
							value = 0.001
						}
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
				}
				if = {
					limit = {
						OR = {
							is_city = yes
							is_colony = yes
						}
						has_province_flag = plague_attacked
						owner = {
							NOT = {
								is_tribal = yes
							}
						}
						NOT = {
							check_variable = {
								which = province_plague_immunity
								value = 0
							}
						}
						OR = {
							continent = north_america
							continent = south_america
							superregion = australia_superregion
						}
						OR = {
							AND = {
								owner = {
									is_colonial_nation = no
								}
								owner = {
									capital_scope = {
										continent = europe
									}
								}
							}
							AND = {
								owner = {
									is_colonial_nation = yes
								}
								owner = {
									colonial_parent = {
										capital_scope = {
											continent = europe
										}
									}
								}
							}
						}
					}
					set_variable = {
						which = rural_population_tribal_decrease
						which = rural_pop
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						which = rural_population_old
					}
					change_variable = {
						which = rural_population_tribal_decrease
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_decrease
					}
					set_variable = {
						which = rural_population_tribal_decrease
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
				else = {
					set_variable = {
						which = rural_population_tribal_increase
						which = rural_population_old
					}
					divide_variable = {
						which = rural_population_tribal_increase
						which = rural_pop
					}
					change_variable = {
						which = rural_population_tribal_increase
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_increase
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_increase
					}
					set_variable = {
						which = rural_population_tribal_increase
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0
			}
			set_variable = {
				which = rural_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_rural_transfered
				value = 0
			}
			set_variable = {
				which = rural_population_old
				value = 0
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = province_trauma
						value = 0.01
					}
				}
			}
			set_variable = {
				which = province_trauma
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = province_trauma
						value = 20
					}
				}
			}
			set_variable = {
				which = province_trauma_added
				value = 0
			}
			random_list = {
				10 = {
					change_variable = {
						which = province_trauma_added
						value = 2
					}
				}
				20 = {
					change_variable = {
						which = province_trauma_added
						value = 1.75
					}
				}
				40 = {
					change_variable = {
						which = province_trauma_added
						value = 1.5
					}
				}
				30 = {
					change_variable = {
						which = province_trauma_added
						value = 1
					}
				}
			}
			change_variable = {
				which = province_trauma
				which = province_trauma_added
			}
		}
		if = {
			limit = {
				check_variable = {
					which = province_trauma
					value = 6
				}
			}
			if = {
				limit = {
					check_variable = {
						which = province_trauma
						value = 8
					}
				}
				if = {
					limit = {
						check_variable = {
							which = province_trauma
							value = 10
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_devastating
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_devastating
							duration = -1
						}
						add_devastation = 100
					}
				}
				else = {
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_terrible
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_terrible
							duration = -1
						}
						add_devastation = -100
						add_devastation = 80
					}
				}
			}
			else = {
				if = {
					limit = {
						NOT = {
							has_province_modifier = trauma_harsh
						}
					}
					trigger_switch = {
						on_trigger = has_province_modifier
						trauma_mild = {
							remove_province_modifier = trauma_mild
						}
						trauma_limited = {
							remove_province_modifier = trauma_limited
						}
						trauma_harsh = {
							remove_province_modifier = trauma_harsh
						}
						trauma_terrible = {
							remove_province_modifier = trauma_terrible
						}
						trauma_devastating = {
							remove_province_modifier = trauma_devastating
						}
					}
					add_permanent_province_modifier = {
						name = trauma_harsh
						duration = -1
					}
					add_devastation = -100
					add_devastation = 60
				}
			}
		}
		else = {
			if = {
				limit = {
					check_variable = {
						which = province_trauma
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = province_trauma
							value = 4
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_limited
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_limited
							duration = -1
						}
						add_devastation = -100
						add_devastation = 40
					}
				}
				else = {
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_mild
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_mild
							duration = -1
						}
						add_devastation = -100
						add_devastation = 20
					}
				}
			}
		}
	}
	option = {
		name = "POP_province_damage.004.a"
	}
}
province_event = {
	id = POP_province_damage.005
	title = POP_province_damage.005.t
	desc = POP_province_damage.005.d
	picture = BURNING_CITY_eventPicture
	hidden = yes
	trigger = {
		has_province_modifier = rebel_occupied
		NOT = {
			has_province_modifier = rebel_damage_cooldown
		}
		is_colony = no
	}
	mean_time_to_happen = {
		months = 1
	}
	immediate = {
		add_province_modifier = {
			name = rebel_damage_cooldown
			duration = 750
			hidden = yes
		}
		set_variable = {
			which = urban_percentage_removed
			value = 0
		}
		set_variable = {
			which = rural_percentage_removed
			value = 0
		}
		random_list = {
			10 = {
				set_variable = {
					which = population_bleeding
					value = 0.05
				}
			}
			20 = {
				set_variable = {
					which = population_bleeding
					value = 0.04
				}
			}
			40 = {
				set_variable = {
					which = population_bleeding
					value = 0.03
				}
			}
			30 = {
				set_variable = {
					which = population_bleeding
					value = 0.02
				}
			}
		}
		multiply_variable = {
			which = population_bleeding
			value = 0.75
		}
		set_variable = {
			which = rural_percentage_removed
			which = population_bleeding
		}
		multiply_variable = {
			which = rural_percentage_removed
			value = 0.5
		}
		if = {
			limit = {
				check_variable = {
					which = rural_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.01
			}
		}
		set_variable = {
			which = urban_percentage_removed
			which = population_bleeding
		}
		multiply_variable = {
			which = urban_percentage_removed
			value = 2
		}
		if = {
			limit = {
				check_variable = {
					which = urban_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.01
			}
		}
		hidden_effect = {
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_pop
				}
				multiply_variable = {
					which = urban_population_removed
					which = urban_percentage_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_percentage_removed
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_base_pop_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				set_variable = {
					which = urban_pop_total
					value = 0
				}
				change_variable = {
					which = urban_pop_total
					which = urban_pop
				}
				set_variable = {
					which = urban_pop_loss_percent
					value = 0
				}
				set_variable = {
					which = urban_pop_loss_percent
					which = urban_base_pop_removed
				}
				if = {
					limit = {
						is_variable_equal = {
							which = urban_pop_total
							value = 0
						}
					}
				}
				else = {
					divide_variable = {
						which = urban_pop_loss_percent
						which = urban_pop_total
					}
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_pop_loss_percent
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = percent_urban_transfered
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_fleeing
					value = 0
				}
				set_variable = {
					which = urban_population_fleeing
					which = urban_population_removed
				}
				multiply_variable = {
					which = urban_population_fleeing
					which = percent_rural_transfered
				}
			}
			multiply_variable = {
				which = urban_population_removed
				value = -10
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = urban_ratio
			}
			change_variable = {
				which = total_pop_r
				which = urban_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = urban_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = urban_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = urban_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = urban_ratio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = urban_pop
							value = 0.001
						}
					}
				}
				set_variable = {
					which = urban_pop
					value = 0.001
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_gravity_total
						value = 0.01
					}
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = urban_ratio
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = urban_density
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				divide_variable = {
					which = urban_density
					which = urban_gravity_total
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = urban_density
								value = 0.5
							}
						}
					}
					set_variable = {
						which = urban_density
						value = 0.5
					}
				}
			}
			else = {
				set_variable = {
					which = urban_density
					value = 0
				}
			}
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0
			}
			set_variable = {
				which = urban_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_urban_transfered
				value = 0
			}
		}
		hidden_effect = {
			set_variable = {
				which = rural_population_old
				which = rural_pop
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_pop
				}
				multiply_variable = {
					which = rural_population_removed
					which = rural_percentage_removed
				}
				if = {
					limit = {
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
					set_variable = {
						which = rural_population_fleeing
						value = 0
					}
					set_variable = {
						which = rural_population_fleeing
						which = rural_population_removed
					}
					multiply_variable = {
						which = rural_population_fleeing
						which = percent_rural_transfered
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = rural_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_base_pop_removed
				}
			}
			multiply_variable = {
				which = rural_population_removed
				value = -10
			}
			set_variable = {
				which = InvPopRatio
				value = 100
			}
			subtract_variable = {
				which = InvPopRatio
				which = urban_ratio
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = InvPopRatio
			}
			change_variable = {
				which = total_pop_r
				which = rural_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = rural_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = rural_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = rural_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = InvPopRatio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			set_variable = {
				which = urban_ratio
				value = 100
			}
			subtract_variable = {
				which = urban_ratio
				which = InvPopRatio
			}
			set_variable = {
				which = InvPopRatio
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_pop
							value = 0.01
						}
					}
				}
				set_variable = {
					which = rural_pop
					value = 0.01
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = ideal_rural_pop
							value = 1
						}
					}
				}
				set_variable = {
					which = ideal_rural_pop
					value = 1
				}
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_density
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_density
						value = 0.01
					}
				}
				set_variable = {
					which = total_pop_compare
					which = rural_density
				}
				multiply_variable = {
					which = total_pop_compare
					value = 2
				}
				if = {
					limit = {
						check_variable = {
							which = ideal_rural_pop
							which = total_pop_compare
						}
						check_variable = {
							which = rural_density
							value = 10
						}
					}
					set_variable = {
						which = ideal_rural_pop
						which = rural_density
					}
				}
				set_variable = {
					which = total_pop_compare
					value = 0
				}
				divide_variable = {
					which = rural_density
					which = ideal_rural_pop
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_density
							value = 0.5
						}
					}
				}
				set_variable = {
					which = rural_density
					value = 0.5
				}
			}
			if = {
				limit = {
					check_variable = {
						which = tribals_ratio
						value = 0.001
					}
					OR = {
						check_variable = {
							which = rural_percentage_removed
							value = 0.001
						}
						check_variable = {
							which = rural_base_pop_removed
							value = 0.001
						}
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
				}
				if = {
					limit = {
						OR = {
							is_city = yes
							is_colony = yes
						}
						has_province_flag = plague_attacked
						owner = {
							NOT = {
								is_tribal = yes
							}
						}
						NOT = {
							check_variable = {
								which = province_plague_immunity
								value = 0
							}
						}
						OR = {
							continent = north_america
							continent = south_america
							superregion = australia_superregion
						}
						OR = {
							AND = {
								owner = {
									is_colonial_nation = no
								}
								owner = {
									capital_scope = {
										continent = europe
									}
								}
							}
							AND = {
								owner = {
									is_colonial_nation = yes
								}
								owner = {
									colonial_parent = {
										capital_scope = {
											continent = europe
										}
									}
								}
							}
						}
					}
					set_variable = {
						which = rural_population_tribal_decrease
						which = rural_pop
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						which = rural_population_old
					}
					change_variable = {
						which = rural_population_tribal_decrease
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_decrease
					}
					set_variable = {
						which = rural_population_tribal_decrease
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
				else = {
					set_variable = {
						which = rural_population_tribal_increase
						which = rural_population_old
					}
					divide_variable = {
						which = rural_population_tribal_increase
						which = rural_pop
					}
					change_variable = {
						which = rural_population_tribal_increase
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_increase
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_increase
					}
					set_variable = {
						which = rural_population_tribal_increase
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0
			}
			set_variable = {
				which = rural_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_rural_transfered
				value = 0
			}
			set_variable = {
				which = rural_population_old
				value = 0
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
		}
		set_variable = {
			which = population_bleeding
			value = 0
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = province_trauma
						value = 0.01
					}
				}
			}
			set_variable = {
				which = province_trauma
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = province_trauma
						value = 20
					}
				}
			}
			set_variable = {
				which = province_trauma_added
				value = 0
			}
			random_list = {
				30 = {
					change_variable = {
						which = province_trauma_added
						value = 1.25
					}
				}
				40 = {
					change_variable = {
						which = province_trauma_added
						value = 1
					}
				}
				30 = {
					change_variable = {
						which = province_trauma_added
						value = 0.75
					}
				}
			}
			change_variable = {
				which = province_trauma
				which = province_trauma_added
			}
		}
		if = {
			limit = {
				check_variable = {
					which = province_trauma
					value = 6
				}
			}
			if = {
				limit = {
					check_variable = {
						which = province_trauma
						value = 8
					}
				}
				if = {
					limit = {
						check_variable = {
							which = province_trauma
							value = 10
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_devastating
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_devastating
							duration = -1
						}
						add_devastation = 100
					}
				}
				else = {
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_terrible
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_terrible
							duration = -1
						}
						add_devastation = -100
						add_devastation = 80
					}
				}
			}
			else = {
				if = {
					limit = {
						NOT = {
							has_province_modifier = trauma_harsh
						}
					}
					trigger_switch = {
						on_trigger = has_province_modifier
						trauma_mild = {
							remove_province_modifier = trauma_mild
						}
						trauma_limited = {
							remove_province_modifier = trauma_limited
						}
						trauma_harsh = {
							remove_province_modifier = trauma_harsh
						}
						trauma_terrible = {
							remove_province_modifier = trauma_terrible
						}
						trauma_devastating = {
							remove_province_modifier = trauma_devastating
						}
					}
					add_permanent_province_modifier = {
						name = trauma_harsh
						duration = -1
					}
					add_devastation = -100
					add_devastation = 60
				}
			}
		}
		else = {
			if = {
				limit = {
					check_variable = {
						which = province_trauma
						value = 2
					}
				}
				if = {
					limit = {
						check_variable = {
							which = province_trauma
							value = 4
						}
					}
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_limited
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_limited
							duration = -1
						}
						add_devastation = -100
						add_devastation = 40
					}
				}
				else = {
					if = {
						limit = {
							NOT = {
								has_province_modifier = trauma_mild
							}
						}
						trigger_switch = {
							on_trigger = has_province_modifier
							trauma_mild = {
								remove_province_modifier = trauma_mild
							}
							trauma_limited = {
								remove_province_modifier = trauma_limited
							}
							trauma_harsh = {
								remove_province_modifier = trauma_harsh
							}
							trauma_terrible = {
								remove_province_modifier = trauma_terrible
							}
							trauma_devastating = {
								remove_province_modifier = trauma_devastating
							}
						}
						add_permanent_province_modifier = {
							name = trauma_mild
							duration = -1
						}
						add_devastation = -100
						add_devastation = 20
					}
				}
			}
		}
	}
	option = {
		name = "POP_province_damage.005.a"
	}
}
province_event = {
	id = POP_province_damage.006
	title = POP_province_damage.006.t
	desc = POP_province_damage.006.d
	picture = BURNING_CITY_eventPicture
	hidden = yes
	is_triggered_only = yes
	immediate = {
		set_variable = {
			which = wealth_urban_percentage_removed
			value = 0
		}
		random_list = {
			10 = {
				set_variable = {
					which = wealth_urban_percentage_removed
					value = 0.5
				}
			}
			20 = {
				set_variable = {
					which = wealth_urban_percentage_removed
					value = 0.4
				}
			}
			40 = {
				set_variable = {
					which = wealth_urban_percentage_removed
					value = 0.3
				}
			}
			30 = {
				set_variable = {
					which = wealth_urban_percentage_removed
					value = 0.2
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					which = wealth_urban_looted_fatigue
					value = 0.001
				}
			}
			set_variable = {
				which = temp_fatigue_modifier
				value = 1
			}
			subtract_variable = {
				which = temp_fatigue_modifier
				which = wealth_urban_looted_fatigue
			}
			multiply_variable = {
				which = wealth_urban_percentage_removed
				which = temp_fatigue_modifier
			}
			set_variable = {
				which = temp_fatigue_modifier
				value = 0
			}
		}
		else = {
			set_variable = {
				which = wealth_urban_looted_fatigue
				value = 0
			}
		}
		change_variable = {
			which = wealth_urban_looted_fatigue
			which = wealth_urban_percentage_removed
		}
		change_variable = {
			which = wealth_urban_looted_fatigue
			which = wealth_urban_percentage_removed
		}
		if = {
			limit = {
				check_variable = {
					which = wealth_urban_looted_fatigue
					value = 0.95
				}
			}
			set_variable = {
				which = wealth_urban_looted_fatigue
				value = 0.95
			}
		}
		if = {
			limit = {
				check_variable = {
					which = wealth_urban_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = wealth_urban_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = wealth_urban_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = wealth_urban_percentage_removed
				value = 0.01
			}
		}
		hidden_effect = {
			set_variable = {
				which = wealth_urban_total_damage
				value = 0
			}
			set_variable = {
				which = wealth_urban_fluid_damaged
				value = 0
			}
			set_variable = {
				which = wealth_urban_as_asset_damaged
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_urban_as_asset
						value = 0.001
					}
				}
				set_variable = {
					which = wealth_urban_as_asset_damaged
					which = wealth_urban_as_asset
				}
				multiply_variable = {
					which = wealth_urban_as_asset_damaged
					which = wealth_urban_percentage_removed
				}
			}
			set_variable = {
				which = wealth_urban_fluid_damaged
				which = wealth_urban_fluid
			}
			multiply_variable = {
				which = wealth_urban_fluid_damaged
				which = wealth_urban_percentage_removed
			}
			multiply_variable = {
				which = wealth_urban_percentage_removed
				value = 0.5
			}
			set_variable = {
				which = wealth_urban_total_damage
				which = wealth_urban_fluid_damaged
			}
			change_variable = {
				which = wealth_urban_total_damage
				which = wealth_urban_as_asset_damaged
			}
			if = {
				limit = {
					has_global_flag = show_for_developers
				}
				subtract_variable = {
					which = wealth_z_urban_gamelong_damage
					which = wealth_urban_total_damage
				}
			}
			subtract_variable = {
				which = wealth_urban_fluid
				which = wealth_urban_total_damage
			}
			set_variable = {
				which = wealth_urban_pillaging_threshold
				value = 0
			}
			subtract_variable = {
				which = wealth_urban_pillaging_threshold
				which = wealth_urban_as_asset
			}
			multiply_variable = {
				which = wealth_urban_pillaging_threshold
				value = 0.1
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = wealth_urban_fluid
							which = wealth_urban_pillaging_threshold
						}
					}
				}
				province_event = {
					id = POP_looting.001
				}
			}
			if = {
				limit = {
					NOT = {
						has_global_flag = show_for_developers
					}
				}
				set_variable = {
					which = wealth_urban_fluid_damaged
					value = 0
				}
				set_variable = {
					which = wealth_urban_as_asset_damaged
					value = 0
				}
				set_variable = {
					which = wealth_urban_percentage_removed
					value = 0
				}
			}
		}
		hidden_effect = {
			set_variable = {
				which = wealth_total_loot
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_rural_total_damage
						value = 0.001
					}
				}
				change_variable = {
					which = wealth_total_loot
					which = wealth_rural_total_damage
				}
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_urban_total_damage
						value = 0.001
					}
				}
				change_variable = {
					which = wealth_total_loot
					which = wealth_urban_total_damage
				}
			}
			set_variable = {
				which = wealth_loot_percent
				value = 0.4
			}
			set_variable = {
				which = country_loot_modifier
				which = controller
			}
			if = {
				limit = {
					NOT = {
						is_variable_equal = {
							which = country_loot_modifier
							value = 0
						}
					}
				}
				multiply_variable = {
					which = wealth_loot_percent
					which = country_loot_modifier
				}
				set_variable = {
					which = country_loot_modifier
					value = 0
				}
			}
			multiply_variable = {
				which = wealth_total_loot
				which = wealth_loot_percent
			}
			controller = {
				set_variable = {
					which = wealth_total_loot
					which = PREV
				}
				change_variable = {
					which = loot_pool_moving
					which = wealth_total_loot
				}
				set_variable = {
					which = wealth_total_loot
					value = 0
				}
			}
			set_variable = {
				which = wealth_total_loot
				value = 0
			}
			set_variable = {
				which = wealth_loot_percent
				value = 0
			}
			if = {
				limit = {
					NOT = {
						has_global_flag = show_for_developers
					}
				}
				set_variable = {
					which = wealth_rural_total_damage
					value = 0
				}
				set_variable = {
					which = wealth_urban_total_damage
					value = 0
				}
			}
		}
		add_permanent_province_modifier = {
			name = province_looted_this_war
			duration = -1
		}
		add_province_modifier = {
			name = province_damaged
			duration = -1
			hidden = yes
		}
		add_province_modifier = {
			name = province_damage_cooldown
			duration = 365
			hidden = yes
		}
		set_variable = {
			which = urban_percentage_removed
			value = 0
		}
		random_list = {
			10 = {
				set_variable = {
					which = population_bloodied
					value = 0.5
				}
			}
			20 = {
				set_variable = {
					which = population_bloodied
					value = 0.4
				}
			}
			40 = {
				set_variable = {
					which = population_bloodied
					value = 0.3
				}
			}
			20 = {
				set_variable = {
					which = population_bloodied
					value = 0.2
				}
			}
			10 = {
				set_variable = {
					which = population_bloodied
					value = 0.15
				}
			}
		}
		set_variable = {
			which = urban_percentage_removed
			which = population_bloodied
		}
		if = {
			limit = {
				check_variable = {
					which = urban_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.1
					}
				}
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0.1
			}
		}
		hidden_effect = {
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = urban_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_pop
				}
				multiply_variable = {
					which = urban_population_removed
					which = urban_percentage_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_percentage_removed
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_removed
					which = urban_base_pop_removed
				}
				set_variable = {
					which = urban_continent_food_loss
					value = 0
				}
				set_variable = {
					which = urban_continent_food_loss
					which = eats_continent_food
				}
				set_variable = {
					which = urban_pop_total
					value = 0
				}
				change_variable = {
					which = urban_pop_total
					which = urban_pop
				}
				set_variable = {
					which = urban_pop_loss_percent
					value = 0
				}
				set_variable = {
					which = urban_pop_loss_percent
					which = urban_base_pop_removed
				}
				if = {
					limit = {
						is_variable_equal = {
							which = urban_pop_total
							value = 0
						}
					}
				}
				else = {
					divide_variable = {
						which = urban_pop_loss_percent
						which = urban_pop_total
					}
				}
				multiply_variable = {
					which = urban_continent_food_loss
					which = urban_pop_loss_percent
				}
				subtract_variable = {
					which = eats_continent_food
					which = urban_continent_food_loss
				}
			}
			if = {
				limit = {
					check_variable = {
						which = percent_urban_transfered
						value = 0.001
					}
				}
				set_variable = {
					which = urban_population_fleeing
					value = 0
				}
				set_variable = {
					which = urban_population_fleeing
					which = urban_population_removed
				}
				multiply_variable = {
					which = urban_population_fleeing
					which = percent_rural_transfered
				}
			}
			multiply_variable = {
				which = urban_population_removed
				value = -10
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = urban_ratio
			}
			change_variable = {
				which = total_pop_r
				which = urban_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = urban_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = urban_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = urban_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = urban_ratio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = urban_pop
							value = 0.001
						}
					}
				}
				set_variable = {
					which = urban_pop
					value = 0.001
				}
			}
			if = {
				limit = {
					check_variable = {
						which = urban_gravity_total
						value = 0.01
					}
				}
				set_variable = {
					which = t1_P_RTV
					which = total_pop_r
				}
				multiply_variable = {
					which = t1_P_RTV
					which = urban_ratio
				}
				set_variable = {
					which = t2_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t1_P_RTV
					value = 0.01
				}
				set_variable = {
					which = t3_P_RTV
					which = t1_P_RTV
				}
				multiply_variable = {
					which = t3_P_RTV
					value = -100
				}
				change_variable = {
					which = t3_P_RTV
					which = t2_P_RTV
				}
				if = {
					limit = {
						check_variable = {
							which = t3_P_RTV
							value = 0.05
						}
					}
					change_variable = {
						which = t1_P_RTV
						value = 0.001
					}
				}
				set_variable = {
					which = urban_density
					which = t1_P_RTV
				}
				set_variable = {
					which = t1_P_RTV
					value = 0
				}
				set_variable = {
					which = t2_P_RTV
					value = 0
				}
				set_variable = {
					which = t3_P_RTV
					value = 0
				}
				divide_variable = {
					which = urban_density
					which = urban_gravity_total
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = urban_density
								value = 0.5
							}
						}
					}
					set_variable = {
						which = urban_density
						value = 0.5
					}
				}
			}
			else = {
				set_variable = {
					which = urban_density
					value = 0
				}
			}
			set_variable = {
				which = urban_population_removed
				value = 0
			}
			set_variable = {
				which = urban_percentage_removed
				value = 0
			}
			set_variable = {
				which = urban_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_urban_transfered
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					has_global_flag = show_for_developers
				}
			}
			set_variable = {
				which = population_bloodied
				value = 0
			}
		}
	}
	option = {
		name = "POP_province_damage.006.a"
	}
}
province_event = {
	id = POP_province_damage.007
	title = POP_province_damage.007.t
	desc = POP_province_damage.007.d
	picture = BURNING_CITY_eventPicture
	hidden = yes
	is_triggered_only = yes
	immediate = {
		set_variable = {
			which = wealth_rural_percentage_removed
			value = 0
		}
		random_list = {
			10 = {
				set_variable = {
					which = wealth_rural_percentage_removed
					value = 0.3
				}
			}
			20 = {
				set_variable = {
					which = wealth_rural_percentage_removed
					value = 0.25
				}
			}
			40 = {
				set_variable = {
					which = wealth_rural_percentage_removed
					value = 0.2
				}
			}
			30 = {
				set_variable = {
					which = wealth_rural_percentage_removed
					value = 0.15
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					which = wealth_rural_looted_fatigue
					value = 0.001
				}
			}
			set_variable = {
				which = temp_fatigue_modifier
				value = 1
			}
			subtract_variable = {
				which = temp_fatigue_modifier
				which = wealth_rural_looted_fatigue
			}
			multiply_variable = {
				which = wealth_rural_percentage_removed
				which = temp_fatigue_modifier
			}
			set_variable = {
				which = temp_fatigue_modifier
				value = 0
			}
		}
		else = {
			set_variable = {
				which = wealth_rural_looted_fatigue
				value = 0
			}
		}
		change_variable = {
			which = wealth_rural_looted_fatigue
			which = wealth_rural_percentage_removed
		}
		change_variable = {
			which = wealth_rural_looted_fatigue
			which = wealth_rural_percentage_removed
		}
		if = {
			limit = {
				check_variable = {
					which = wealth_rural_looted_fatigue
					value = 0.95
				}
			}
			set_variable = {
				which = wealth_rural_looted_fatigue
				value = 0.95
			}
		}
		if = {
			limit = {
				check_variable = {
					which = wealth_rural_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = wealth_rural_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = wealth_rural_percentage_removed
						value = 0.01
					}
				}
			}
			set_variable = {
				which = wealth_rural_percentage_removed
				value = 0.01
			}
		}
		hidden_effect = {
			set_variable = {
				which = wealth_rural_total_damage
				value = 0
			}
			set_variable = {
				which = wealth_rural_fluid_damaged
				value = 0
			}
			set_variable = {
				which = wealth_rural_fluid_damaged
				which = wealth_rural_fluid
			}
			multiply_variable = {
				which = wealth_rural_fluid_damaged
				which = wealth_rural_percentage_removed
			}
			set_variable = {
				which = wealth_rural_as_asset_damaged
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_rural_as_asset
						value = 0.001
					}
				}
				set_variable = {
					which = wealth_rural_as_asset_damaged
					which = wealth_rural_as_asset
				}
				multiply_variable = {
					which = wealth_rural_as_asset_damaged
					which = wealth_rural_percentage_removed
				}
				divide_variable = {
					which = wealth_rural_as_asset_damaged
					value = 1.5
				}
			}
			set_variable = {
				which = wealth_rural_total_damage
				which = wealth_rural_fluid_damaged
			}
			change_variable = {
				which = wealth_rural_total_damage
				which = wealth_rural_as_asset_damaged
			}
			if = {
				limit = {
					has_global_flag = show_for_developers
				}
				subtract_variable = {
					which = wealth_z_rural_gamelong_damage
					which = wealth_rural_total_damage
				}
			}
			subtract_variable = {
				which = wealth_rural_fluid
				which = wealth_rural_total_damage
			}
			if = {
				limit = {
					check_variable = {
						which = farm_efficiency_ducats_invested
						value = 0.001
					}
				}
				set_variable = {
					which = farm_efficiency_ducats_damaged
					value = 0
				}
				set_variable = {
					which = farm_efficiency_ducats_damaged
					which = farm_efficiency_ducats_invested
				}
				multiply_variable = {
					which = farm_efficiency_ducats_damaged
					which = wealth_rural_percentage_removed
				}
				multiply_variable = {
					which = farm_efficiency_ducats_damaged
					value = 0.75
				}
				subtract_variable = {
					which = farm_efficiency_ducats_invested
					which = farm_efficiency_ducats_damaged
				}
			}
			multiply_variable = {
				which = farm_efficiency_ducats_damaged
				value = 0.15
			}
			change_variable = {
				which = wealth_rural_total_damage
				which = farm_efficiency_ducats_damaged
			}
			if = {
				limit = {
					has_global_flag = show_for_developers
				}
				change_variable = {
					which = farm_efficiency_z_ducats_gamelong_damaged
					which = farm_efficiency_ducats_damaged
				}
			}
			if = {
				limit = {
					check_variable = {
						which = rural_production_power
						value = 0.001
					}
				}
				set_variable = {
					which = rural_production_power_damaged
					value = 0
				}
				set_variable = {
					which = rural_production_power_damaged
					which = wealth_rural_percentage_removed
				}
				multiply_variable = {
					which = rural_production_power_damaged
					which = rural_production_power
				}
				subtract_variable = {
					which = rural_production_power
					which = rural_production_power_damaged
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = rural_production_power
								value = 0.1
							}
						}
					}
					set_variable = {
						which = rural_production_power
						value = 0.1
					}
				}
			}
			set_variable = {
				which = wealth_rural_pillaging_threshold
				value = 0
			}
			subtract_variable = {
				which = wealth_rural_pillaging_threshold
				which = wealth_rural_as_asset
			}
			multiply_variable = {
				which = wealth_rural_pillaging_threshold
				value = 0.1
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = wealth_rural_fluid
							which = wealth_rural_pillaging_threshold
						}
					}
				}
				province_event = {
					id = POP_looting.004
				}
			}
			if = {
				limit = {
					NOT = {
						has_global_flag = show_for_developers
					}
				}
				set_variable = {
					which = wealth_rural_fluid_damaged
					value = 0
				}
				set_variable = {
					which = wealth_rural_as_asset_damaged
					value = 0
				}
				set_variable = {
					which = wealth_rural_percentage_removed
					value = 0
				}
				set_variable = {
					which = farm_efficiency_ducats_damaged
					value = 0
				}
				set_variable = {
					which = rural_production_power_damaged
					value = 0
				}
			}
		}
		hidden_effect = {
			set_variable = {
				which = wealth_total_loot
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_rural_total_damage
						value = 0.001
					}
				}
				change_variable = {
					which = wealth_total_loot
					which = wealth_rural_total_damage
				}
			}
			if = {
				limit = {
					check_variable = {
						which = wealth_urban_total_damage
						value = 0.001
					}
				}
				change_variable = {
					which = wealth_total_loot
					which = wealth_urban_total_damage
				}
			}
			set_variable = {
				which = wealth_loot_percent
				value = 0.4
			}
			set_variable = {
				which = country_loot_modifier
				which = controller
			}
			if = {
				limit = {
					NOT = {
						is_variable_equal = {
							which = country_loot_modifier
							value = 0
						}
					}
				}
				multiply_variable = {
					which = wealth_loot_percent
					which = country_loot_modifier
				}
				set_variable = {
					which = country_loot_modifier
					value = 0
				}
			}
			multiply_variable = {
				which = wealth_total_loot
				which = wealth_loot_percent
			}
			controller = {
				set_variable = {
					which = wealth_total_loot
					which = PREV
				}
				change_variable = {
					which = loot_pool_moving
					which = wealth_total_loot
				}
				set_variable = {
					which = wealth_total_loot
					value = 0
				}
			}
			set_variable = {
				which = wealth_total_loot
				value = 0
			}
			set_variable = {
				which = wealth_loot_percent
				value = 0
			}
			if = {
				limit = {
					NOT = {
						has_global_flag = show_for_developers
					}
				}
				set_variable = {
					which = wealth_rural_total_damage
					value = 0
				}
				set_variable = {
					which = wealth_urban_total_damage
					value = 0
				}
			}
		}
		add_province_modifier = {
			name = province_damaged
			duration = -1
			hidden = yes
		}
		add_province_modifier = {
			name = province_damage_cooldown
			duration = 365
			hidden = yes
		}
		set_variable = {
			which = rural_percentage_removed
			value = 0
		}
		random_list = {
			10 = {
				set_variable = {
					which = population_bloodied
					value = 0.3
				}
			}
			20 = {
				set_variable = {
					which = population_bloodied
					value = 0.25
				}
			}
			40 = {
				set_variable = {
					which = population_bloodied
					value = 0.2
				}
			}
			30 = {
				set_variable = {
					which = population_bloodied
					value = 0.15
				}
			}
		}
		set_variable = {
			which = rural_percentage_removed
			which = population_bloodied
		}
		if = {
			limit = {
				check_variable = {
					which = rural_percentage_removed
					value = 0.9
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.9
			}
		}
		else_if = {
			limit = {
				NOT = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.1
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0.1
			}
		}
		hidden_effect = {
			set_variable = {
				which = rural_population_old
				which = rural_pop
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_percentage_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_pop
				}
				multiply_variable = {
					which = rural_population_removed
					which = rural_percentage_removed
				}
				if = {
					limit = {
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
					set_variable = {
						which = rural_population_fleeing
						value = 0
					}
					set_variable = {
						which = rural_population_fleeing
						which = rural_population_removed
					}
					multiply_variable = {
						which = rural_population_fleeing
						which = percent_rural_transfered
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = rural_base_pop_removed
						value = 0.001
					}
				}
				set_variable = {
					which = rural_population_removed
					which = rural_base_pop_removed
				}
			}
			multiply_variable = {
				which = rural_population_removed
				value = -10
			}
			set_variable = {
				which = InvPopRatio
				value = 100
			}
			subtract_variable = {
				which = InvPopRatio
				which = urban_ratio
			}
			set_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			multiply_variable = {
				which = PopRealValue
				which = InvPopRatio
			}
			change_variable = {
				which = total_pop_r
				which = rural_population_removed
			}
			set_variable = {
				which = PopRealChange
				which = rural_population_removed
			}
			multiply_variable = {
				which = PopRealChange
				value = 100
			}
			change_variable = {
				which = PopRealValue
				which = PopRealChange
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 1
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 1
				}
			}
			set_variable = {
				which = rural_pop
				which = PopRealValue
			}
			multiply_variable = {
				which = rural_pop
				value = 0.001
			}
			divide_variable = {
				which = PopRealValue
				which = total_pop_r
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = PopRealValue
							value = 0.001
						}
					}
				}
				set_variable = {
					which = PopRealValue
					value = 0.001
				}
			}
			set_variable = {
				which = InvPopRatio
				which = PopRealValue
			}
			set_variable = {
				which = total_pop
				which = total_pop_r
			}
			multiply_variable = {
				which = total_pop
				value = 0.1
			}
			set_variable = {
				which = PopRealValue
				value = 0
			}
			set_variable = {
				which = PopRealChange
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			set_variable = {
				which = urban_ratio
				value = 100
			}
			subtract_variable = {
				which = urban_ratio
				which = InvPopRatio
			}
			set_variable = {
				which = InvPopRatio
				value = 0
			}
			set_variable = {
				which = tempRural
				which = rural_pop_display
			}
			set_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			set_variable = {
				which = rural_pop_display
				value = 0
			}
			set_variable = {
				which = urban_pop_display
				value = 0
			}
			set_variable = {
				which = upper_pop_display
				value = 0
			}
			set_variable = {
				which = total_pop_display
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = urban_ratio
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = urban_pop_display
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			change_variable = {
				which = upper_pop_display
				which = upper_pop_r
			}
			change_variable = {
				which = total_pop_display
				which = total_pop_r
			}
			subtract_variable = {
				which = tempRural
				which = rural_pop_display
			}
			subtract_variable = {
				which = tempUrban
				which = urban_pop_display
			}
			subtract_variable = {
				which = rural_change_display
				which = tempRural
			}
			subtract_variable = {
				which = urban_change_display
				which = tempUrban
			}
			set_variable = {
				which = tempRural
				value = 0
			}
			set_variable = {
				which = tempUrban
				value = 0
			}
			set_variable = {
				which = total_change_display
				which = rural_change_display
			}
			change_variable = {
				which = total_change_display
				which = urban_change_display
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_pop
							value = 0.01
						}
					}
				}
				set_variable = {
					which = rural_pop
					value = 0.01
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = ideal_rural_pop
							value = 1
						}
					}
				}
				set_variable = {
					which = ideal_rural_pop
					value = 1
				}
			}
			set_variable = {
				which = t_P_ITV
				value = 100
			}
			subtract_variable = {
				which = t_P_ITV
				which = urban_ratio
			}
			set_variable = {
				which = t1_P_RTV
				which = total_pop_r
			}
			multiply_variable = {
				which = t1_P_RTV
				which = t_P_ITV
			}
			set_variable = {
				which = t2_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t1_P_RTV
				value = 0.01
			}
			set_variable = {
				which = t3_P_RTV
				which = t1_P_RTV
			}
			multiply_variable = {
				which = t3_P_RTV
				value = -100
			}
			change_variable = {
				which = t3_P_RTV
				which = t2_P_RTV
			}
			if = {
				limit = {
					check_variable = {
						which = t3_P_RTV
						value = 0.05
					}
				}
				change_variable = {
					which = t1_P_RTV
					value = 0.001
				}
			}
			set_variable = {
				which = rural_density
				which = t1_P_RTV
			}
			set_variable = {
				which = t1_P_RTV
				value = 0
			}
			set_variable = {
				which = t2_P_RTV
				value = 0
			}
			set_variable = {
				which = t3_P_RTV
				value = 0
			}
			set_variable = {
				which = t_P_ITV
				value = 0
			}
			if = {
				limit = {
					check_variable = {
						which = rural_density
						value = 0.01
					}
				}
				set_variable = {
					which = total_pop_compare
					which = rural_density
				}
				multiply_variable = {
					which = total_pop_compare
					value = 2
				}
				if = {
					limit = {
						check_variable = {
							which = ideal_rural_pop
							which = total_pop_compare
						}
						check_variable = {
							which = rural_density
							value = 10
						}
					}
					set_variable = {
						which = ideal_rural_pop
						which = rural_density
					}
				}
				set_variable = {
					which = total_pop_compare
					value = 0
				}
				divide_variable = {
					which = rural_density
					which = ideal_rural_pop
				}
			}
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = rural_density
							value = 0.5
						}
					}
				}
				set_variable = {
					which = rural_density
					value = 0.5
				}
			}
			if = {
				limit = {
					check_variable = {
						which = tribals_ratio
						value = 0.001
					}
					OR = {
						check_variable = {
							which = rural_percentage_removed
							value = 0.001
						}
						check_variable = {
							which = rural_base_pop_removed
							value = 0.001
						}
						check_variable = {
							which = percent_rural_transfered
							value = 0.001
						}
					}
				}
				if = {
					limit = {
						OR = {
							is_city = yes
							is_colony = yes
						}
						has_province_flag = plague_attacked
						owner = {
							NOT = {
								is_tribal = yes
							}
						}
						NOT = {
							check_variable = {
								which = province_plague_immunity
								value = 0
							}
						}
						OR = {
							continent = north_america
							continent = south_america
							superregion = australia_superregion
						}
						OR = {
							AND = {
								owner = {
									is_colonial_nation = no
								}
								owner = {
									capital_scope = {
										continent = europe
									}
								}
							}
							AND = {
								owner = {
									is_colonial_nation = yes
								}
								owner = {
									colonial_parent = {
										capital_scope = {
											continent = europe
										}
									}
								}
							}
						}
					}
					set_variable = {
						which = rural_population_tribal_decrease
						which = rural_pop
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						which = rural_population_old
					}
					change_variable = {
						which = rural_population_tribal_decrease
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_decrease
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_decrease
					}
					set_variable = {
						which = rural_population_tribal_decrease
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
				else = {
					set_variable = {
						which = rural_population_tribal_increase
						which = rural_population_old
					}
					divide_variable = {
						which = rural_population_tribal_increase
						which = rural_pop
					}
					change_variable = {
						which = rural_population_tribal_increase
						value = 0.5
					}
					divide_variable = {
						which = rural_population_tribal_increase
						value = 1.5
					}
					multiply_variable = {
						which = tribals_ratio
						which = rural_population_tribal_increase
					}
					set_variable = {
						which = rural_population_tribal_increase
						value = 0
					}
					if = {
						limit = {
							check_variable = {
								which = tribals_ratio
								value = 100
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 100
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = tribals_ratio
									value = 0
								}
							}
						}
						set_variable = {
							which = tribals_ratio
							value = 0
						}
					}
					set_variable = {
						which = tribals_ratio_display
						which = tribals_ratio
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 0.01
					}
					multiply_variable = {
						which = tribals_ratio_display
						value = 100
					}
				}
			}
			set_variable = {
				which = rural_percentage_removed
				value = 0
			}
			set_variable = {
				which = rural_base_pop_removed
				value = 0
			}
			set_variable = {
				which = percent_rural_transfered
				value = 0
			}
			set_variable = {
				which = rural_population_old
				value = 0
			}
			set_variable = {
				which = rural_population_removed
				value = 0
			}
		}
		if = {
			limit = {
				NOT = {
					has_global_flag = show_for_developers
				}
			}
			set_variable = {
				which = population_bloodied
				value = 0
			}
		}
	}
	option = {
		name = "POP_province_damage.007.a"
	}
}
